/*! For license information please see main.b620b09f.js.LICENSE.txt */
(()=>{"use strict";var e={43(e,t,n){e.exports=n(202)},153(e,t,n){var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,x(o)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),T(o,t,a,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(i=e[c],c);l+=T(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,a,u=s+C(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(v=!1,w(e),!m)if(null!==r(c))m=!0,A(k);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(E),E=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,j=null,E=-1,N=5,C=-1;function T(){return!(t.unstable_now()-C<N)}function R(){if(null!==j){var e=t.unstable_now();C=e;var n=!0;try{n=j(!0,e)}finally{n?_():(S=!1,j=null)}}else S=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){g(R,0)};function A(e){j=e,S||(S=!0,_())}function D(e,n){E=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(v?(y(E),E=-1):v=!0,D(x,s-o))):(e.sortIndex=i,n(c,e),m||p||(m=!0,A(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579(e,t,n){e.exports=n(153)},730(e,t,n){var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case j:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function je(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ne(){if(_e){var e=_e,t=Se;if(Se=_e=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Te(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ae=!1}function Ie(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,ze=!1,Ue=null,Fe={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,a,s,o,i,l){Le=!1,Me=null,Ie.apply(Fe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ke(a),e;if(o===r)return Ke(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=dt(i):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~a)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,_t,St,jt,Et=!1,Nt=[],Ct=null,Tt=null,Rt=null,Ot=new Map,Pt=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ya(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void jt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){zt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Rt&&zt(Rt)&&(Rt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==Rt&&Bt(Rt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Wt=w.ReactCurrentBatchConfig,Kt=!0;function Vt(e,t,n,r){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,Wt.transition=s}}function Ht(e,t,n,r){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,Wt.transition=s}}function Gt(e,t,n,r){if(Kt){var a=$t(e,t,n,r);if(null===a)Kr(e,t,r,Jt,n),It(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,a),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&xt(s),null===(s=$t(e,t,n,r))&&Kr(e,t,r,Jt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Jt=null;function $t(e,t,n,r){if(Jt=null,null!==(e=ya(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(M({},fn,{dataTransfer:0})),vn=an(M({},dn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function jn(){return Sn}var En=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(En),Cn=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Rn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),An=[9,13,27,32],Dn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Ln=u&&"TextEvent"in window&&!In,Mn=u&&(!Dn||In&&8<In&&11>=In),zn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Jn(e){zr(e,0)}function $n(e){if(G(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Vn(t,Gn,e,xe(e)),Oe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Sr={};function jr(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=jr("animationend"),Nr=jr("animationiteration"),Cr=jr("animationstart"),Tr=jr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Dr=Or[Ar];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,ze||(ze=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Mr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Mr(a,i,c),s=l}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Ur(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var a=Vt;break;case 4:a=Ht;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ya(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Oe(function(){var r=s,a=xe(n),o=[];e:{var i=Rr.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Nr:case Cr:l=gn;break;case Tr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Vr(p,m,f)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?i:wa(l),f=null==c?i:wa(c),(i=new u(m,p+"leave",l,n,a)).target=d,i.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Jr(o,i,l,u,!1),null!==c&&null!==d&&Jr(o,d,c,u,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var v=Yn;else if(Kn(i))if(Qn)v=or;else{v=ar;var g=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(v=sr);switch(v&&(v=v(e,r))?Vn(o,v,n,a):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?wa(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Qt=a)?Qt.value:Qt.textContent,qn=!0)),0<(g=Hr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,zn);case"textInput":return(e=t.data)===zn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=Xt=Qt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}zr(o,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Pe(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Pe(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Pe(n,s))&&o.unshift(Vr(n,l,i)):a||null!=(l=Pe(n,s))&&o.push(Vr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var ka=[],_a=-1;function Sa(e){return{current:e}}function ja(e){0>_a||(e.current=ka[_a],ka[_a]=null,_a--)}function Ea(e,t){_a++,ka[_a]=e.current,e.current=t}var Na={},Ca=Sa(Na),Ta=Sa(!1),Ra=Na;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){ja(Ta),ja(Ca)}function Da(e,t,n){if(Ca.current!==Na)throw Error(s(168));Ea(Ca,t),Ea(Ta,n)}function Ia(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return M({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ra=Ca.current,Ea(Ca,e),Ea(Ta,Ta.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ia(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,ja(Ta),ja(Ca),Ea(Ca,e)):ja(Ta),Ea(Ta,n)}var za=null,Ua=!1,Fa=!1;function Ba(e){null===za?za=[e]:za.push(e)}function qa(){if(!Fa&&null!==za){Fa=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ua=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ge(Ze,qa),a}finally{bt=t,Fa=!1}}return null}var Wa=[],Ka=0,Va=null,Ha=0,Ga=[],Ja=0,$a=null,Ya=1,Qa="";function Xa(e,t){Wa[Ka++]=Ha,Wa[Ka++]=Va,Va=e,Ha=t}function Za(e,t,n){Ga[Ja++]=Ya,Ga[Ja++]=Qa,Ga[Ja++]=$a,$a=e;var r=Ya;e=Qa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ya=1<<32-ot(t)+a|n<<a|r,Qa=s+e}else Ya=1<<s|n<<a|r,Qa=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Wa[--Ka],Wa[Ka]=null,Ha=Wa[--Ka],Wa[Ka]=null;for(;e===$a;)$a=Ga[--Ja],Ga[Ja]=null,Qa=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=a(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case k:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||I(n))return null!==a?null:d(e,t,n,r,null);gs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function m(a,s,i,l){for(var c=null,u=null,d=s,m=s=0,v=null;null!==d&&m<i.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,i[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===i.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<i.length;m++)null!==(v=p(d,a,m,i[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function v(a,i,l,c){var u=I(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=i,v=i=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),i=o(b,i,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),as&&Xa(a,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(a,y.value,c))&&(i=o(y,i,v),null===d?u=y:d.sibling=y,d=y);return as&&Xa(a,v),u}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),i=o(y,i,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,v),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=vs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===_?((s=Ic(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=vs(r,s,o),l.return=r,r=l)}return i(r);case k:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(o,r.mode,l)).return=r,r=s}return i(r);case P:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(I(o))return v(r,s,o,l);gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Mc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Sa(null),_s=null,Ss=null,js=null;function Es(){js=Ss=_s=null}function Ns(e){var t=ks.current;ja(ks),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){_s=e,js=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wi=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(js!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===_s)throw Error(s(308));Ss=e,_s.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Os=null;function Ps(e){null===Os?Os=[e]:Os.push(e)}function As(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ps(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ds(e,n)}return null===(a=r.interleaved)?(t.next=t,Ps(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ds(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var a=e.updateQueue;Is=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Is=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ks={},Vs=Sa(Ks),Hs=Sa(Ks),Gs=Sa(Ks);function Js(e){if(e===Ks)throw Error(s(174));return e}function $s(e,t){switch(Ea(Gs,t),Ea(Hs,e),Ea(Vs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ja(Vs),Ea(Vs,t)}function Ys(){ja(Vs),ja(Hs),ja(Gs)}function Qs(e){Js(Gs.current);var t=Js(Vs.current),n=le(t,e.type);t!==n&&(Ea(Hs,e),Ea(Vs,n))}function Xs(e){Hs.current===e&&(ja(Vs),ja(Hs))}var Zs=Sa(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,oo=0,io=null,lo=null,co=null,uo=!1,ho=!1,fo=0,po=0;function mo(){throw Error(s(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(oo=o,io=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?ei:ti,e=n(r,a),ho){o=0;do{if(ho=!1,fo=0,25<=o)throw Error(s(301));o+=1,co=lo=null,t.updateQueue=null,ro.current=ni,e=n(r,a)}while(ho)}if(ro.current=Zo,t=null!==lo&&null!==lo.next,oo=0,co=lo=io=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==fo;return fo=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?io.memoizedState=co=e:co=co.next=e,co}function wo(){if(null===lo){var e=io.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?io.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?io.memoizedState=co=e:co=co.next=e}return co}function xo(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=lo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((oo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,io.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(wi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,io.lanes|=o,Ll|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(wi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function jo(e,t){var n=io,r=wo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,wi=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Po(9,No.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&oo)||Eo(n,t,a)}return a}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&Ro(e)}function Co(e,t,n){return n(function(){To(t)&&Ro(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ro(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Oo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,io,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return wo().memoizedState}function Do(e,t,n,r){var a=bo();io.flags|=e,a.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var a=wo();r=void 0===r?null:r;var s=void 0;if(null!==lo){var o=lo.memoizedState;if(s=o.destroy,null!==r&&vo(r,o.deps))return void(a.memoizedState=Po(t,n,s,r))}io.flags|=e,a.memoizedState=Po(1|t,n,s,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Io(2048,8,e,t)}function zo(e,t){return Io(4,2,e,t)}function Uo(e,t){return Io(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,4,Fo.bind(null,t,e),n)}function qo(){}function Wo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),io.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ho(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Go(){return wo().memoizedState}function Jo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=As(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function $o(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ps(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=As(e,t,a,r))&&(nc(n,e,r,a=ec()),Xo(n,t,r))}}function Yo(e){var t=e.alternate;return e===io||null!==t&&t===io}function Qo(e,t){ho=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:Rs,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},ei={readContext:Rs,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,io,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Oo,useDebugValue:qo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Ho.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=io,a=bo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&oo)||Eo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Tl.identifierPrefix;if(as){var n=Qa;t=":"+t+"R"+(n=(Ya&~(1<<32-ot(Ya)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ti={readContext:Rs,useCallback:Wo,useContext:Rs,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:zo,useLayoutEffect:Uo,useMemo:Ko,useReducer:ko,useRef:Ao,useState:function(){return ko(xo)},useDebugValue:qo,useDeferredValue:function(e){return Vo(wo(),lo.memoizedState,e)},useTransition:function(){return[ko(xo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1},ni={readContext:Rs,useCallback:Wo,useContext:Rs,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:zo,useLayoutEffect:Uo,useMemo:Ko,useReducer:_o,useRef:Ao,useState:function(){return _o(xo)},useDebugValue:qo,useDeferredValue:function(e){var t=wo();return null===lo?t.memoizedState=e:Vo(t,lo.memoizedState,e)},useTransition:function(){return[_o(xo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ai(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,a))&&(nc(t,e,a,r),Fs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,a))&&(nc(t,e,a,r),Fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Us(e,a,r))&&(nc(t,e,r,n),Fs(t,e,r))}};function oi(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function ii(e,t,n){var r=!1,a=Na,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=Pa(t)?Ra:Ca.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Na),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=Pa(t)?Ra:Ca.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&si.enqueueReplaceState(a,a.state,null),qs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Vl=r),hi(0,t)},n}function mi(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hi(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){hi(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=w.ReactCurrentOwner,wi=!1;function xi(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function ki(e,t,n,r,a){n=n.render;var s=t.ref;return Ts(t,a),r=go(e,t,n,r,s,a),n=yo(),null===e||wi?(as&&n&&es(t),t.flags|=1,xi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a))}function _i(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Si(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ki(e,t,a)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function Si(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ki(e,t,a);0!==(131072&e.flags)&&(wi=!0)}}return Ni(e,t,n,r,a)}function ji(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Al,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Al,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ea(Al,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ea(Al,Pl),Pl|=r;return xi(e,t,a,n),t.child}function Ei(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,a){var s=Pa(n)?Ra:Ca.current;return s=Oa(t,s),Ts(t,a),n=go(e,t,n,r,s,a),r=yo(),null===e||wi?(as&&r&&es(t),t.flags|=1,xi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a))}function Ci(e,t,n,r,a){if(Pa(n)){var s=!0;La(t)}else s=!1;if(Ts(t,a),null===t.stateNode)Wi(e,t),ii(t,n,r),ci(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Oa(t,c=Pa(n)?Ra:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&li(t,o,r,c),Is=!1;var h=t.memoizedState;o.state=h,qs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Ta.current||Is?("function"===typeof u&&(ai(t,n,u,r),l=t.memoizedState),(i=Is||oi(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Oa(t,l=Pa(n)?Ra:Ca.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&li(t,o,r,l),Is=!1,h=t.memoizedState,o.state=h,qs(t,r,o,a);var p=t.memoizedState;i!==d||h!==p||Ta.current||Is?("function"===typeof f&&(ai(t,n,f,r),p=t.memoizedState),(c=Is||oi(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,s,a)}function Ti(e,t,n,r,a,s){Ei(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ma(t,n,!1),Ki(e,t,s);r=t.stateNode,bi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,i,s)):xi(e,t,i,s),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),$s(e,t.containerInfo)}function Oi(e,t,n,r,a){return fs(),ps(a),t.flags|=256,xi(e,t,n,r),t.child}var Pi,Ai,Di,Ii={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,n){var r,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ea(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,a,0,null),e=Ic(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Ii,e):zi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,r=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(o=Ic(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Ii,o);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ui(e,t,i,r=di(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),wi||l){if(null!==(r=Tl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ds(e,a),nc(r,e,a,-1))}return mc(),Ui(e,t,i,r=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ga[Ja++]=Ya,Ga[Ja++]=Qa,Ga[Ja++]=$a,Ya=e.id,Qa=e.overflow,$a=t),t=zi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Ac(r,i):(i=Ic(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ii,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Bi(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function qi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(xi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,n,t);else if(19===e.tag)Fi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bi(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bi(t,!0,n,null,s);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ki(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gi(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:case 17:return Pa(t.type)&&Aa(),Hi(t),null;case 3:return r=t.stateNode,Ys(),ja(Ta),ja(Ca),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Hi(t),null;case 5:Xs(t);var a=Js(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ai(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Hi(t),null}if(e=Js(Vs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(a=0;a<Ir.length;a++)Ur(Ir[a],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ae(r,o),Ur("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Pi(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),a=r;break;case"iframe":case"object":case"embed":Ur("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Ur(Ir[a],e);a=r;break;case"source":Ur("error",e),a=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=r;break;case"details":Ur("toggle",e),a=r;break;case"input":Y(e,r),a=$(e,r),Ur("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ur("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ve(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&null!=t.stateNode)Di(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Gs.current),Js(Vs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Hi(t),null;case 13:if(ja(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hi(t),null);case 4:return Ys(),null===e&&qr(t.stateNode.containerInfo),Hi(t),null;case 10:return Ns(t.type._context),Hi(t),null;case 19:if(ja(Zs),null===(o=t.memoizedState))return Hi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Vi(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Vi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>ql&&(t.flags|=128,r=!0,Vi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Hi(t),null}else 2*Qe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Vi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Zs.current,Ea(Zs,r?1&n|2:1&n),t):(Hi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Hi(t),6&t.subtreeFlags&&(t.flags|=8192)):Hi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ji(e,t){switch(ts(t),t.tag){case 1:return Pa(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ja(Ta),ja(Ca),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ja(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ja(Zs),null;case 4:return Ys(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ai=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Js(Vs.current);var s,o=null;switch(n){case"input":a=$(e,a),r=$(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var $i=!1,Yi=!1,Qi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Yi||Zi(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),qt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Yi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Sc(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yi=(r=Yi)||null!==n.memoizedState,hl(e,t,n),Yi=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qi),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Sc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),be(l,i);var u=be(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ve(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Sc(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yi=(u=Yi)||d,ml(t,e),Yi=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xi=e,d=e.child;null!==d;){for(h=Xi=d;null!==Xi;){switch(p=(f=Xi).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zi(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Sc(r,n,v)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xi=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(v){Sc(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xi=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||$i;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Yi;i=$i;var c=Yi;if($i=o,(Yi=l)&&!c)for(Xi=a;null!==Xi;)l=(o=Xi).child,22===o.tag&&null!==o.memoizedState?kl(a):null!==l?(l.return=o,Xi=l):kl(a);for(;null!==s;)Xi=s,bl(s,t,n),s=s.sibling;Xi=a,$i=i,Yi=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):wl(e)}}function wl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ri(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}Yi||512&t.flags&&al(t)}catch(ao){Sc(t,t.return,ao)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function xl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function kl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var _l,Sl=Math.ceil,jl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Cl=0,Tl=null,Rl=null,Ol=0,Pl=0,Al=Sa(0),Dl=0,Il=null,Ll=0,Ml=0,zl=0,Ul=null,Fl=null,Bl=0,ql=1/0,Wl=null,Kl=!1,Vl=null,Hl=null,Gl=!1,Jl=null,$l=0,Yl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(s(185));gt(e,n,r),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Ml|=n),4===Dl&&ic(e,Ol)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Qe()+500,Ua&&qa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ft(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=ht(e,e===Tl?Ol:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ua=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),oa(function(){0===(6&Cl)&&qa()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Cl;Cl|=2;var o=pc();for(Tl===e&&Ol===t||(Wl=null,ql=Qe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Es(),jl.current=o,Cl=a,null!==Rl?t=0:(Tl=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Il,hc(e,0),ic(e,r),rc(e,Qe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Il,hc(e,0),ic(e,r),rc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Fl,Wl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Fl,Wl),t);break}xc(e,Fl,Wl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Fl,Wl),r);break}xc(e,Fl,Wl);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fl,Fl=n,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ic(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Il,hc(e,0),ic(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Wl),rc(e,Qe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Qe()+500,Ua&&qa())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Cl=t))&&qa()}}function dc(){Pl=Al.current,ja(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Ys(),ja(Ta),ja(Ca),no();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:ja(Zs);break;case 10:Ns(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Rl=e=Ac(e.current,null),Ol=Pl=t,Dl=0,Il=null,zl=Ml=Ll=0,Fl=Ul=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Os=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(Es(),ro.current=Zo,uo){for(var r=io.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}uo=!1}if(oo=0,co=lo=io=null,ho=!1,fo=0,El.current=null,null===n||null===n.return){Dl=1,Il=t,Rl=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gi(i);if(null!==p){p.flags&=-257,yi(p,i,l,0,t),1&p.mode&&vi(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vi(o,u,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=gi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yi(g,i,l,0,t),ps(ui(c,l));break e}}o=c=ui(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pi(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,mi(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=jl.current;return jl.current=Zo,null===e?Zo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Ml)||ic(Tl,Ol)}function vc(e,t){var n=Cl;Cl|=2;var r=pc();for(Tl===e&&Ol===t||(Wl=null,hc(e,t));;)try{gc();break}catch(a){fc(e,a)}if(Es(),Cl=n,jl.current=r,null!==Rl)throw Error(s(261));return Tl=null,Ol=0,Dl}function gc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!$e();)bc(Rl)}function bc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gi(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Ji(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,a=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Jl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Tl&&(Rl=Tl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Tc(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var i=bt;bt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(ea=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++d===r&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Kt=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ri(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ta),Kt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ye(),Cl=l,bt=i,Nl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Jl=e,$l=a),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Kl)throw Kl=!1,e=Vl,Vl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,qa()}(e,t,n,r)}finally{Nl.transition=a,bt=r}return null}function kc(){if(null!==Jl){var e=wt($l),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,$l=0,0!==(6&Cl))throw Error(s(331));var a=Cl;for(Cl|=4,Xi=e.current;null!==Xi;){var o=Xi,i=o.child;if(0!==(16&Xi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xi=u;null!==Xi;){var d=Xi;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xi=h;else for(;null!==Xi;){var f=(d=Xi).sibling,p=d.return;if(sl(d),d===u){Xi=null;break}if(null!==f){f.return=p,Xi=f;break}Xi=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(o=Xi).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xi=y;break e}Xi=o.return}}var b=e.current;for(Xi=b;null!==Xi;){var w=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Xi=w;else e:for(i=b;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===i){Xi=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xi=x;break e}Xi=l.return}}if(Cl=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function _c(e,t,n){e=Us(e,t=pi(0,t=ui(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Us(t,e=mi(t,e=ui(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Qe()-Bl?hc(e,0):zl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(gt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Pc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case _:return Ic(n.children,a,o,t);case S:i=8,a|=8;break;case j:return(e=Oc(12,n,t,2|a)).elementType=j,e.lanes=o,e;case T:return(e=Oc(13,n,t,a)).elementType=T,e.lanes=o,e;case R:return(e=Oc(19,n,t,a)).elementType=R,e.lanes=o,e;case A:return Lc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case N:i=9;break e;case C:i=11;break e;case O:i=14;break e;case P:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,s,o,i,l){return e=new Uc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Na;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Ia(e,n,t)}return t}function qc(e,t,n,r,a,s,o,i,l){return(e=Fc(n,r,!0,e,0,s,0,i,l)).context=Bc(null),n=e.current,(s=zs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(a,t,o))&&(nc(e,a,o,s),Fs(e,a,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)wi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wi=!1,function(e,t,n){switch(t.tag){case 3:Ri(t),fs();break;case 5:Qs(t);break;case 1:Pa(t.type)&&La(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mi(e,t,n):(Ea(Zs,1&Zs.current),null!==(e=Ki(e,t,n))?e.sibling:null);Ea(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return Ki(e,t,n)}(e,t,n);wi=0!==(131072&e.flags)}else wi=!1,as&&0!==(1048576&t.flags)&&Za(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wi(e,t),e=t.pendingProps;var a=Oa(t,Ca.current);Ts(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=si,t.stateNode=a,a._reactInternals=t,ci(t,r,e,n),t=Ti(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),xi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ri(r,e),a){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=Ci(null,t,r,e,n);break e;case 11:t=ki(null,t,r,e,n);break e;case 14:t=_i(null,t,r,ri(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ni(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 3:e:{if(Ri(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ms(e,t),qs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oi(e,t,r,n,a=ui(Error(s(423)),t));break e}if(r!==a){t=Oi(e,t,r,n,a=ui(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Ki(e,t,n);break e}xi(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),Ei(e,t),xi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mi(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):xi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ea(ks,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Ta.current){t=Ki(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=zs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Cs(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}xi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ts(t,n),r=r(a=Rs(a)),t.flags|=1,xi(e,t,r,n),t.child;case 14:return a=ri(r=t.type,t.pendingProps),_i(e,t,r,a=ri(r.type,a),n);case 15:return Si(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ri(r,a),Wi(e,t),t.tag=1,Pa(r)?(e=!0,La(t)):e=!1,Ts(t,n),ii(t,r,a),ci(t,r,a,n),Ti(null,t,r,!0,e,n);case 19:return qi(e,t,n);case 22:return ji(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Kc(o);i.call(e)}}Wc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Kc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pa]=o.current,qr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Kc(l);i.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,qr(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Kc(o)}$c.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},$c.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Cl)&&(ql=Qe()+500,qa()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},jt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));G(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ee,Ne,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,o,i),e[pa]=t.current,qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853(e,t,n){e.exports=n(234)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r=n(43),a=n.t(r,2),s=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)};function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function f(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function i(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,i)}l((r=r.apply(e,t||[])).next())})}Object.create;function p(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;class m extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class v extends m{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class g extends m{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y extends m{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var b;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(b||(b={}));class w{constructor(e){let{headers:t={},customFetch:n,region:r=b.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return f(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let a,s;try{const{headers:o,method:i,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const f=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h)),l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):"string"===typeof l?(d["Content-Type"]="text/plain",p=l):"undefined"!==typeof FormData&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let m=c;u&&(s=new AbortController,a=setTimeout(()=>s.abort(),u),c?(m=s.signal,c.addEventListener("abort",()=>s.abort())):m=s.signal);const b=yield t.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),o),body:p,signal:m}).catch(e=>{throw new v(e)}),w=b.headers.get("x-relay-error");if(w&&"true"===w)throw new g(b);if(!b.ok)throw new y(b);let x,k=(null!==(r=b.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return x="application/json"===k?yield b.json():"application/octet-stream"===k||"application/pdf"===k?yield b.blob():"text/event-stream"===k?b:"multipart/form-data"===k?yield b.formData():yield b.text(),{data:x,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof y||o instanceof g?o.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var x=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},k=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,a=null,s=e.status,o=e.statusText;if(e.ok){var i,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(i=n.headers.get("Prefer"))||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,a=null,s=406,o="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(r=[],t=null,s=200,o="OK")}catch(d){404===e.status&&""===a?(s=204,o="No Content"):t={message:a}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,s=200,o="OK"),t&&n.shouldThrowOnError)throw new x(t)}return{error:t,data:r,count:a,status:s,statusText:o}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="";const r=null===e||void 0===e?void 0:e.cause;if(r){var a,s,o,i;const t=null!==(a=null===r||void 0===r?void 0:r.message)&&void 0!==a?a:"",l=null!==(s=null===r||void 0===r?void 0:r.code)&&void 0!==s?s:"";n="".concat(null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(i=null===r||void 0===r?void 0:r.name)&&void 0!==i?i:"Error",": ").concat(t),l&&(n+=" (".concat(l,")")),(null===r||void 0===r?void 0:r.stack)&&(n+="\n".concat(r.stack))}else{var l;n=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},_=class extends k{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(i,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const S=new RegExp("[,()]");var j=class extends _{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&S.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&S.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},E=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let s=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:i,headers:l}=this.cloneRequestState();return i.searchParams.set("select",o),r&&l.append("Prefer","count=".concat(r)),new j({method:a,url:i,headers:l,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer","count=".concat(t)),n||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));a.searchParams.set("columns",e.join(","))}}return new j({method:"POST",url:a,headers:s,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;const{url:o,headers:i}=this.cloneRequestState();if(i.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&o.searchParams.set("on_conflict",t),r&&i.append("Prefer","count=".concat(r)),a||i.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));o.searchParams.set("columns",e.join(","))}}return new j({method:"POST",url:o,headers:i,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer","count=".concat(t)),new j({method:"PATCH",url:r,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new j({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},N=class e{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new E(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let o;const i=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(o="POST",l=t):n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;i.searchParams.append(t,n)})):(o="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",a?"count=".concat(a,",return=minimal"):"return=minimal"):a&&d.set("Prefer","count=".concat(a)),new j({method:o,url:i,headers:d,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}};const C=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},T="realtime-js/".concat("2.93.1"),R="2.0.0",O=R,P=1e4;var A,D,I,L,M,z;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(A||(A={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(D||(D={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(I||(I={})),function(e){e.websocket="websocket"}(L||(L={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(M||(M={}));class U{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},a=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var r,a;const s=e.topic,o=null!==(r=e.ref)&&void 0!==r?r:"",i=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(i.length>255)throw new Error("joinRef length ".concat(i.length," exceeds maximum of 255"));if(o.length>255)throw new Error("ref length ".concat(o.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,o.length),f.setUint8(p++,s.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+n.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(n),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,a,s,o,i]=n;return t({join_ref:r,ref:a,topic:s,event:o,payload:i})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),o=t.getUint8(4);let i=this.HEADER_LENGTH+4;const l=n.decode(e.slice(i,i+r));i+=r;const c=n.decode(e.slice(i,i+a));i+=a;const u=n.decode(e.slice(i,i+s));i+=s;const d=e.slice(i,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class F{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(z||(z={}));const B=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=q(a,e,t,r),n),{}):{}},q=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,o=n[e];return s&&!r.includes(s)?W(s,o):K(o)},W=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return J(t,n)}switch(e){case z.bool:return V(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return H(t);case z.json:case z.jsonb:return G(t);case z.timestamp:return $(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:default:return K(t)}},K=e=>e,V=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},J=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>W(t,e))}return e},$=e=>"string"===typeof e?e.replace(" ","T"):e,Y=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Q{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var X,Z,ee,te;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(X||(X={}));class ne{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ne.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ne.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ne.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(a,(e,t)=>{s[e]||(i[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:i},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Z||(Z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ee||(ee={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(te||(te={}));class re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=D.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Q(this,I.join,this.params,this.timeout),this.rejoinTimer=new F(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=D.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=D.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this._on(I.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ne(this),this.broadcastEndpointURL=Y(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==D.closed){const{config:{broadcast:s,presence:o,private:i}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[ee.PRESENCE]&&this.bindings[ee.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(te.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(te.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:i,table:l,filter:c}}=a,u=n&&n[r];if(!(u&&u.event===o&&re.isFilterValueEqual(u.schema,i)&&re.isFilterValueEqual(u.table,l)&&re.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=D.errored,void(null===e||void 0===e||e(te.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(te.SUBSCRIBED))}null===e||void 0===e||e(te.SUBSCRIBED)}).receive("error",t=>{this.state=D.errored,null===e||void 0===e||e(te.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(te.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===D.joined&&e===ee.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===o.status)return{success:!0};let i=o.statusText;try{const e=await o.json();i=e.error||e.message||i}catch(l){}return Promise.reject(new Error(i))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=D.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(I.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Q(this,I.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=D.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new Q(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=I;if(n&&[o,i,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===D.closed}_isJoined(){return this.state===D.joined}_isJoining(){return this.state===D.joining}_isLeaving(){return this.state===D.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&re.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(I.close,{},e)}_onError(e){this._on(I.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=D.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=B(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=B(e.columns,e.old_record)),t}}const ae=()=>{},se=25e3,oe=10,ie=100,le=[1e3,2e3,5e3,1e4];class ce{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P,this.transport=null,this.heartbeatIntervalMs=se,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ae,this.ref=0,this.reconnectTimer=null,this.vsn=O,this.logger=ae,this.conn=null,this.sendBuffer=[],this.serializer=new U,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(L.websocket),this.httpEndpoint=Y(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case A.connecting:return M.Connecting;case A.open:return M.Open;case A.closing:return M.Closing;default:return M.Closed}}isConnected(){return this.connectionState()===M.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new re("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ie)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(i){this.log("error","error in heartbeat callback",i)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===A.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===A.open||this.conn.readyState===A.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(I.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:T};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(I.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new F(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oe)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,o,i,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:P,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:se,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:ae,this.vsn=null!==(i=null===e||void 0===e?void 0:e.vsn)&&void 0!==i?i:O,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>le[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case R:this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var ue=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function de(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:a,query:s,body:o,headers:i}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[a,s]of Object.entries(n))void 0!==s&&r.searchParams.set(a,s);return r.toString()}(e.baseUrl,a,s),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:u(u(u({},o?{"Content-Type":"application/json"}:{}),c),i),body:o?JSON.stringify(o):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!d.ok){var m;const e=f?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new ue(null!==(m=null===t||void 0===t?void 0:t.message)&&void 0!==m?m:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:p}}}}function he(e){return e.join("\x1f")}var fe=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:he(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(he(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(he(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(he(e.namespace))}),!0}catch(t){if(t instanceof ue&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ue&&409===n.status)return;throw n}}};function pe(e){return e.join("\x1f")}var me=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof ue&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ue&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},ve=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=de({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new fe(this.client,n),this.tableOps=new me(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var ge=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function ye(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var be=class extends ge{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";super(e,r,t,n),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},we=class extends ge{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"storage";super(e,n),this.name="vectors"===n?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const xe=e=>{if(Array.isArray(e))return e.map(e=>xe(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=xe(r)}),t};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}function Se(e,t,n){return(t=_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach(function(t){Se(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ne=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Ce=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Ee({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Ee(Ee({},a),n)):Ee(Ee({},a),n)};async function Te(e,t,n,r,a,s,o){return new Promise((i,l)=>{e(n,Ce(t,r,a,s)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;if("vectors"===o){const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>i(e)).catch(e=>(async(e,t,n,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e,a=n.status||500;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||a+"";t(new be(Ne(e),a,n,r))}).catch(()=>{if("vectors"===r){const e=a+"";t(new be(n.statusText||"HTTP ".concat(a," error"),a,e,r))}else{const e=a+"";t(new be(n.statusText||"HTTP ".concat(a," error"),a,e,r))}});else{const e=a+"";t(new be(n.statusText||"HTTP ".concat(a," error"),a,e,r))}}else t(new we(Ne(e),e,r))})(e,l,r,o))})}const Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"storage";return{get:async(t,n,r,a)=>Te(t,"GET",n,r,a,void 0,e),post:async(t,n,r,a,s)=>Te(t,"POST",n,a,s,r,e),put:async(t,n,r,a,s)=>Te(t,"PUT",n,a,s,r,e),head:async(t,n,r,a)=>Te(t,"HEAD",n,Ee(Ee({},r),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,n,r,a,s)=>Te(t,"DELETE",n,a,s,r,e)}}("storage"),{get:Oe,post:Pe,put:Ae,head:De,remove:Ie}=Re;var Le=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";var a;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(a=n)?function(){return a(...arguments)}:function(){return fetch(...arguments)},this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}},Me=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}}};let ze;ze=Symbol.toStringTag;var Ue=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ze]="BlobDownloadBuilder",this.promise=null}asStream(){return new Me(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}}};const Fe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Be={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qe=class extends Le{constructor(e){let t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0,"storage"),this.bucketId=t}async uploadOrUpdate(e,t,n,r){var a=this;return a.handleOperation(async()=>{let s;const o=Ee(Ee({},Be),r);let i=Ee(Ee({},a.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const l=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=n,i["cache-control"]="max-age=".concat(o.cacheControl),i["content-type"]=o.contentType,l&&(i["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&s instanceof ReadableStream||s&&"object"===typeof s&&"pipe"in s&&"function"===typeof s.pipe)&&!o.duplex&&(o.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(i=Ee(Ee({},i),r.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?Ae:Pe)(a.fetch,"".concat(a.url,"/object/").concat(u),s,Ee({headers:i},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const s=a._removeEmptyFolders(e),o=a._getFinalPath(s),i=new URL(a.url+"/object/upload/sign/".concat(o));return i.searchParams.set("token",t),a.handleOperation(async()=>{let e;const t=Ee({upsert:Be.upsert},r),o=Ee(Ee({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType),{path:s,fullPath:(await Ae(a.fetch,i.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const a=Ee({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const s=await Pe(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:a}),o=new URL(n.url+s.url),i=o.searchParams.get("token");if(!i)throw new ge("No token returned by API");return{signedUrl:o.toString(),path:e,token:i}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Pe(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Pe(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e),s=await Pe(r.fetch,"".concat(r.url,"/object/sign/").concat(a),Ee({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{signedUrl:encodeURI("".concat(r.url).concat(s.signedURL).concat(o))}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const a=await Pe(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a.map(e=>Ee(Ee({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(s)):null}))})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"",s=this._getFinalPath(e);return new Ue(()=>Oe(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>xe(await Oe(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await De(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r)&&r instanceof we){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let i=r.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(i))}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ie(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const a=Ee(Ee(Ee({},Fe),t),{},{prefix:e||""});return await Pe(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),a,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Ee({},e);return await Pe(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const We={"X-Client-Info":"storage-js/".concat("2.93.1")};var Ke=class extends Le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));super(a.href.replace(/\/$/,""),Ee(Ee({},We),t),n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Oe(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Oe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}))}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;return n.handleOperation(async()=>await Pe(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Ae(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ie(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ve=class extends Le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Ee(Ee({},We),t),n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),a=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return await Oe(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ie(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new ge("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ve({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return{data:await n.apply(e,a),error:null}}catch(o){if(r)throw o;return{data:null,error:o}}}}})}},He=class extends Le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Ee(Ee({},We),{},{"Content-Type":"application/json"},t),n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Pe(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Pe(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ge=class extends Le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Ee(Ee({},We),{},{"Content-Type":"application/json"},t),n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{})}},Je=class extends Le{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Ee(Ee({},We),{},{"Content-Type":"application/json"},t),n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}))}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Pe(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}},$e=class extends Je{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new Ye(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Ye=class extends He{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Ee(Ee({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Ee(Ee({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Qe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Qe=class extends Ge{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Ee(Ee({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Ee(Ee({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Ee(Ee({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Ee(Ee({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Ee(Ee({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Xe=class extends Ke{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new qe(this.url,this.headers,e,this.fetch)}get vectors(){return new $e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ve(this.url+"/iceberg",this.headers,this.fetch)}};const Ze="2.93.1",et=3e4,tt=9e4,nt={"X-Client-Info":"gotrue-js/".concat(Ze)},rt="X-Supabase-Api-Version",at={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},st=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ot extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function it(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class lt extends ot{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ct extends ot{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ut extends ot{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class dt extends ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ht(e){return it(e)&&"AuthSessionMissingError"===e.name}class ft extends ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pt extends ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mt extends ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vt extends ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gt extends ut{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yt extends ut{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function bt(e){return it(e)&&"AuthRetryableFetchError"===e.name}class wt extends ut{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class xt extends ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_t=" \t\n\r=".split(""),St=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_t.length;t+=1)e[_t[t].charCodeAt(0)]=-2;for(let t=0;t<kt.length;t+=1)e[kt[t].charCodeAt(0)]=t;return e})();function jt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(kt[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(kt[e]),t.queuedBits-=6}}function Et(e,t,n){const r=St[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Nt(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Et(e.charCodeAt(o),a,s);return t.join("")}function Ct(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Tt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ct(r,t)}}function Rt(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Et(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Ot(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>jt(e,n,r)),jt(null,n,r),t.join("")}const Pt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,At={tested:!1,writable:!1},Dt=()=>{if(!Pt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(At.tested)return At.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),At.tested=!0,At.writable=!0}catch(t){At.tested=!0,At.writable=!1}return At.writable};const It=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Lt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Mt=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},zt=async(e,t)=>{await e.removeItem(t)};class Ut{constructor(){this.promise=new Ut.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Ft(e){const t=e.split(".");if(3!==t.length)throw new xt("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!st.test(t[n]))throw new xt("JWT not in base64url format");return{header:JSON.parse(Nt(t[0])),payload:JSON.parse(Nt(t[1])),signature:Rt(t[2]),raw:{header:t[0],payload:t[1]}}}function Bt(e){return("0"+e.toString(16)).substr(-2)}async function qt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Bt).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Lt(e,"".concat(t,"-code-verifier"),a);const s=await qt(r);return[s,r===s?"plain":"s256"]}Ut.promiseConstructor=Promise;const Kt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Vt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ht(e){if(!Vt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Jt(e){return JSON.parse(JSON.stringify(e))}const $t=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yt=[502,503,504];async function Qt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new yt($t(e),0);if(Yt.includes(e.status))throw new yt($t(e),e.status);let r,a;try{r=await e.json()}catch(o){throw new ct($t(o),o)}const s=function(e){const t=e.headers.get(rt);if(!t)return null;if(!t.match(Kt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(s&&s.getTime()>=at.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new wt($t(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new dt}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new wt($t(r),e.status,r.weak_password.reasons);throw new lt($t(r),e.status||500,a)}async function Xt(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[rt]||(s[rt]=at.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,s){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let i;try{i=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new yt($t(l),0)}i.ok||await Qt(i);if(null===r||void 0===r?void 0:r.noResolveJson)return i;try{return await i.json()}catch(l){await Qt(l)}}(e,t,n+i,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Zt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function en(e){const t=Zt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function nn(e){return{data:e,error:null}}function rn(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,o=h(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},o)},error:null}}function an(e){return e}const sn=["global","local","others"];class on{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=It(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn[0];if(sn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(sn.join(", ")));try{return await Xt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Xt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tn})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=h(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Xt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:rn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(it(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:tn})}catch(t){if(it(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Xt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:an});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(it(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Ht(e);try{return await Xt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:tn})}catch(t){if(it(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ht(e);try{return await Xt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:tn})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ht(e);try{return await Xt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:tn})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ht(e.userId);try{const{data:t,error:n}=await Xt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(it(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ht(e.userId),Ht(e.id);try{return{data:await Xt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Xt(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:an});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(it(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Xt(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(it(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Xt(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(it(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Xt(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Xt(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Xt(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(it(t))return{data:null,error:t};throw t}}}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const cn=!!(globalThis&&Dt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class un extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dn extends un{}async function hn(e,t,n){cn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),cn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw cn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(cn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}cn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{cn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function fn(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function pn(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class mn extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=n}}class vn extends mn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function gn(e){let{error:t,options:n}=e;var r,a,s;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new mn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new mn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=o.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new mn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=o.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new mn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new mn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new mn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new mn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Sn(e))return new mn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(o.rp.id!==e)return new mn({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new mn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yn(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new mn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new mn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Sn(e))return new mn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new mn({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new mn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const bn=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function wn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=h(e,["challenge","user","excludeCredentials"]),s=Rt(t).buffer,o=Object.assign(Object.assign({},n),{id:Rt(n.id).buffer}),i=Object.assign(Object.assign({},a),{challenge:s,user:o});if(r&&r.length>0){i.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];i.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Rt(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function xn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=h(e,["challenge","allowCredentials"]),a=Rt(t).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Rt(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function kn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ot(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ot(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function _n(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ot(new Uint8Array(a.authenticatorData)),clientDataJSON:Ot(new Uint8Array(a.clientDataJSON)),signature:Ot(new Uint8Array(a.signature)),userHandle:a.userHandle?Ot(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Sn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function jn(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const En={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Nn={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cn(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const o of a)if(o)for(const r in o){const a=o[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=Cn(t,a):n[r]=Cn(a)}else n[r]=a}return n}class Tn{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:s}=e;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const i=null!==s&&void 0!==s?s:bn.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Cn(En,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vn("Browser returned unexpected credential type",t)}:{data:null,error:new vn("Empty credential response",t)}}catch(t){return{data:null,error:gn({error:t,options:e})}}}({publicKey:r,signal:i});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const r=function(e,t){return Cn(Nn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vn("Browser returned unexpected credential type",t)}:{data:null,error:new vn("Empty credential response",t)}}catch(t){return{data:null,error:yn({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:i}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new ct("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new ot("rpId is required for WebAuthn authentication")};try{if(!jn())return{data:null,error:new ct("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:o};const{webauthn:i}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:i.type,rpId:r,rpOrigins:a,credential_response:i.credential_response}})}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new ct("Unexpected error in authenticate",o)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new ot("rpId is required for WebAuthn registration")};try{if(!jn())return{data:null,error:new ct("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:o};const{data:i,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:t});return i?this._verify({factorId:e.id,challengeId:i.challengeId,webauthn:{rpId:r,rpOrigins:a,type:i.webauthn.type,credential_response:i.webauthn.credential_response}}):{data:null,error:l}}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new ct("Unexpected error in register",o)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Rn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function On(e,t,n){return await n()}const Pn={};class An{get jwks(){var e,t;return null!==(t=null===(e=Pn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Pn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Rn),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=An.nextInstanceID[this.storageKey])&&void 0!==t?t:0,An.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Pt()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new on({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=It(a.fetch),this.lock=a.lock||On,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Pt()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=hn:this.lock=On,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tn(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Dt()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ln(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ln(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(Ze,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Pt()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Pt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return it(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return it(t)?this._returnResult({error:t}):this._returnResult({error:new ct("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Zt}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(a){if(it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Wt(this.storage,this.storageKey)),a=await Xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:Zt})}else{if(!("phone"in e))throw new pt("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;a=await Xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Zt})}}const{data:s,error:o}=a;if(o||!s)return await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:o});const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(a){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:en})}else{if(!("phone"in e))throw new pt("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:en})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new ft;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,s,o,i,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let v;if(Pt())if("object"===typeof d)v=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");v=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=d}const g=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await v.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=fn(y[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await v.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:o,notBefore:i,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(o));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=fn(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",v="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let g="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(o?"\nNonce: ".concat(o):"","\nIssued At: ").concat(s.toISOString());if(a&&(g+="\nExpiration Time: ".concat(a.toISOString())),i&&(g+="\nNot Before: ".concat(i.toISOString())),l&&(g+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}g+=e}return"".concat(v,"\n").concat(g)}({domain:g.host,address:b,statement:p,uri:g.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await v.request({method:"personal_sign",params:[pn(h),b]})}try{const{data:t,error:n}=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Zt});if(n)throw n;if(!t||!t.session||!t.user){const e=new ft;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(it(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,n,r,a,s,o,i,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:v}=e;let g;if(Pt())if("object"===typeof h)g=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");g=e.solana}else{if("object"!==typeof h||!(null===v||void 0===v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=h}const y=new URL(null!==(t=null===v||void 0===v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in g&&g.signIn){const e=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===v||void 0===v?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in g)||"function"!==typeof g.signMessage||!("publicKey"in g)||"object"!==typeof g||!g.publicKey||!("toBase58"in g.publicKey)||"function"!==typeof g.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),g.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(v.signInWithSolana.notBefore)]:[],...(null===(s=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(v.signInWithSolana.expirationTime)]:[],...(null===(o=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(v.signInWithSolana.chainId)]:[],...(null===(i=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(v.signInWithSolana.nonce)]:[],...(null===(l=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(v.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...v.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await g.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Ot(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Zt});if(n)throw n;if(!t||!t.session||!t.user){const e=new ft;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(it(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await Mt(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new gt;const{data:t,error:a}=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Zt});if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new ft;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a})}catch(a){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,o=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Zt}),{data:i,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const e=new ft;return this._returnResult({data:{user:null,session:null},error:e})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:i,error:l})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Wt(this.storage,this.storageKey));const{error:i}=await Xt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:i}=await Xt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i})}throw new pt("You must provide either an email or phone number.")}catch(o){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:o}=await Xt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Zt});if(o)throw o;if(!s){throw new Error("An error occurred on token verification.")}const i=s.session,l=s.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,a,s;try{let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Wt(this.storage,this.storageKey));const l=await Xt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:nn});return(null===(a=l.data)||void 0===a?void 0:a.url)&&Pt()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new dt;const{error:r}=await Xt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(it(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:o}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o})}throw new pt("You must provide either an email or phone number and a type")}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Mt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<tt;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Mt(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Gt()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Xt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Xt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:tn}):{data:{user:null},error:new dt}})}catch(t){if(it(t))return ht(t)&&(await this._removeSession(),await zt(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new dt;const s=r.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Wt(this.storage,this.storageKey));const{data:l,error:c}=await Xt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:tn});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dt;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Ft(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(it(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new dt;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Pt())throw new mt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new vt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new mt("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vt("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!a||!o||!s||!l)throw new mt("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;i&&(d=parseInt(i));const h=d-c;1e3*h<=et&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const v={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Mt(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a&&!ht(a))return this._returnResult({error:a});const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return it(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!ht(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await zt(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Wt(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Pt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:s,provider:o,token:i,access_token:l,nonce:c}=e,u=await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:o,id_token:i,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Zt}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new ft})}catch(r){if(await zt(this.storage,"".concat(this.storageKey,"-code-verifier")),it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Xt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Zt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&bt(t)&&Date.now()+n-a<et},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(a){if(!r(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),it(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Pt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Mt(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Mt(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Lt(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Gt()}else if(a&&!a.user&&!a.user){const e=await Mt(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await zt(this.storage,this.storageKey+"-user"),await Lt(this.storage,this.storageKey,a)):a.user=Gt()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<tt;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(tt,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),bt(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Ut;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new dt;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),it(a)){const e={data:null,error:a};return bt(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zt(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Lt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Jt(e);await Lt(this.storage,this.storageKey,r)}else{const e=Jt(t);await Lt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),et);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/et);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(et,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof un))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Wt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?this._returnResult({data:null,error:a}):await Xt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:i,error:l}=await Xt(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===i.type&&(null===(r=null===i||void 0===i?void 0:i.totp)||void 0===r?void 0:r.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),this._returnResult({data:i,error:null}))})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?kn(e.webauthn.credential_response):_n(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:i}=await Xt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?this._returnResult({data:null,error:i}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:i}))})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await Xt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:wn(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:xn(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,r,a;if(e)try{const{payload:r}=Ft(e);let a=null;r.aal&&(a=r.aal);let s=a;const{data:{user:o},error:i}=await this.getUser(e);if(i)return this._returnResult({data:null,error:i});(null!==(n=null===(t=null===o||void 0===o?void 0:o.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:r.amr||[]},error:null}}catch(u){if(it(u))return this._returnResult({data:null,error:u});throw u}const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ft(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;(null!==(a=null===(r=s.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==a?a:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Xt(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new dt})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new dt});const s=await Xt(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Pt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new dt});const s=await Xt(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Pt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Xt(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new dt})})}catch(e){if(it(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await Xt(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dt})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Xt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:o,payload:i}}=Ft(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return Tt(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new xt("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}}An.nextInstanceID={};const Dn=An;let In="";In="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ln={headers:function(){const e={"X-Client-Info":"supabase-js-".concat(In,"/").concat("2.93.1")},t=function(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if("darwin"===t)return"macOS";if("win32"===t)return"Windows";if("linux"===t)return"Linux";if("android"===t)return"Android"}if("undefined"!==typeof navigator&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if("macOS"===e)return"macOS";if("Windows"===e)return"Windows";if("Linux"===e)return"Linux";if("Android"===e)return"Android";if("iOS"===e)return"iOS"}return null}();t&&(e["X-Supabase-Client-Platform"]=t);const n=function(){const e=globalThis.process;if(e){const n=e.versions;if(n&&n.node&&"undefined"===typeof window)try{const e=globalThis.require;if(e)return e("os").release()}catch(t){return null}}if("undefined"!==typeof Deno&&Deno.osRelease)try{return Deno.osRelease()}catch(t){return null}return"undefined"!==typeof navigator&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}();n&&(e["X-Supabase-Client-Platform-Version"]=n);const r=function(){if("undefined"!==typeof Deno)return"deno";if("undefined"!==typeof Bun)return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}();r&&(e["X-Supabase-Client-Runtime"]=r);const a=function(){if("undefined"!==typeof Deno&&Deno.version)return Deno.version.deno;if("undefined"!==typeof Bun&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}()},Mn={schema:"public"},zn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Un={};function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e){var t=function(e,t){if("object"!=Fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fn(t)?t:t+""}function qn(e,t,n){return(t=Bn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach(function(t){qn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Vn=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),a=Headers;return async(n,s)=>{var o;const i=null!==(o=await t())&&void 0!==o?o:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),r(n,Kn(Kn({},s),{},{headers:l}))}};var Hn=class extends Dn{constructor(e){super(e)}},Gn=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o="sb-".concat(s.hostname.split(".")[0],"-auth-token"),i=function(e,t){var n,r;const{db:a,auth:s,realtime:o,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Kn(Kn({},l),a),auth:Kn(Kn({},c),s),realtime:Kn(Kn({},u),o),storage:{},global:Kn(Kn(Kn({},d),i),{},{headers:Kn(Kn({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===i||void 0===i?void 0:i.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Mn,realtime:Un,auth:Kn(Kn({},zn),{},{storageKey:o}),global:Ln});var l;(this.storageKey=null!==(r=i.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=i.global.headers)&&void 0!==a?a:{},i.accessToken)?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=i.auth)&&void 0!==l?l:{},this.headers,i.global.fetch);this.fetch=Vn(t,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(Kn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new N(new URL("rest/v1",s).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch}),this.storage=new Xe(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new w(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:i,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Hn({url:this.authUrl.href,headers:Kn(Kn({},f),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:i,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new ce(this.realtimeUrl.href,Kn(Kn({},e),{},{params:Kn(Kn({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jn="https://frbdzhddqbkuzwaqwvwi.supabase.co",$n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyYmR6aGRkcWJrdXp3YXF3dndpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MTYxNzEsImV4cCI6MjA4NTA5MjE3MX0.yLOrB38FQ3F_6r7wpVq2z8aVdOjSFuea9nyqP6xzkKE",Yn=Jn&&$n?((e,t,n)=>new Gn(e,t,n))(Jn,$n):null,Qn=()=>!!Yn;const Xn="ADD_TOAST",Zn="UPDATE_TOAST",er="DISMISS_TOAST",tr="REMOVE_TOAST";let nr=0;const rr=new Map,ar=e=>{if(rr.has(e))return;const t=setTimeout(()=>{rr.delete(e),lr({type:tr,toastId:e})},1e6);rr.set(e,t)},sr=(e,t)=>{switch(t.type){case Xn:return u(u({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case Zn:return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?u(u({},e),t.toast):e)});case er:{const{toastId:n}=t;return n?ar(n):e.toasts.forEach(e=>{ar(e.id)}),u(u({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?u(u({},e),{},{open:!1}):e)})}case tr:return void 0===t.toastId?u(u({},e),{},{toasts:[]}):u(u({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});default:return e}},or=[];let ir={toasts:[]};function lr(e){ir=sr(ir,e),or.forEach(e=>{e(ir)})}function cr(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const n=(nr=(nr+1)%Number.MAX_SAFE_INTEGER,nr.toString()),r=()=>lr({type:er,toastId:n});return lr({type:Xn,toast:u(u({},t),{},{id:n,open:!0,onOpenChange:e=>{e||r()}})}),{id:n,dismiss:r,update:e=>lr({type:Zn,toast:u(u({},e),{},{id:n})})}}function ur(){const[e,t]=r.useState(ir);return r.useEffect(()=>(or.push(t),()=>{const e=or.indexOf(t);e>-1&&or.splice(e,1)}),[e]),u(u({},e),{},{toast:cr,dismiss:e=>lr({type:er,toastId:e})})}var dr=n(579);const hr=[{value:"low",label:"Low",icon:"\ud83c\udf19",color:"#22c55e"},{value:"medium",label:"Medium",icon:"\u2600\ufe0f",color:"#f59e0b"},{value:"high",label:"High",icon:"\u26a1",color:"#ef4444"}],fr=[{value:"work",label:"Work",color:"#6366f1"},{value:"family",label:"Family",color:"#ec4899",override:!0},{value:"health",label:"Health",color:"#22c55e"},{value:"personal",label:"Personal",color:"#8b5cf6"},{value:"urgent",label:"Urgent",color:"#ef4444"},{value:"waiting",label:"Waiting",color:"#64748b"}];const pr=function(e){let{task:t,onClose:n,onUpdate:a}=e;const[s,o]=(0,r.useState)(u({},t)),[i]=(0,r.useState)(u({},t)),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);const m=(e,t)=>{o(n=>u(u({},n),{},{[e]:t})),f.includes(e)||p(t=>[...t,e])},v=()=>(s.labels||[]).includes("family"),g=async()=>{const e=f.map(e=>({field:e,original:i[e],corrected:s[e],timestamp:(new Date).toISOString()}));try{await Yn.from("correction_signals").insert({user_id:"dan",entity_type:"task",entity_id:t.id,corrections:e,created_at:(new Date).toISOString()})}catch(n){console.error("Log correction signal error:",n)}};return(0,dr.jsx)("div",{className:"task-card-overlay",onClick:n,children:(0,dr.jsxs)("div",{className:"task-card",onClick:e=>e.stopPropagation(),children:[(0,dr.jsxs)("header",{className:"task-card-header",children:[(0,dr.jsx)("h2",{children:"Edit Task"}),(0,dr.jsx)("button",{className:"task-card-close",onClick:n,children:"\u2715"})]}),(0,dr.jsxs)("div",{className:"task-card-field",children:[(0,dr.jsx)("label",{children:"Task Description"}),(0,dr.jsx)("textarea",{className:"task-card-textarea",value:s.text||s.title||"",onChange:e=>m("text",e.target.value),rows:3})]}),(0,dr.jsxs)("div",{className:"task-card-field",children:[(0,dr.jsx)("label",{children:"Energy Level"}),(0,dr.jsx)("div",{className:"task-card-energy",children:hr.map(e=>(0,dr.jsxs)("button",{className:"task-card-energy-btn ".concat(s.energy_level===e.value?"active":""),style:{"--energy-color":e.color},onClick:()=>m("energy_level",e.value),children:[(0,dr.jsx)("span",{className:"task-card-energy-icon",children:e.icon}),(0,dr.jsx)("span",{children:e.label})]},e.value))})]}),(0,dr.jsxs)("div",{className:"task-card-field",children:[(0,dr.jsx)("label",{children:"Labels"}),(0,dr.jsx)("div",{className:"task-card-labels",children:fr.map(e=>(0,dr.jsxs)("button",{className:"task-card-label ".concat((s.labels||[]).includes(e.value)?"active":""),style:{"--label-color":e.color},onClick:()=>(e=>{const t=s.labels||[],n=t.includes(e)?t.filter(t=>t!==e):[...t,e];m("labels",n)})(e.value),children:[e.label,e.override&&(0,dr.jsx)("span",{className:"task-card-override-badge",title:"Always takes priority",children:"\ud83d\udc51"})]},e.value))}),v()&&(0,dr.jsx)("p",{className:"task-card-override-note",children:"\ud83c\udfe0 Family tasks take priority over work conflicts"})]}),(0,dr.jsxs)("div",{className:"task-card-field",children:[(0,dr.jsx)("label",{children:"Assignee"}),(0,dr.jsxs)("select",{className:"task-card-select",value:s.assignee||"dan",onChange:e=>m("assignee",e.target.value),children:[(0,dr.jsx)("option",{value:"dan",children:"Dan"}),(0,dr.jsx)("option",{value:"pa",children:"Personal Assistant"}),(0,dr.jsx)("option",{value:"mikka",children:"Mikka"})]})]}),(0,dr.jsxs)("div",{className:"task-card-field",children:[(0,dr.jsx)("label",{children:"Dependencies"}),(0,dr.jsx)("input",{type:"text",className:"task-card-input",placeholder:"Waiting for...",value:s.dependencies||"",onChange:e=>m("dependencies",e.target.value)})]}),(0,dr.jsxs)("div",{className:"task-card-actions-row",children:[(0,dr.jsx)("button",{className:"task-card-action-btn ".concat(s.frozen?"active":""),onClick:()=>{m("frozen",!s.frozen)},children:s.frozen?"\ud83d\udd13 Unfreeze":"\ud83d\udd12 Freeze"}),(0,dr.jsx)("button",{className:"task-card-action-btn danger",onClick:()=>h(!0),children:"\ud83d\udce6 Archive"})]}),d&&(0,dr.jsxs)("div",{className:"task-card-confirm",children:[(0,dr.jsx)("p",{children:"Move to archive?"}),(0,dr.jsxs)("div",{className:"task-card-confirm-actions",children:[(0,dr.jsx)("button",{onClick:async()=>{m("archived",!0),h(!1)},children:"Yes"}),(0,dr.jsx)("button",{onClick:()=>h(!1),children:"No"})]})]}),(0,dr.jsxs)("footer",{className:"task-card-footer",children:[(0,dr.jsx)("button",{className:"task-card-cancel",onClick:n,children:"Cancel"}),(0,dr.jsx)("button",{className:"task-card-save",onClick:async()=>{if(Qn()){c(!0);try{const{error:e}=await Yn.from("tasks").update({text:s.text,title:s.title||s.text,labels:s.labels,energy_level:s.energy_level,dependencies:s.dependencies,frozen:s.frozen,archived:s.archived,assignee:s.assignee,family_override:v(),updated_at:(new Date).toISOString()}).eq("id",t.id);if(e)throw e;f.length>0&&await g(),cr({title:"\u2713 Saved",description:"Task updated successfully"}),a&&a(s),n()}catch(e){console.error("Save task error:",e),cr({title:"Save failed",description:"Could not save task. Please try again.",variant:"destructive"})}finally{c(!1)}}},disabled:l||0===f.length,children:l?"Saving...":"Save"})]}),f.length>0&&(0,dr.jsxs)("div",{className:"task-card-edit-indicator",children:["\u270f\ufe0f ",f.length," fields changed"]})]})})},mr=(new Date).toISOString().split("T")[0];function vr(){return new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Nicosia"}))}function gr(e){let{onComplete:t}=e;const[n,a]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{!async function(){if(Qn()){try{var e;const{data:t}=await Yn.from("daily_briefs").select("metadata").eq("user_id","dan").eq("date",mr).single();null!==t&&void 0!==t&&null!==(e=t.metadata)&&void 0!==e&&e.morning_anchor&&a(t.metadata.morning_anchor)}catch(t){}o(!1)}else o(!1)}()},[]);const i=async e=>{if(a(e),t&&t(e),Qn())try{const{data:t}=await Yn.from("daily_briefs").select("metadata").eq("user_id","dan").eq("date",mr).single(),n=u(u({},(null===t||void 0===t?void 0:t.metadata)||{}),{},{morning_anchor:e,morning_anchor_time:(new Date).toISOString()});if(t){const{error:e}=await Yn.from("daily_briefs").update({metadata:n}).eq("user_id","dan").eq("date",mr);if(e)throw e}else{const{error:e}=await Yn.from("daily_briefs").insert({user_id:"dan",date:mr,doing_today:[],not_doing_today:[],load_score:0,metadata:n});if(e)throw e}}catch(n){console.error("Morning anchor save error:",n),a(null),cr({title:"Failed to save",description:"Morning anchor wasn't saved. Try again.",variant:"destructive"})}};return vr().getHours()>=11||s?null:"done"===n?(0,dr.jsxs)("div",{className:"cmd-card cmd-card-anchor cmd-card-anchor-done",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u2705"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Morning Anchor"}),(0,dr.jsx)("span",{className:"cmd-card-value cmd-anchor-done-text",children:"Completed \u2014 good day starts here"})]})]}):"skipped"===n?null:(0,dr.jsxs)("div",{className:"cmd-card cmd-card-anchor",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u2600\ufe0f"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Morning Anchor"}),(0,dr.jsx)("span",{className:"cmd-card-value",children:"Review / Coffee / Light movement"}),(0,dr.jsxs)("div",{className:"cmd-anchor-actions",children:[(0,dr.jsx)("button",{className:"cmd-anchor-btn cmd-anchor-done",onClick:()=>i("done"),children:"\u2705 Done"}),(0,dr.jsx)("button",{className:"cmd-anchor-btn cmd-anchor-skip",onClick:()=>i("skipped"),children:"\u23ed\ufe0f Skip"})]})]})]})}function yr(e,t,n){const r=vr(),a=t?new Date(t):null,s=n?new Date(n):null;return s&&s<r?"past":a&&a<=r&&(!s||s>=r)?"ongoing":a&&a>r?"upcoming":a&&a<r?"past":"upcoming"}const br=function(){var e;const[t,n]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[o,i]=(0,r.useState)(vr()),[l,c]=(0,r.useState)({total:0,breakdown:[]}),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,v]=(0,r.useState)(null),g=(0,r.useCallback)(async()=>{if(Qn()){try{const{data:e}=await Yn.from("daily_briefs").select("*").eq("user_id","dan").eq("date",mr).single();e&&n(e)}catch(e){console.error("Brief fetch error:",e)}s(!1)}else s(!1)},[]),y=(0,r.useCallback)(async()=>{if(!Qn())return;const e=[];let t=0;try{var n;const{data:r}=await Yn.from("tasks").select("id").eq("user_id","dan").eq("completed",!0).gte("completed_at","".concat(mr,"T00:00:00Z")).lte("completed_at","".concat(mr,"T23:59:59Z")),a=(null===r||void 0===r?void 0:r.length)||0;a>0&&(e.push({label:"Tasks",count:a}),t+=a);const s=(new Date).toISOString(),{data:o}=await Yn.from("events").select("id").eq("user_id","dan").gte("start_time","".concat(mr,"T00:00:00Z")).lte("start_time","".concat(mr,"T23:59:59Z")).lt("end_time",s),i=(null===o||void 0===o?void 0:o.length)||0;i>0&&(e.push({label:"Events",count:i}),t+=i);const{data:l}=await Yn.from("daily_briefs").select("metadata").eq("user_id","dan").eq("date",mr).single();"done"===(null===l||void 0===l||null===(n=l.metadata)||void 0===n?void 0:n.morning_anchor)&&(e.push({label:"Morning Anchor",count:1}),t+=1);const{data:c}=await Yn.from("health_data").select("*").eq("user_id","dan").eq("date",mr).single();null!==c&&void 0!==c&&c.steps&&c.steps>5e3&&(e.push({label:"Exercise",count:1}),t+=1)}catch(r){console.error("Closures calc error:",r)}c({total:t,breakdown:e})},[]);(0,r.useEffect)(()=>{y();const e=setInterval(y,12e4);return()=>clearInterval(e)},[y,f]),(0,r.useEffect)(()=>{g()},[g]),(0,r.useEffect)(()=>{const e=setInterval(()=>{i(vr())},6e4);return()=>clearInterval(e)},[]);const b=e=>{const t={id:e.id||e.taskId||"temp-".concat(Date.now()),text:e.text,title:e.text,labels:e.labels||[],energy_level:e.energy_level||"medium",dependencies:e.dependencies||"",frozen:e.frozen||!1,archived:e.archived||!1,assignee:e.assignee||"dan"};v(t)},w=()=>{var e;if(!t)return{ongoing:[],upcoming:[],past:[],tasks:[]};const n=t.doing_today_structured||(null===(e=t.metadata)||void 0===e?void 0:e.doing_today_structured)||[];if(n.length>0){const e=n.map(e=>u(u({},e),{},{liveStatus:yr(e.text,e.startTime,e.endTime)}));return{ongoing:e.filter(e=>"ongoing"===e.liveStatus),upcoming:e.filter(e=>"upcoming"===e.liveStatus),past:e.filter(e=>"past"===e.liveStatus),tasks:e.filter(e=>"task"===e.timeStatus)}}const r=(t.doing_today||[]).map((e,t)=>{const n=e.match(/^(\d{1,2}:\d{2})\s/);if(n){const[r,a]=n[1].split(":").map(Number),s=new Date(o);s.setHours(r,a,0,0);const i=new Date(s.getTime()+36e5);return{text:e,liveStatus:yr(0,s,i),isEvent:!0,id:"event-".concat(t)}}return{text:e,liveStatus:"upcoming",isEvent:!1,isTask:!0,id:"task-".concat(t)}});return{ongoing:r.filter(e=>"ongoing"===e.liveStatus),upcoming:r.filter(e=>"upcoming"===e.liveStatus),past:r.filter(e=>"past"===e.liveStatus),tasks:r.filter(e=>!e.isEvent)}};if(a)return(0,dr.jsx)("div",{className:"cmd",children:(0,dr.jsx)("div",{className:"cmd-loading",children:(0,dr.jsx)("div",{className:"cmd-pulse"})})});const x=(()=>{const{ongoing:e,upcoming:t,tasks:n}=w();return e.length>0?{text:e[0].text,status:"ongoing"}:t.length>0?{text:t[0].text,status:"upcoming"}:n.length>0?{text:n[0].text,status:"task"}:null})(),k=(()=>{const{ongoing:e,upcoming:t,tasks:n}=w();return[...e,...t,...n].slice(1,4)})(),_=(()=>{var e;const{past:n}=w(),r=(null===t||void 0===t?void 0:t.completed_events)||(null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.completed_events)||[];return[...n,...r.filter(e=>!n.some(t=>t.text===e.text))].slice(0,3)})(),S=(()=>{var e;return null!==t&&void 0!==t&&null!==(e=t.not_doing_today)&&void 0!==e&&e.length?t.not_doing_today.slice(0,2):null})(),j=(null===t||void 0===t?void 0:t.warning)||null,E=(null===t||void 0===t?void 0:t.small_action)||null,N=(()=>{const e=(null===t||void 0===t?void 0:t.load_score)||0;return e>=70?{label:"Heavy day",level:"heavy",message:"Less = more. Screen is empty on purpose."}:e>=45?{label:"Medium day",level:"medium",message:""}:{label:"Light day",level:"light",message:""}})(),C=(()=>{var e;return(null===t||void 0===t?void 0:t.sleep_confidence)||(null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.sleep_confidence)||null})(),T=(null===t||void 0===t?void 0:t.no_active_focus)||(null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.no_active_focus)||!x;return(0,dr.jsxs)("div",{className:"cmd",children:[(0,dr.jsxs)("div",{className:"cmd-container",children:[(0,dr.jsxs)("header",{className:"cmd-header",children:[(0,dr.jsxs)("h1",{className:"cmd-greeting",children:[(()=>{const e=o.getHours();return e<6?"Good night":e<12?"Good morning":e<17?"Good afternoon":e<21?"Good evening":"Good night"})(),", Dan"]}),(0,dr.jsx)("p",{className:"cmd-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",timeZone:"Asia/Nicosia"})}),null!=(null===t||void 0===t?void 0:t.load_score)&&(0,dr.jsx)("div",{className:"cmd-load cmd-load-".concat(N.level),children:N.label})]}),(0,dr.jsx)(gr,{onComplete:e=>{"done"===e&&p(!0)}}),(0,dr.jsxs)("div",{className:"cmd-cards",children:[x?(0,dr.jsxs)("div",{className:"cmd-card cmd-card-focus ".concat("ongoing"===x.status?"cmd-card-ongoing":""," ").concat(x.isTask?"cmd-card-clickable":""),onClick:()=>x.isTask&&b(x),style:x.isTask?{cursor:"pointer"}:{},children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\ud83c\udfaf"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"ongoing"===x.status?"Now":"Up Next"}),(0,dr.jsx)("span",{className:"cmd-card-value",children:x.text}),"ongoing"===x.status&&(0,dr.jsx)("span",{className:"cmd-card-badge cmd-badge-live",children:"\u25cf Active"}),x.isTask&&(0,dr.jsx)("span",{className:"cmd-card-badge cmd-badge-edit",children:"\u270f\ufe0f Click to edit"})]})]}):T?(0,dr.jsxs)("div",{className:"cmd-card cmd-card-focus cmd-card-clear",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u2728"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Rest of day"}),(0,dr.jsx)("span",{className:"cmd-card-value",children:"All events done. Time is yours."})]})]}):null,k.length>0&&(0,dr.jsxs)("div",{className:"cmd-card cmd-card-upcoming",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\ud83d\udccb"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Later"}),k.map((e,t)=>(0,dr.jsxs)("span",{className:"cmd-card-value cmd-card-upcoming-item ".concat(e.isTask?"cmd-card-clickable-item":""),onClick:()=>e.isTask&&b(e),style:e.isTask?{cursor:"pointer"}:{},children:[e.text,e.isTask&&(0,dr.jsx)("span",{className:"cmd-edit-hint",children:" \u270f\ufe0f"})]},t))]})]}),S&&S.length>0&&(0,dr.jsxs)("div",{className:"cmd-card cmd-card-not-today",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u26d4"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Not Today"}),S.map((e,t)=>(0,dr.jsx)("span",{className:"cmd-card-value cmd-card-strike",children:e},t))]})]}),j&&(0,dr.jsxs)("div",{className:"cmd-card cmd-card-warning",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u26a0\ufe0f"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsxs)("span",{className:"cmd-card-label",children:["Heads up","low"===C&&j.includes("sleep")&&(0,dr.jsx)("span",{className:"cmd-confidence-tag",children:" \xb7 Partial data"})]}),(0,dr.jsx)("span",{className:"cmd-card-value",children:j})]})]}),E&&(0,dr.jsxs)("div",{className:"cmd-card cmd-card-action",children:[(0,dr.jsx)("div",{className:"cmd-card-icon",children:"\u26a1"}),(0,dr.jsxs)("div",{className:"cmd-card-content",children:[(0,dr.jsx)("span",{className:"cmd-card-label",children:"Decision"}),(0,dr.jsx)("span",{className:"cmd-card-value",children:E})]})]})]}),_.length>0&&(0,dr.jsxs)("div",{className:"cmd-completed",children:[(0,dr.jsx)("span",{className:"cmd-completed-label",children:"\u2713 Completed"}),(0,dr.jsx)("div",{className:"cmd-completed-items",children:_.map((e,t)=>(0,dr.jsx)("span",{className:"cmd-completed-item",children:e.text},t))})]}),"heavy"===N.level&&N.message&&(0,dr.jsx)("p",{className:"cmd-heavy-msg",children:N.message}),!t&&(0,dr.jsxs)("div",{className:"cmd-empty",children:[(0,dr.jsx)("p",{className:"cmd-empty-text",children:"No brief for today."}),(0,dr.jsx)("p",{className:"cmd-empty-sub",children:"Run the Decision Engine to create one."})]}),l.total>0&&(0,dr.jsxs)("div",{className:"cmd-closures",onClick:()=>h(!d),children:[(0,dr.jsxs)("span",{className:"cmd-closures-label",children:["Closures today: ",l.total]}),d&&l.breakdown.length>0&&(0,dr.jsx)("div",{className:"cmd-closures-breakdown",children:l.breakdown.map((e,t)=>(0,dr.jsxs)("span",{className:"cmd-closures-item",children:[e.label,": ",e.count]},t))})]})]}),m&&(0,dr.jsx)(pr,{task:m,onClose:()=>v(null),onUpdate:e=>{g(),y()}})]})},wr=(new Date).toISOString().split("T")[0];const xr=function(){var e,t,n,a,s,o;const[i,l]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[m,v]=(0,r.useState)([]),[g,y]=(0,r.useState)(!0),b=(0,r.useCallback)(async()=>{if(Qn()){try{const e="".concat(wr,"T00:00:00Z"),t="".concat(wr,"T23:59:59Z"),[n,r,a,s,o]=await Promise.all([Yn.from("daily_briefs").select("*").eq("user_id","dan").eq("date",wr).single(),Yn.from("health_data").select("*").eq("user_id","dan").order("date",{ascending:!1}).limit(7),Yn.from("events").select("*").gte("start_time",e).lte("start_time",t).eq("user_id","dan").order("start_time"),Yn.from("habits").select("*").eq("user_id","dan"),Yn.from("goals").select("*").eq("user_id","dan").eq("status","active")]);n.data&&l(n.data),r.data&&u(r.data),a.data&&h(a.data),s.data&&p(s.data),o.data&&v(o.data)}catch(e){console.error("Transparency fetch error:",e)}y(!1)}else y(!1)},[]);(0,r.useEffect)(()=>{b()},[b]);const w=c.find(e=>e.date===wr),x=(null===i||void 0===i?void 0:i.metadata)||{},k=(e=>{switch(e){case"good":return{text:"Normal",color:"var(--green)",bg:"var(--green-soft)"};case"declining":return{text:"Declining",color:"var(--amber)",bg:"var(--amber-soft)"};case"conservation":return{text:"Conservation mode",color:"var(--red)",bg:"var(--red-soft)"};default:return{text:"Unknown",color:"var(--text-muted)",bg:"var(--bg-muted)"}}})(null===i||void 0===i?void 0:i.sleep_trend),_=f.filter(e=>{if(!e.last_seen)return!1;const t=(Date.now()-new Date(e.last_seen))/864e5;return"daily"===e.baseline_frequency&&t>2||("3x_week"===e.baseline_frequency&&t>4||"weekly"===e.baseline_frequency&&t>10)});return g?(0,dr.jsx)("div",{className:"brain",children:(0,dr.jsxs)("div",{className:"brain-loading",children:[(0,dr.jsx)("div",{className:"brain-pulse"}),(0,dr.jsx)("span",{children:"Loading the brain..."})]})}):(0,dr.jsx)("div",{className:"brain",children:(0,dr.jsxs)("div",{className:"brain-container",children:[(0,dr.jsxs)("header",{className:"brain-header",children:[(0,dr.jsx)("h1",{children:"\ud83e\udde0 Show Me The Brain"}),(0,dr.jsx)("p",{className:"brain-sub",children:"Why the system decided what it decided"})]}),i&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsxs)("h2",{className:"brain-section-title",children:["Daily Load \u2014 ",i.load_score,"/100"]}),(0,dr.jsx)("div",{className:"brain-load-bar",children:(0,dr.jsx)("div",{className:"brain-load-fill",style:{width:"".concat(i.load_score||0,"%"),background:i.load_score>=70?"var(--red)":i.load_score>=45?"var(--amber)":"var(--green)"}})}),(0,dr.jsxs)("div",{className:"brain-load-breakdown",children:[(0,dr.jsxs)("div",{className:"brain-load-item",children:[(0,dr.jsx)("span",{className:"brain-load-label",children:"\ud83d\udcc5 Calendar"}),(0,dr.jsxs)("span",{className:"brain-load-detail",children:[(null===(e=x.calendar_hours)||void 0===e?void 0:e.toFixed(1))||0,"h \u2022 ",x.event_count||0," events"]})]}),(0,dr.jsxs)("div",{className:"brain-load-item",children:[(0,dr.jsx)("span",{className:"brain-load-label",children:"\ud83d\udca4 Sleep"}),(0,dr.jsxs)("span",{className:"brain-load-detail",style:{color:k.color},children:[k.text," ",x.sleep_avg?"\u2022 avg ".concat(x.sleep_avg,"h"):"",x.sleep_deficit>0?" \u2022 deficit ".concat(x.sleep_deficit,"h"):"","low"===x.sleep_confidence&&(0,dr.jsx)("span",{className:"brain-confidence-inline",children:" \xb7 Partial data"})]})]}),(0,dr.jsxs)("div",{className:"brain-load-item",children:[(0,dr.jsx)("span",{className:"brain-load-label",children:"\u26a1 Energy"}),(0,dr.jsxs)("span",{className:"brain-load-detail",children:["Budget: ",x.energy_budget||"\u2014"," \u2022 Used: ",x.energy_used||0]})]})]})]}),i&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Today's Decisions"}),(null===(t=i.doing_today)||void 0===t?void 0:t.length)>0&&(0,dr.jsxs)("div",{className:"brain-decision",children:[(0,dr.jsx)("h3",{children:"\u2705 Selected for today"}),(0,dr.jsx)("ul",{children:i.doing_today.map((e,t)=>(0,dr.jsx)("li",{children:e},t))})]}),(null===(n=i.not_doing_today)||void 0===n?void 0:n.length)>0&&(0,dr.jsxs)("div",{className:"brain-decision",children:[(0,dr.jsx)("h3",{children:"\u26d4 Deferred from today"}),(0,dr.jsx)("ul",{className:"brain-deferred",children:i.not_doing_today.map((e,t)=>(0,dr.jsx)("li",{children:e},t))}),(0,dr.jsx)("p",{className:"brain-reason",children:i.load_score>=70?"High load \u2014 system cut intentionally.":x.sleep_avg&&x.sleep_avg<7?"Poor sleep \u2014 limited energy.":"Prioritized by deadlines and dependencies."})]}),(null===(a=x.all_warnings)||void 0===a?void 0:a.length)>0&&(0,dr.jsxs)("div",{className:"brain-decision",children:[(0,dr.jsx)("h3",{children:"\u26a0\ufe0f Signals"}),(0,dr.jsx)("ul",{className:"brain-warnings-list",children:x.all_warnings.map((e,t)=>(0,dr.jsx)("li",{children:e},t))})]})]}),(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Health \u2014 Today"}),w?(0,dr.jsxs)("div",{className:"brain-health-grid",children:[w.sleep_hours&&(0,dr.jsxs)("div",{className:"brain-stat",children:[(0,dr.jsx)("span",{className:"brain-stat-icon",children:"\ud83d\udca4"}),(0,dr.jsxs)("span",{className:"brain-stat-value",children:[w.sleep_hours,"h"]}),(0,dr.jsx)("span",{className:"brain-stat-label",children:"Sleep"})]}),w.body_battery&&(0,dr.jsxs)("div",{className:"brain-stat",children:[(0,dr.jsx)("span",{className:"brain-stat-icon",children:"\ud83d\udd0b"}),(0,dr.jsx)("span",{className:"brain-stat-value",children:w.body_battery}),(0,dr.jsx)("span",{className:"brain-stat-label",children:"Body Battery"})]}),w.stress_level&&(0,dr.jsxs)("div",{className:"brain-stat",children:[(0,dr.jsx)("span",{className:"brain-stat-icon",children:"\ud83d\ude30"}),(0,dr.jsx)("span",{className:"brain-stat-value",children:w.stress_level}),(0,dr.jsx)("span",{className:"brain-stat-label",children:"Stress"})]}),w.steps&&(0,dr.jsxs)("div",{className:"brain-stat",children:[(0,dr.jsx)("span",{className:"brain-stat-icon",children:"\ud83d\udc5f"}),(0,dr.jsx)("span",{className:"brain-stat-value",children:w.steps.toLocaleString()}),(0,dr.jsx)("span",{className:"brain-stat-label",children:"Steps"})]}),w.resting_hr&&(0,dr.jsxs)("div",{className:"brain-stat",children:[(0,dr.jsx)("span",{className:"brain-stat-icon",children:"\u2764\ufe0f"}),(0,dr.jsx)("span",{className:"brain-stat-value",children:w.resting_hr}),(0,dr.jsx)("span",{className:"brain-stat-label",children:"Resting HR"})]})]}):(0,dr.jsx)("p",{className:"brain-empty",children:"No health data for today"})]}),c.length>0&&(()=>{const e=c.filter(e=>e.sleep_hours&&parseFloat(e.sleep_hours)>0).length,t=e<4;return(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsxs)("h2",{className:"brain-section-title",children:["Sleep \u2014 7 days",t&&(0,dr.jsxs)("span",{className:"brain-confidence-tag partial",children:["Partial data (",e,"/7 days)"]})]}),(0,dr.jsx)("div",{className:"brain-sleep-chart",children:c.slice().reverse().map(e=>{var t;const n=parseFloat(e.sleep_hours)||0,r=Math.min(100,n/9*100),a=n<7;return(0,dr.jsxs)("div",{className:"brain-sleep-col",children:[(0,dr.jsx)("span",{className:"brain-sleep-value",children:n>0?n.toFixed(1):"\u2014"}),(0,dr.jsx)("div",{className:"brain-sleep-bar-bg",children:(0,dr.jsx)("div",{className:"brain-sleep-bar ".concat(a?"low":"good"),style:{height:"".concat(r,"%")}})}),(0,dr.jsx)("span",{className:"brain-sleep-date",children:null===(t=e.date)||void 0===t?void 0:t.slice(5)})]},e.date)})})]})})(),m.length>0&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Active Goals"}),(0,dr.jsx)("div",{className:"brain-goals",children:m.map(e=>{var t,n;const r=(null===(t=e.metrics)||void 0===t?void 0:t.confidence)||(null===(n=x.goal_confidence)||void 0===n?void 0:n[e.id])||"unknown",a=e.domain||"personal";return(0,dr.jsxs)("div",{className:"brain-goal",children:[(0,dr.jsxs)("div",{className:"brain-goal-header",children:[(0,dr.jsx)("span",{className:"brain-goal-title",children:e.title}),(0,dr.jsx)("span",{className:"brain-goal-confidence confidence-".concat(r),children:"on_track"===r?"\u2705 On track":"behind"===r?"\u26a0\ufe0f Behind":"ahead"===r?"\ud83d\ude80 Ahead":"\u2753 Unknown"})]}),(0,dr.jsxs)("div",{className:"brain-goal-meta",children:[(0,dr.jsx)("span",{className:"brain-goal-domain",children:{health:"\ud83c\udfc3 Health",work:"\ud83d\udcbc Work",personal:"\ud83c\udf31 Personal"}[a]||a}),e.priority&&(0,dr.jsxs)("span",{className:"brain-goal-priority",children:["Priority ",e.priority,"/5"]})]}),e.protection_rules&&e.protection_rules.length>0&&(0,dr.jsx)("div",{className:"brain-goal-rules",children:e.protection_rules.map((e,t)=>(0,dr.jsxs)("span",{className:"brain-goal-rule",children:["\ud83d\udee1\ufe0f ",e]},t))})]},e.id)})})]}),_.length>0&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Missed Habits"}),(0,dr.jsx)("div",{className:"brain-habits",children:_.map(e=>{const t=Math.round((Date.now()-new Date(e.last_seen))/864e5);return(0,dr.jsxs)("div",{className:"brain-habit",children:[(0,dr.jsx)("span",{className:"brain-habit-name",children:e.title}),(0,dr.jsxs)("span",{className:"brain-habit-days",children:[t," days"]})]},e.id)})})]}),d.length>0&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Schedule \u2014 Today"}),(0,dr.jsx)("div",{className:"brain-timeline",children:d.map(e=>{const t=e.start_time?new Date(e.start_time).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):"";return(0,dr.jsxs)("div",{className:"brain-event",children:[(0,dr.jsx)("span",{className:"brain-event-time",children:t}),(0,dr.jsx)("span",{className:"brain-event-title",children:e.title}),e.energy_level&&(0,dr.jsx)("span",{className:"brain-tag energy-".concat(e.energy_level),children:e.energy_level})]},e.id)})})]}),(null===(s=x.active_projects)||void 0===s?void 0:s.length)>0&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsxs)("h2",{className:"brain-section-title",children:["Active Projects \u2014 ",x.active_projects.length,"/3"]}),(0,dr.jsx)("div",{className:"brain-projects",children:x.active_projects.map((e,t)=>(0,dr.jsx)("div",{className:"brain-project",children:e},t))}),x.active_projects.length>3&&(0,dr.jsx)("p",{className:"brain-over-limit",children:"\u26a0\ufe0f Over limit \u2014 freeze a project"})]}),(null===(o=x.pending_dependencies)||void 0===o?void 0:o.length)>0&&(0,dr.jsxs)("section",{className:"brain-section",children:[(0,dr.jsx)("h2",{className:"brain-section-title",children:"Open Dependencies"}),(0,dr.jsx)("div",{className:"brain-deps",children:x.pending_dependencies.map((e,t)=>(0,dr.jsxs)("div",{className:"brain-dep",children:[(0,dr.jsxs)("span",{className:"brain-dep-person",children:["\u23f3 ",e.person]}),(0,dr.jsx)("span",{className:"brain-dep-for",children:e.for})]},t))})]})]})})};function kr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _r=n(950);const Sr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function jr(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Er(e){return"nodeType"in e}function Nr(e){var t,n;return e?jr(e)?e:Er(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Cr(e){const{Document:t}=Nr(e);return e instanceof t}function Tr(e){return!jr(e)&&e instanceof Nr(e).HTMLElement}function Rr(e){return e instanceof Nr(e).SVGElement}function Or(e){return e?jr(e)?e.document:Er(e)?Cr(e)?e:Tr(e)||Rr(e)?e.ownerDocument:document:document:document}const Pr=Sr?r.useLayoutEffect:r.useEffect;function Ar(e){const t=(0,r.useRef)(e);return Pr(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function Dr(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return Pr(()=>{n.current!==e&&(n.current=e)},t),n}function Ir(e,t){const n=(0,r.useRef)();return(0,r.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function Lr(e){const t=Ar(e),n=(0,r.useRef)(null),a=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,a]}function Mr(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let zr={};function Ur(e,t){return(0,r.useMemo)(()=>{if(t)return t;const n=null==zr[e]?0:zr[e]+1;return zr[e]=n,e+"-"+n},[e,t])}function Fr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},u({},t))}}const Br=Fr(1),qr=Fr(-1);function Wr(e){if(!e)return!1;const{KeyboardEvent:t}=Nr(e.target);return t&&e instanceof t}function Kr(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Nr(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Vr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Vr.Translate.toString(e),Vr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Hr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Gr(e){return e.matches(Hr)?e:e.querySelector(Hr)}const Jr={display:"none"};function $r(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:Jr},n)}function Yr(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},n)}const Qr=["transform"],Xr=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],Zr=(0,r.createContext)(null);const ea={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ta={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function na(e){let{announcements:t=ta,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=ea}=e;const{announce:o,announcement:i}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=Ur("DndLiveRegion"),[c,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{u(!0)},[]),function(e){const t=(0,r.useContext)(Zr);(0,r.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,r.useMemo)(()=>({onDragStart(e){let{active:n}=e;o(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&o(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;o(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;o(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;o(t.onDragCancel({active:n,over:r}))}}),[o,t])),!c)return null;const d=r.createElement(r.Fragment,null,r.createElement($r,{id:a,value:s.draggable}),r.createElement(Yr,{id:l,announcement:i}));return n?(0,_r.createPortal)(d,n):d}var ra;function aa(){}function sa(e,t){return(0,r.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(ra||(ra={}));const oa=Object.freeze({x:0,y:0});function ia(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function la(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ca(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ua(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function da(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function ha(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const fa=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=ha(t,t.left,t.top),s=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=ia(ha(t),a);s.push({id:e,data:{droppableContainer:o,value:n}})}}return s.sort(la)};function pa(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=a-r,i=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=o*i;return Number((a/(n+r-a)).toFixed(4))}return 0}const ma=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=pa(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(ca)};function va(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oa}function ga(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>u(u({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),u({},t))}}const ya=ga(1);function ba(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const wa={ignoreTransform:!1};function xa(e,t){void 0===t&&(t=wa);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Nr(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=ba(t);if(!r)return e;const{scaleX:a,scaleY:s,x:o,y:i}=r,l=e.left-o-(1-a)*parseFloat(n),c=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:a,width:s,height:o,bottom:i,right:l}=n;return{top:r,left:a,width:s,height:o,bottom:i,right:l}}function ka(e){return xa(e,{ignoreTransform:!0})}function _a(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(Cr(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Tr(a)||Rr(a))return n;if(n.includes(a))return n;const s=Nr(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=Nr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=Nr(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function Sa(e){const[t]=_a(e,1);return null!=t?t:null}function ja(e){return Sr&&e?jr(e)?e:Er(e)?Cr(e)||e===Or(e).scrollingElement?window:Tr(e)?e:null:null:null}function Ea(e){return jr(e)?e.scrollX:e.scrollLeft}function Na(e){return jr(e)?e.scrollY:e.scrollTop}function Ca(e){return{x:Ea(e),y:Na(e)}}var Ta;function Ra(e){return!(!Sr||!e)&&e===document.scrollingElement}function Oa(e){const t={x:0,y:0},n=Ra(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Ta||(Ta={}));const Pa={x:.2,y:.2};function Aa(e,t,n,r,a){let{top:s,left:o,right:i,bottom:l}=n;void 0===r&&(r=10),void 0===a&&(a=Pa);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=Oa(e),f={x:0,y:0},p={x:0,y:0},m=t.height*a.y,v=t.width*a.x;return!c&&s<=t.top+m?(f.y=Ta.Backward,p.y=r*Math.abs((t.top+m-s)/m)):!u&&l>=t.bottom-m&&(f.y=Ta.Forward,p.y=r*Math.abs((t.bottom-m-l)/m)),!h&&i>=t.right-v?(f.x=Ta.Forward,p.x=r*Math.abs((t.right-v-i)/v)):!d&&o<=t.left+v&&(f.x=Ta.Backward,p.x=r*Math.abs((t.left+v-o)/v)),{direction:f,speed:p}}function Da(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Ia(e){return e.reduce((e,t)=>Br(e,Ca(t)),oa)}function La(e,t){if(void 0===t&&(t=xa),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);Sa(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ma=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Ea(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Na(t),0)}]];class za{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=_a(t),r=Ia(n);this.rect=u({},e),this.width=e.width,this.height=e.height;for(const[a,s,o]of Ma)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=o(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ua{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Fa(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Ba,qa;function Wa(e){e.preventDefault()}function Ka(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Ba||(Ba={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(qa||(qa={}));const Va={start:[qa.Space,qa.Enter],cancel:[qa.Esc],end:[qa.Space,qa.Enter,qa.Tab]},Ha=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case qa.Right:return u(u({},n),{},{x:n.x+25});case qa.Left:return u(u({},n),{},{x:n.x-25});case qa.Down:return u(u({},n),{},{y:n.y+25});case qa.Up:return u(u({},n),{},{y:n.y-25})}};class Ga{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ua(Or(t)),this.windowListeners=new Ua(Nr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&La(n),t(oa)}handleKeyDown(e){if(Wr(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=Va,coordinateGetter:s=Ha,scrollBehavior:o="smooth"}=r,{code:i}=e;if(a.end.includes(i))return void this.handleEnd(e);if(a.cancel.includes(i))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:oa;this.referenceCoordinates||(this.referenceCoordinates=c);const u=s(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=qr(u,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:i,isLeft:l,isBottom:c,maxScroll:d,minScroll:h}=Oa(n),f=Da(n),p={x:Math.min(a===qa.Right?f.right-f.width/2:f.right,Math.max(a===qa.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(a===qa.Down?f.bottom-f.height/2:f.bottom,Math.max(a===qa.Down?f.top:f.top+f.height/2,u.y))},m=a===qa.Right&&!i||a===qa.Left&&!l,v=a===qa.Down&&!c||a===qa.Up&&!s;if(m&&p.x!==u.x){const e=n.scrollLeft+t.x,s=a===qa.Right&&e<=d.x||a===qa.Left&&e>=h.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=s?n.scrollLeft-e:a===qa.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(v&&p.y!==u.y){const e=n.scrollTop+t.y,s=a===qa.Down&&e<=d.y||a===qa.Up&&e>=h.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=s?n.scrollTop-e:a===qa.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,Br(qr(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ja(e){return Boolean(e&&"distance"in e)}function $a(e){return Boolean(e&&"delay"in e)}Ga.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Va,onActivation:a}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class Ya{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Nr(e);return e instanceof t?e:Or(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=Or(s),this.documentListeners=new Ua(this.document),this.listeners=new Ua(n),this.windowListeners=new Ua(Nr(s)),this.initialCoordinates=null!=(r=Kr(a))?r:oa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.DragStart,Wa),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),this.windowListeners.add(Ba.ContextMenu,Wa),this.documentListeners.add(Ba.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($a(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Ja(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ba.Click,Ka,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ba.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!r)return;const i=null!=(t=Kr(e))?t:oa,l=qr(r,i);if(!n&&o){if(Ja(o)){if(null!=o.tolerance&&Fa(l,o.tolerance))return this.handleCancel();if(Fa(l,o.distance))return this.handleStart()}return $a(o)&&Fa(l,o.tolerance)?this.handleCancel():void this.handlePending(o,l)}e.cancelable&&e.preventDefault(),s(i)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===qa.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Qa={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xa extends Ya{constructor(e){const{event:t}=e,n=Or(t.target);super(e,Qa,n)}}Xa.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Za={move:{name:"mousemove"},end:{name:"mouseup"}};var es;!function(e){e[e.RightClick=2]="RightClick"}(es||(es={}));(class extends Ya{constructor(e){super(e,Za,Or(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==es.RightClick&&(null==r||r({event:n}),!0)}}];const ts={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var ns,rs;function as(e){let{acceleration:t,activator:n=ns.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:i=5,order:l=rs.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=Mr(t);return Ir(e=>{if(n||!r||!e)return ss;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ta.Backward]:e.x[Ta.Backward]||-1===a.x,[Ta.Forward]:e.x[Ta.Forward]||1===a.x},y:{[Ta.Backward]:e.y[Ta.Backward]||-1===a.y,[Ta.Forward]:e.y[Ta.Forward]||1===a.y}}},[n,t,r])}({delta:h,disabled:!o}),[m,v]=function(){const e=(0,r.useRef)(null);return[(0,r.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),g=(0,r.useRef)({x:0,y:0}),y=(0,r.useRef)({x:0,y:0}),b=(0,r.useMemo)(()=>{switch(n){case ns.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ns.DraggableRect:return s}},[n,s,c]),w=(0,r.useRef)(null),x=(0,r.useCallback)(()=>{const e=w.current;if(!e)return;const t=g.current.x*y.current.x,n=g.current.y*y.current.y;e.scrollBy(t,n)},[]),k=(0,r.useMemo)(()=>l===rs.TreeOrder?[...u].reverse():u,[l,u]);(0,r.useEffect)(()=>{if(o&&u.length&&b){for(const e of k){if(!1===(null==a?void 0:a(e)))continue;const n=u.indexOf(e),r=d[n];if(!r)continue;const{direction:s,speed:o}=Aa(e,r,b,t,f);for(const e of["x","y"])p[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return v(),w.current=e,m(x,i),g.current=o,void(y.current=s)}g.current={x:0,y:0},y.current={x:0,y:0},v()}else v()},[t,x,a,v,o,i,JSON.stringify(b),JSON.stringify(p),m,u,k,d,JSON.stringify(f)])}(class extends Ya{constructor(e){super(e,ts)}static setup(){return window.addEventListener(ts.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ts.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ns||(ns={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(rs||(rs={}));const ss={x:{[Ta.Backward]:!1,[Ta.Forward]:!1},y:{[Ta.Backward]:!1,[Ta.Forward]:!1}};var os,is;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(os||(os={})),function(e){e.Optimized="optimized"}(is||(is={}));const ls=new Map;function cs(e,t){return Ir(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function us(e){let{callback:t,disabled:n}=e;const a=Ar(t),s=(0,r.useMemo)(()=>{if(n||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[n]);return(0,r.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function ds(e){return new za(xa(e),e)}function hs(e,t,n){void 0===t&&(t=ds);const[a,s]=(0,r.useState)(null);function o(){s(r=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=r?r:n)?a:null;const s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}const i=function(e){let{callback:t,disabled:n}=e;const a=Ar(t),s=(0,r.useMemo)(()=>{if(n||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,n]);return(0,r.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=us({callback:o});return Pr(()=>{o(),e?(null==l||l.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==i||i.disconnect())},[e]),a}const fs=[];function ps(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=null},t),(0,r.useEffect)(()=>{const t=e!==oa;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?qr(e,n.current):oa}function ms(e){return(0,r.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const vs=[];function gs(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tr(t)?t:e}const ys=[{sensor:Xa,options:{}},{sensor:Ga,options:{}}],bs={current:{}},ws={draggable:{measure:ka},droppable:{measure:ka,strategy:os.WhileDragging,frequency:is.Optimized},dragOverlay:{measure:xa}};class xs extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const ks={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:aa},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ws,measureDroppableContainers:aa,windowRect:null,measuringScheduled:!1},_s={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:aa,draggableNodes:new Map,over:null,measureDroppableContainers:aa},Ss=(0,r.createContext)(_s),js=(0,r.createContext)(ks);function Es(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xs}}}function Ns(e,t){switch(t.type){case ra.DragStart:return u(u({},e),{},{draggable:u(u({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case ra.DragMove:return null==e.draggable.active?e:u(u({},e),{},{draggable:u(u({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case ra.DragEnd:case ra.DragCancel:return u(u({},e),{},{draggable:u(u({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case ra.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new xs(e.droppable.containers);return a.set(r,n),u(u({},e),{},{droppable:u(u({},e.droppable),{},{containers:a})})}case ra.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new xs(e.droppable.containers);return o.set(n,u(u({},s),{},{disabled:a})),u(u({},e),{},{droppable:u(u({},e.droppable),{},{containers:o})})}case ra.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new xs(e.droppable.containers);return s.delete(n),u(u({},e),{},{droppable:u(u({},e.droppable),{},{containers:s})})}default:return e}}function Cs(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=(0,r.useContext)(Ss),o=Mr(a),i=Mr(null==n?void 0:n.id);return(0,r.useEffect)(()=>{if(!t&&!a&&o&&null!=i){if(!Wr(o))return;if(document.activeElement===o.target)return;const e=s.get(i);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Gr(e);if(t){t.focus();break}}})}},[a,t,s,i,o]),null}function Ts(e,t){let{transform:n}=t,r=kr(t,Qr);return null!=e&&e.length?e.reduce((e,t)=>t(u({transform:e},r)),n):n}const Rs=(0,r.createContext)(u(u({},oa),{},{scaleX:1,scaleY:1}));var Os;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Os||(Os={}));const Ps=(0,r.memo)(function(e){var t,n,a,s;let{id:o,accessibility:i,autoScroll:l=!0,children:c,sensors:d=ys,collisionDetection:h=ma,measuring:f,modifiers:p}=e,m=kr(e,Xr);const v=(0,r.useReducer)(Ns,void 0,Es),[g,y]=v,[b,w]=function(){const[e]=(0,r.useState)(()=>new Set),t=(0,r.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,r.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[x,k]=(0,r.useState)(Os.Uninitialized),_=x===Os.Initialized,{draggable:{active:S,nodes:j,translate:E},droppable:{containers:N}}=g,C=null!=S?j.get(S):null,T=(0,r.useRef)({initial:null,translated:null}),R=(0,r.useMemo)(()=>{var e;return null!=S?{id:S,data:null!=(e=null==C?void 0:C.data)?e:bs,rect:T}:null},[S,C]),O=(0,r.useRef)(null),[P,A]=(0,r.useState)(null),[D,I]=(0,r.useState)(null),L=Dr(m,Object.values(m)),M=Ur("DndDescribedBy",o),z=(0,r.useMemo)(()=>N.getEnabled(),[N]),U=(F=f,(0,r.useMemo)(()=>({draggable:u(u({},ws.draggable),null==F?void 0:F.draggable),droppable:u(u({},ws.droppable),null==F?void 0:F.droppable),dragOverlay:u(u({},ws.dragOverlay),null==F?void 0:F.dragOverlay)}),[null==F?void 0:F.draggable,null==F?void 0:F.droppable,null==F?void 0:F.dragOverlay]));var F;const{droppableRects:B,measureDroppableContainers:q,measuringScheduled:W}=function(e,t){let{dragging:n,dependencies:a,config:s}=t;const[o,i]=(0,r.useState)(null),{frequency:l,measure:c,strategy:u}=s,d=(0,r.useRef)(e),h=function(){switch(u){case os.Always:return!1;case os.BeforeDragging:return n;default:return!n}}(),f=Dr(h),p=(0,r.useCallback)(function(e){void 0===e&&(e=[]),f.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,r.useRef)(null),v=Ir(t=>{if(h&&!n)return ls;if(!t||t===ls||d.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new za(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,o,n,h,c]);return(0,r.useEffect)(()=>{d.current=e},[e]),(0,r.useEffect)(()=>{h||p()},[n,h]),(0,r.useEffect)(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),(0,r.useEffect)(()=>{h||"number"!==typeof l||null!==m.current||(m.current=setTimeout(()=>{p(),m.current=null},l))},[l,h,p,...a]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:null!=o}}(z,{dragging:_,dependencies:[E.x,E.y],config:U.droppable}),K=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Ir(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(j,S),V=(0,r.useMemo)(()=>D?Kr(D):null,[D]),H=function(){const e=!1===(null==P?void 0:P.autoScrollEnabled),t="object"===typeof l?!1===l.enabled:!1===l,n=_&&!e&&!t;if("object"===typeof l)return u(u({},l),{},{enabled:n});return{enabled:n}}(),G=function(e,t){return cs(e,t)}(K,U.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const o=(0,r.useRef)(!1),{x:i,y:l}="boolean"===typeof s?{x:s,y:s}:s;Pr(()=>{if(!i&&!l||!t)return void(o.current=!1);if(o.current||!a)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=va(n(e),a);if(i||(r.x=0),l||(r.y=0),o.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=Sa(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,i,l,a,n])}({activeNode:null!=S?j.get(S):null,config:H.layoutShiftCompensation,initialRect:G,measure:U.draggable.measure});const J=hs(K,U.draggable.measure,G),$=hs(K?K.parentElement:null),Y=(0,r.useRef)({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=N.getNodeFor(null==(t=Y.current.over)?void 0:t.id),X=function(e){let{measure:t}=e;const[n,a]=(0,r.useState)(null),s=us({callback:(0,r.useCallback)(e=>{for(const{target:n}of e)if(Tr(n)){a(e=>{const r=t(n);return e?u(u({},e),{},{width:r.width,height:r.height}):r});break}},[t])}),o=(0,r.useCallback)(e=>{const n=gs(e);null==s||s.disconnect(),n&&(null==s||s.observe(n)),a(n?t(n):null)},[t,s]),[i,l]=Lr(o);return(0,r.useMemo)(()=>({nodeRef:i,rect:n,setRef:l}),[n,i,l])}({measure:U.dragOverlay.measure}),Z=null!=(n=X.nodeRef.current)?n:K,ee=_?null!=(a=X.rect)?a:J:null,te=Boolean(X.nodeRef.current&&X.rect),ne=va(re=te?null:J,cs(re));var re;const ae=ms(Z?Nr(Z):null),se=function(e){const t=(0,r.useRef)(e),n=Ir(n=>e?n&&n!==fs&&e&&t.current&&e.parentNode===t.current.parentNode?n:_a(e):fs,[e]);return(0,r.useEffect)(()=>{t.current=e},[e]),n}(_?null!=Q?Q:K:null),oe=function(e,t){void 0===t&&(t=xa);const[n]=e,a=ms(n?Nr(n):null),[s,o]=(0,r.useState)(vs);function i(){o(()=>e.length?e.map(e=>Ra(e)?a:new za(t(e),e)):vs)}const l=us({callback:i});return Pr(()=>{null==l||l.disconnect(),i(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),s}(se),ie=Ts(p,{transform:{x:E.x-ne.x,y:E.y-ne.y,scaleX:1,scaleY:1},activatorEvent:D,active:R,activeNodeRect:J,containerNodeRect:$,draggingNodeRect:ee,over:Y.current.over,overlayNodeRect:X.rect,scrollableAncestors:se,scrollableAncestorRects:oe,windowRect:ae}),le=V?Br(V,E):null,ce=function(e){const[t,n]=(0,r.useState)(null),a=(0,r.useRef)(e),s=(0,r.useCallback)(e=>{const t=ja(e.target);t&&n(e=>e?(e.set(t,Ca(t)),new Map(e)):null)},[]);return(0,r.useEffect)(()=>{const t=a.current;if(e!==t){r(t);const o=e.map(e=>{const t=ja(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,Ca(t)]):null}).filter(e=>null!=e);n(o.length?new Map(o):null),a.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=ja(e);null==t||t.removeEventListener("scroll",s)})}},[s,e]),(0,r.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Br(e,t),oa):Ia(e):oa,[e,t])}(se),ue=ps(ce),de=ps(ce,[J]),he=Br(ie,ue),fe=ee?ya(ee,ie):null,pe=R&&fe?h({active:R,collisionRect:fe,droppableRects:B,droppableContainers:z,pointerCoordinates:le}):null,me=da(pe,"id"),[ve,ge]=(0,r.useState)(null),ye=function(e,t,n){return u(u({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(te?ie:Br(ie,de),null!=(s=null==ve?void 0:ve.rect)?s:null,J),be=(0,r.useRef)(null),we=(0,r.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==O.current)return;const a=j.get(O.current);if(!a)return;const s=e.nativeEvent,o=new n({active:O.current,activeNode:a,event:s,options:r,context:Y,onAbort(e){if(!j.get(e))return;const{onDragAbort:t}=L.current,n={id:e};null==t||t(n),b({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!j.get(e))return;const{onDragPending:a}=L.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),b({type:"onDragPending",event:s})},onStart(e){const t=O.current;if(null==t)return;const n=j.get(t);if(!n)return;const{onDragStart:r}=L.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:T}};(0,_r.unstable_batchedUpdates)(()=>{null==r||r(a),k(Os.Initializing),y({type:ra.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:a}),A(be.current),I(s)})},onMove(e){y({type:ra.DragMove,coordinates:e})},onEnd:i(ra.DragEnd),onCancel:i(ra.DragCancel)});function i(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=Y.current;let o=null;if(t&&a){const{cancelDrop:i}=L.current;if(o={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===ra.DragEnd&&"function"===typeof i){await Promise.resolve(i(o))&&(e=ra.DragCancel)}}O.current=null,(0,_r.unstable_batchedUpdates)(()=>{y({type:e}),k(Os.Uninitialized),ge(null),A(null),I(null),be.current=null;const t=e===ra.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=L.current[t];null==e||e(o),b({type:t,event:o})}})}}be.current=o},[j]),xe=(0,r.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,s=j.get(r);if(null!==O.current||!s||a.dndKit||a.defaultPrevented)return;const o={active:s};!0===e(n,t.options,o)&&(a.dndKit={capturedBy:t.sensor},O.current=r,we(n,t))},[j,we]),ke=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(d,xe);!function(e){(0,r.useEffect)(()=>{if(!Sr)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(d),Pr(()=>{J&&x===Os.Initializing&&k(Os.Initialized)},[J,x]),(0,r.useEffect)(()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:n,collisions:r,over:a}=Y.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:he.x,y:he.y},over:a};(0,_r.unstable_batchedUpdates)(()=>{null==e||e(s),b({type:"onDragMove",event:s})})},[he.x,he.y]),(0,r.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=Y.current;if(!e||null==O.current||!t||!a)return;const{onDragOver:s}=L.current,o=r.get(me),i=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:i};(0,_r.unstable_batchedUpdates)(()=>{ge(i),null==s||s(l),b({type:"onDragOver",event:l})})},[me]),Pr(()=>{Y.current={activatorEvent:D,active:R,activeNode:K,collisionRect:fe,collisions:pe,droppableRects:B,draggableNodes:j,draggingNode:Z,draggingNodeRect:ee,droppableContainers:N,over:ve,scrollableAncestors:se,scrollAdjustedTranslate:he},T.current={initial:ee,translated:fe}},[R,K,pe,fe,j,Z,ee,B,N,ve,se,he]),as(u(u({},H),{},{delta:E,draggingRect:fe,pointerCoordinates:le,scrollableAncestors:se,scrollableAncestorRects:oe}));const _e=(0,r.useMemo)(()=>({active:R,activeNode:K,activeNodeRect:J,activatorEvent:D,collisions:pe,containerNodeRect:$,dragOverlay:X,draggableNodes:j,droppableContainers:N,droppableRects:B,over:ve,measureDroppableContainers:q,scrollableAncestors:se,scrollableAncestorRects:oe,measuringConfiguration:U,measuringScheduled:W,windowRect:ae}),[R,K,J,D,pe,$,X,j,N,B,ve,q,se,oe,U,W,ae]),Se=(0,r.useMemo)(()=>({activatorEvent:D,activators:ke,active:R,activeNodeRect:J,ariaDescribedById:{draggable:M},dispatch:y,draggableNodes:j,over:ve,measureDroppableContainers:q}),[D,ke,R,J,y,M,j,ve,q]);return r.createElement(Zr.Provider,{value:w},r.createElement(Ss.Provider,{value:Se},r.createElement(js.Provider,{value:_e},r.createElement(Rs.Provider,{value:ye},c)),r.createElement(Cs,{disabled:!1===(null==i?void 0:i.restoreFocus)})),r.createElement(na,u(u({},i),{},{hiddenTextDescribedById:M})))}),As=(0,r.createContext)(null),Ds="button";function Is(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const o=Ur("Draggable"),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=(0,r.useContext)(Ss),{role:p=Ds,roleDescription:m="draggable",tabIndex:v=0}=null!=s?s:{},g=(null==c?void 0:c.id)===t,y=(0,r.useContext)(g?Rs:As),[b,w]=Lr(),[x,k]=Lr(),_=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:a}=n;return e[r]=e=>{a(e,t)},e},{}),[e,t])}(i,t),S=Dr(n);Pr(()=>(h.set(t,{id:t,key:o,node:b,activatorNode:x,data:S}),()=>{const e=h.get(t);e&&e.key===o&&h.delete(t)}),[h,t]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,r.useMemo)(()=>({role:p,tabIndex:v,"aria-disabled":a,"aria-pressed":!(!g||p!==Ds)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[a,p,v,g,m,d.draggable]),isDragging:g,listeners:a?void 0:_,node:b,over:f,setNodeRef:w,setActivatorNodeRef:k,transform:y}}function Ls(){return(0,r.useContext)(js)}const Ms={timeout:25};function zs(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Us(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function Fs(e){return null!==e&&e>=0}const Bs=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const s=zs(t,r,n),o=t[a],i=s[a];return i&&o?{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}:null},qs={scaleX:1,scaleY:1},Ws=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:s,overIndex:o}=e;const i=null!=(t=s[n])?t:r;if(!i)return null;if(a===n){const e=s[o];return e?u({x:0,y:n<o?e.top+e.height-(i.top+i.height):e.top-i.top},qs):null}const l=function(e,t,n){const r=e[t],a=e[t-1],s=e[t+1];if(!r)return 0;if(n<t)return a?r.top-(a.top+a.height):s?s.top-(r.top+r.height):0;return s?s.top-(r.top+r.height):a?r.top-(a.top+a.height):0}(s,a,n);return u(a>n&&a<=o?{x:0,y:-i.height-l}:a<n&&a>=o?{x:0,y:i.height+l}:{x:0,y:0},qs)};const Ks="Sortable",Vs=r.createContext({activeIndex:-1,containerId:Ks,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bs,disabled:{draggable:!1,droppable:!1}});function Hs(e){let{children:t,id:n,items:a,strategy:s=Bs,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Ls(),h=Ur(Ks,n),f=Boolean(null!==l.rect),p=(0,r.useMemo)(()=>a.map(e=>"object"===typeof e&&"id"in e?e.id:e),[a]),m=null!=i,v=i?p.indexOf(i.id):-1,g=u?p.indexOf(u.id):-1,y=(0,r.useRef)(p),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,y.current),w=-1!==g&&-1===v||b,x=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(o);Pr(()=>{b&&m&&d(p)},[b,p,m,d]),(0,r.useEffect)(()=>{y.current=p},[p]);const k=(0,r.useMemo)(()=>({activeIndex:v,containerId:h,disabled:x,disableTransforms:w,items:p,overIndex:g,useDragOverlay:f,sortedRects:Us(p,c),strategy:s}),[v,h,x.draggable,x.droppable,w,p,g,c,f,s]);return r.createElement(Vs.Provider,{value:k},t)}const Gs=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return zs(n,r,a).indexOf(t)},Js=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:s,newIndex:o,previousItems:i,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((i===s||a!==o)&&(!!n||o!==a&&t===l))},$s={duration:200,easing:"ease"},Ys="transform",Qs=Vr.Transition.toString({property:Ys,duration:0,easing:"linear"}),Xs={roleDescription:"sortable"};function Zs(e){let{animateLayoutChanges:t=Js,attributes:n,disabled:a,data:s,getNewIndex:o=Gs,id:i,strategy:l,resizeObserverConfig:c,transition:d=$s}=e;const{items:h,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:b,strategy:w}=(0,r.useContext)(Vs),x=function(e,t){var n,r;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(a,m),k=h.indexOf(i),_=(0,r.useMemo)(()=>u({sortable:{containerId:f,index:k,items:h}},s),[f,s,k,h]),S=(0,r.useMemo)(()=>h.slice(h.indexOf(i)),[h,i]),{rect:j,node:E,isOver:N,setNodeRef:C}=function(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const o=Ur("Droppable"),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=(0,r.useContext)(Ss),h=(0,r.useRef)({disabled:n}),f=(0,r.useRef)(!1),p=(0,r.useRef)(null),m=(0,r.useRef)(null),{disabled:v,updateMeasurementsFor:g,timeout:y}=u(u({},Ms),s),b=Dr(null!=g?g:a),w=us({callback:(0,r.useCallback)(()=>{f.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),m.current=null},y)):f.current=!0},[y]),disabled:v||!i}),x=(0,r.useCallback)((e,t)=>{w&&(t&&(w.unobserve(t),f.current=!1),e&&w.observe(e))},[w]),[k,_]=Lr(x),S=Dr(t);return(0,r.useEffect)(()=>{w&&k.current&&(w.disconnect(),f.current=!1,w.observe(k.current))},[k,w]),(0,r.useEffect)(()=>(l({type:ra.RegisterDroppable,element:{id:a,key:o,disabled:n,node:k,rect:p,data:S}}),()=>l({type:ra.UnregisterDroppable,key:o,id:a})),[a]),(0,r.useEffect)(()=>{n!==h.current.disabled&&(l({type:ra.SetDroppableDisabled,id:a,key:o,disabled:n}),h.current.disabled=n)},[a,o,n,l]),{active:i,rect:p,isOver:(null==c?void 0:c.id)===a,node:k,over:c,setNodeRef:_}}({id:i,data:_,disabled:x.droppable,resizeObserverConfig:u({updateMeasurementsFor:S},c)}),{active:T,activatorEvent:R,activeNodeRect:O,attributes:P,setNodeRef:A,listeners:D,isDragging:I,over:L,setActivatorNodeRef:M,transform:z}=Is({id:i,data:_,attributes:u(u({},Xs),n),disabled:x.draggable}),U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(C,A),F=Boolean(T),B=F&&!v&&Fs(p)&&Fs(y),q=!b&&I,W=q&&B?z:null,K=B?null!=W?W:(null!=l?l:w)({rects:g,activeNodeRect:O,activeIndex:p,overIndex:y,index:k}):null,V=Fs(p)&&Fs(y)?o({id:i,items:h,activeIndex:p,overIndex:y}):k,H=null==T?void 0:T.id,G=(0,r.useRef)({activeId:H,items:h,newIndex:V,containerId:f}),J=h!==G.current.items,$=t({active:T,containerId:f,isDragging:I,isSorting:F,id:i,index:k,items:h,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:d,wasDragging:null!=G.current.activeId}),Y=function(e){let{disabled:t,index:n,node:a,rect:s}=e;const[o,i]=(0,r.useState)(null),l=(0,r.useRef)(n);return Pr(()=>{if(!t&&n!==l.current&&a.current){const e=s.current;if(e){const t=xa(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==l.current&&(l.current=n)},[t,n,a,s]),(0,r.useEffect)(()=>{o&&i(null)},[o]),o}({disabled:!$,index:k,node:E,rect:j});return(0,r.useEffect)(()=>{F&&G.current.newIndex!==V&&(G.current.newIndex=V),f!==G.current.containerId&&(G.current.containerId=f),h!==G.current.items&&(G.current.items=h)},[F,V,f,h]),(0,r.useEffect)(()=>{if(H===G.current.activeId)return;if(null!=H&&null==G.current.activeId)return void(G.current.activeId=H);const e=setTimeout(()=>{G.current.activeId=H},50);return()=>clearTimeout(e)},[H]),{active:T,activeIndex:p,attributes:P,data:_,rect:j,index:k,newIndex:V,items:h,isOver:N,isSorting:F,isDragging:I,listeners:D,node:E,overIndex:y,over:L,setNodeRef:U,setActivatorNodeRef:M,setDroppableNodeRef:C,setDraggableNodeRef:A,transform:null!=Y?Y:K,transition:function(){if(Y||J&&G.current.newIndex===k)return Qs;if(q&&!Wr(R)||!d)return;if(F||$)return Vr.Transition.toString(u(u({},d),{},{property:Ys}));return}()}}function eo(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"===typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const to=[qa.Down,qa.Right,qa.Up,qa.Left],no=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:s,over:o,scrollableAncestors:i}}=t;if(to.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];s.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const s=a.get(n.id);if(s)switch(e.code){case qa.Down:r.top<s.top&&t.push(n);break;case qa.Up:r.top>s.top&&t.push(n);break;case qa.Left:r.left>s.left&&t.push(n);break;case qa.Right:r.left<s.left&&t.push(n)}});const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=ua(t),s=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=ua(t),r=a.reduce((e,t,r)=>e+ia(n[r],t),0),i=Number((r/4).toFixed(4));s.push({id:e,data:{droppableContainer:o,value:i}})}}return s.sort(la)})({active:n,collisionRect:r,droppableRects:a,droppableContainers:t,pointerCoordinates:null});let c=da(l,"id");if(c===(null==o?void 0:o.id)&&l.length>1&&(c=l[1].id),null!=c){const e=s.get(n.id),t=s.get(c),o=t?a.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=_a(l).some((e,t)=>i[t]!==e),a=ro(e,t),s=function(e,t){if(!eo(e)||!eo(t))return!1;if(!ro(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!a?{x:0,y:0}:{x:s?r.width-o.width:0,y:s?r.height-o.height:0},u={x:o.left,y:o.top};return c.x&&c.y?u:qr(u,c)}}}};function ro(e,t){return!(!eo(e)||!eo(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ao(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ao(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function so(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ao(e))&&(r&&(r+=" "),r+=t);return r}const oo=["class","className"],io=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,lo=so,co=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return lo(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===s||void 0===s?void 0:s[e];if(null===t)return null;const o=io(t)||io(r);return a[e][o]}),i=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,a=kr(t,oo);return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(u(u({},s),i)[t]):u(u({},s),i)[t]===n})?[...e,n,r]:e},[]);return lo(e,o,l,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)};function uo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return so(t)}const ho=["className","variant","size","asChild"],fo=co("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 min-h-[44px] px-4 py-2",sm:"h-10 min-h-[40px] rounded-md px-3",lg:"h-12 min-h-[48px] rounded-md px-8",icon:"h-11 w-11 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),po=r.forwardRef((e,t)=>{let{className:n,variant:r,size:a,asChild:s}=e,o=kr(e,ho);return(0,dr.jsx)("button",u({className:uo(fo({variant:r,size:a,className:n})),ref:t},o))});po.displayName="Button";const mo=["className","type"],vo=r.forwardRef((e,t)=>{let{className:n,type:r}=e,a=kr(e,mo);return(0,dr.jsx)("input",u({type:r,className:uo("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},a))});vo.displayName="Input";const go=["className","autoResize"],yo=r.forwardRef((e,t)=>{let{className:n,autoResize:a}=e,s=kr(e,go);const o=r.useRef(null),i=t||o;return r.useEffect(()=>{if(a&&i.current){const e=i.current,t=()=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"};return t(),e.addEventListener("input",t),()=>e.removeEventListener("input",t)}},[a,i]),(0,dr.jsx)("textarea",u({className:uo("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"resize-none overflow-hidden",n),ref:i},s))});yo.displayName="Textarea";const bo=["className","variant"],wo=co("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",done:"border-transparent bg-green-500/20 text-green-400","in-progress":"border-transparent bg-amber-500/20 text-amber-400",waiting:"border-transparent bg-blue-500/20 text-blue-400",todo:"border-transparent bg-muted text-muted-foreground"}},defaultVariants:{variant:"default"}}),xo=r.forwardRef((e,t)=>{let{className:n,variant:r}=e,a=kr(e,bo);return(0,dr.jsx)("div",u({ref:t,className:uo(wo({variant:r}),n)},a))});function ko(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function _o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=ko(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():ko(t[e],null)}}}}function So(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(_o(...t),t)}xo.displayName="Badge";const jo=["children"],Eo=["scope","children"];function No(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const t=n.map(e=>r.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||t;return r.useMemo(()=>({["__scope".concat(e)]:u(u({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(t,a){const s=r.createContext(a),o=n.length;n=[...n,a];const i=t=>{var n;const{scope:a,children:i}=t,l=kr(t,Eo),c=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[o])||s,u=r.useMemo(()=>l,Object.values(l));return(0,dr.jsx)(c.Provider,{value:u,children:i})};return i.displayName=t+"Provider",[i,function(n,i){var l;const c=(null===i||void 0===i||null===(l=i[e])||void 0===l?void 0:l[o])||s,u=r.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},Co(a,...t)]}function Co(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t[0];if(1===t.length)return a;const s=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:a}=n;const s=r(t)["__scope".concat(a)];return u(u({},e),s)},{});return r.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return s.scopeName=a.scopeName,s}"undefined"===typeof window||!window.document||window.document.createElement;function To(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}var Ro=null!==globalThis&&void 0!==globalThis&&globalThis.document?r.useLayoutEffect:()=>{},Oo=a[" useInsertionEffect ".trim().toString()]||Ro;function Po(e){let{prop:t,defaultProp:n,onChange:a=()=>{},caller:s}=e;const[o,i,l]=function(e){let{defaultProp:t,onChange:n}=e;const[a,s]=r.useState(t),o=r.useRef(a),i=r.useRef(n);return Oo(()=>{i.current=n},[n]),r.useEffect(()=>{var e;o.current!==a&&(null===(e=i.current)||void 0===e||e.call(i,a),o.current=a)},[a,o]),[a,s,i]}({defaultProp:n,onChange:a}),c=void 0!==t,u=c?t:o;{const e=r.useRef(void 0!==t);r.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(s," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,s])}const d=r.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=l.current)||void 0===n||n.call(l,r)}else i(e)},[c,t,i,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");var Ao=e=>{const{present:t,children:n}=e,a=function(e){const[t,n]=r.useState(),a=r.useRef(null),s=r.useRef(e),o=r.useRef("none"),i=e?"mounted":"unmounted",[l,c]=function(e,t){return r.useReducer((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e},e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const e=Do(a.current);o.current="mounted"===l?e:"none"},[l]),Ro(()=>{const t=a.current,n=s.current;if(n!==e){const r=o.current,a=Do(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,c]),Ro(()=>{if(t){var e;let n;const r=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,i=e=>{const o=Do(a.current).includes(CSS.escape(e.animationName));if(e.target===t&&o&&(c("ANIMATION_END"),!s.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},l=e=>{e.target===t&&(o.current=Do(a.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{r.clearTimeout(n),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(e=>{a.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"===typeof n?n({present:a.isPresent}):r.Children.only(n),o=So(a.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s));return"function"===typeof n||a.isPresent?r.cloneElement(s,{ref:o}):null};function Do(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Ao.displayName="Presence";const Io=["children"],Lo=["children"];function Mo(e){const t=zo(e),n=r.forwardRef((e,n)=>{const{children:a}=e,s=kr(e,Io),o=r.Children.toArray(a),i=o.find(Fo);if(i){const e=i.props.children,a=o.map(t=>t===i?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null}))}return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function zo(e){const t=r.forwardRef((e,t)=>{const{children:n}=e,a=kr(e,Lo);if(r.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n=u({},t);for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=u(u({},a),s):"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return u(u({},e),n)}(a,n.props);return n.type!==r.Fragment&&(s.ref=t?_o(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Uo=Symbol("radix.slottable");function Fo(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Uo}const Bo=["asChild"];var qo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Mo("Primitive.".concat(t)),a=r.forwardRef((e,r)=>{const{asChild:a}=e,s=kr(e,Bo),o=a?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,dr.jsx)(o,u(u({},s),{},{ref:r}))});return a.displayName="Primitive.".concat(t),u(u({},e),{},{[t]:a})},{});function Wo(e,t){e&&_r.flushSync(()=>e.dispatchEvent(t))}const Ko=["__scopeCheckbox","onKeyDown","onClick"],Vo=["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"],Ho=["__scopeCheckbox","forceMount"],Go=["__scopeCheckbox"];var Jo="Checkbox",[$o,Yo]=No(Jo),[Qo,Xo]=$o(Jo);function Zo(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=e,[p,m]=Po({prop:n,defaultProp:null!==s&&void 0!==s&&s,onChange:c,caller:Jo}),[v,g]=r.useState(null),[y,b]=r.useState(null),w=r.useRef(!1),x=!v||(!!i||!!v.closest("form")),k={checked:p,disabled:o,setChecked:m,control:v,setControl:g,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:!li(s)&&s,isFormControl:x,bubbleInput:y,setBubbleInput:b};return(0,dr.jsx)(Qo,u(u({scope:t},k),{},{children:ii(f)?f(k):a}))}var ei="CheckboxTrigger",ti=r.forwardRef((e,t)=>{let{__scopeCheckbox:n,onKeyDown:a,onClick:s}=e,o=kr(e,Ko);const{control:i,value:l,disabled:c,checked:d,required:h,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:g}=Xo(ei,n),y=So(t,f),b=r.useRef(d);return r.useEffect(()=>{const e=null===i||void 0===i?void 0:i.form;if(e){const t=()=>p(b.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,p]),(0,dr.jsx)(qo.button,u(u({type:"button",role:"checkbox","aria-checked":li(d)?"mixed":d,"aria-required":h,"data-state":ci(d),"data-disabled":c?"":void 0,disabled:c,value:l},o),{},{ref:y,onKeyDown:To(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:To(s,e=>{p(e=>!!li(e)||!e),g&&v&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())})}))});ti.displayName=ei;var ni=r.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:o,disabled:i,value:l,onCheckedChange:c,form:d}=e,h=kr(e,Vo);return(0,dr.jsx)(Zo,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:i,required:o,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(ti,u(u({},h),{},{ref:t,__scopeCheckbox:n})),r&&(0,dr.jsx)(oi,{__scopeCheckbox:n})]})}})});ni.displayName=Jo;var ri="CheckboxIndicator",ai=r.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r}=e,a=kr(e,Ho),s=Xo(ri,n);return(0,dr.jsx)(Ao,{present:r||li(s.checked)||!0===s.checked,children:(0,dr.jsx)(qo.span,u(u({"data-state":ci(s.checked),"data-disabled":s.disabled?"":void 0},a),{},{ref:t,style:u({pointerEvents:"none"},e.style)}))})});ai.displayName=ri;var si="CheckboxBubbleInput",oi=r.forwardRef((e,t)=>{let{__scopeCheckbox:n}=e,a=kr(e,Go);const{control:s,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:l,required:c,disabled:d,name:h,value:f,form:p,bubbleInput:m,setBubbleInput:v}=Xo(si,n),g=So(t,v),y=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i),b=function(e){const[t,n]=r.useState(void 0);return Ro(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(s);r.useEffect(()=>{const e=m;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,r=!o.current;if(y!==i&&n){const t=new Event("click",{bubbles:r});e.indeterminate=li(i),n.call(e,!li(i)&&i),e.dispatchEvent(t)}},[m,y,i,o]);const w=r.useRef(!li(i)&&i);return(0,dr.jsx)(qo.input,u(u({type:"checkbox","aria-hidden":!0,defaultChecked:null!==l&&void 0!==l?l:w.current,required:c,disabled:d,name:h,value:f,form:p},a),{},{tabIndex:-1,ref:g,style:u(u(u({},a.style),b),{},{position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"})}))});function ii(e){return"function"===typeof e}function li(e){return"indeterminate"===e}function ci(e){return li(e)?"indeterminate":e?"checked":"unchecked"}oi.displayName=si;const ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},di=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var hi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fi=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],pi=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:c}=e,d=kr(e,fi);return(0,r.createElement)("svg",u(u(u({ref:t},hi),{},{width:a,height:a,stroke:n,strokeWidth:o?24*Number(s)/Number(a):s,className:ui("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),mi=["className"],vi=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:s}=n,o=kr(n,mi);return(0,r.createElement)(pi,u({ref:a,iconNode:t,className:ui("lucide-".concat((i=di(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},o));var i});return n.displayName=di(e),n},gi=vi("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),yi=["className"],bi=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,yi);return(0,dr.jsx)(ni,u(u({ref:t,className:uo("peer relative h-5 w-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","before:absolute before:inset-[-12px] before:content-['']",n)},r),{},{children:(0,dr.jsx)(ai,{className:uo("flex items-center justify-center text-current"),children:(0,dr.jsx)(gi,{className:"h-4 w-4"})})}))});bi.displayName=ni.displayName;var wi=a[" useId ".trim().toString()]||(()=>{}),xi=0;function ki(e){const[t,n]=r.useState(wi());return Ro(()=>{e||n(e=>null!==e&&void 0!==e?e:String(xi++))},[e]),e||(t?"radix-".concat(t):"")}function _i(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}const Si=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var ji,Ei="dismissableLayer.update",Ni="dismissableLayer.pointerDownOutside",Ci="dismissableLayer.focusOutside",Ti=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ri=r.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c}=e,d=kr(e,Si),h=r.useContext(Ti),[f,p]=r.useState(null),m=null!==(n=null===f||void 0===f?void 0:f.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=r.useState({}),g=So(t,e=>p(e)),y=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),x=f?y.indexOf(f):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=_i(e),a=r.useRef(!1),s=r.useRef(()=>{});return r.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let r=function(){Ai(Ni,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);a.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,n=[...h.branches].some(e=>e.contains(t));_&&!n&&(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())},m),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=_i(e),a=r.useRef(!1);return r.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Ai(Ci,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===i||void 0===i||i(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())},m);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=_i(e);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{x===h.layers.size-1&&(null===s||void 0===s||s(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},m),r.useEffect(()=>{if(f)return a&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(ji=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Pi(),()=>{a&&1===h.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=ji)}},[f,m,a,h]),r.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Pi())},[f,h]),r.useEffect(()=>{const e=()=>v({});return document.addEventListener(Ei,e),()=>document.removeEventListener(Ei,e)},[]),(0,dr.jsx)(qo.div,u(u({},d),{},{ref:g,style:u({pointerEvents:k?_?"auto":"none":void 0},e.style),onFocusCapture:To(e.onFocusCapture,j.onFocusCapture),onBlurCapture:To(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:To(e.onPointerDownCapture,S.onPointerDownCapture)}))});Ri.displayName="DismissableLayer";var Oi=r.forwardRef((e,t)=>{const n=r.useContext(Ti),a=r.useRef(null),s=So(t,a);return r.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,dr.jsx)(qo.div,u(u({},e),{},{ref:s}))});function Pi(){const e=new CustomEvent(Ei);document.dispatchEvent(e)}function Ai(e,t,n,r){let{discrete:a}=r;const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Wo(s,o):s.dispatchEvent(o)}Oi.displayName="DismissableLayerBranch";var Di=Ri,Ii=Oi;const Li=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Mi="focusScope.autoFocusOnMount",zi="focusScope.autoFocusOnUnmount",Ui={bubbles:!1,cancelable:!0},Fi=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:o}=e,i=kr(e,Li),[l,c]=r.useState(null),d=_i(s),h=_i(o),f=r.useRef(null),p=So(t,e=>c(e)),m=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(a){let e=function(e){if(m.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:Ki(f.current,{select:!0})},t=function(e){if(m.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Ki(f.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Ki(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,l,m.paused]),r.useEffect(()=>{if(l){Vi.add(m);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(Mi,Ui);l.addEventListener(Mi,d),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(Ki(r,{select:t}),document.activeElement!==n)return}((e=Bi(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Ki(l))}return()=>{l.removeEventListener(Mi,d),setTimeout(()=>{const e=new CustomEvent(zi,Ui);l.addEventListener(zi,h),l.dispatchEvent(e),e.defaultPrevented||Ki(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(zi,h),Vi.remove(m)},0)}}var e},[l,d,h,m]);const v=r.useCallback(e=>{if(!n&&!a)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,s]=function(e){const t=Bi(e),n=qi(t,e),r=qi(t.reverse(),e);return[n,r]}(t);a&&s?e.shiftKey||r!==s?e.shiftKey&&r===a&&(e.preventDefault(),n&&Ki(s,{select:!0})):(e.preventDefault(),n&&Ki(a,{select:!0})):r===t&&e.preventDefault()}},[n,a,m.paused]);return(0,dr.jsx)(qo.div,u(u({tabIndex:-1},i),{},{ref:p,onKeyDown:v}))});function Bi(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qi(e,t){for(const n of e)if(!Wi(n,{upTo:t}))return n}function Wi(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ki(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Fi.displayName="FocusScope";var Vi=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=Hi(e,t),e.unshift(t)},remove(t){var n;e=Hi(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function Hi(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const Gi=["container"];var Ji=r.forwardRef((e,t)=>{var n;const{container:a}=e,s=kr(e,Gi),[o,i]=r.useState(!1);Ro(()=>i(!0),[]);const l=a||o&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return l?_r.createPortal((0,dr.jsx)(qo.div,u(u({},s),{},{ref:t})),l):null});Ji.displayName="Portal";var $i=0;function Yi(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Qi()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Qi()),$i++,()=>{1===$i&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$i--}},[])}function Qi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xi="right-scroll-bar-position",Zi="width-before-scroll-bar";function el(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var tl="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,nl=new WeakMap;function rl(e,t){var n=function(e,t){var n=(0,r.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(t||null,function(t){return e.forEach(function(e){return el(e,t)})});return tl(function(){var t=nl.get(n);if(t){var r=new Set(t),a=new Set(e),s=n.current;r.forEach(function(e){a.has(e)||el(e,null)}),a.forEach(function(e){r.has(e)||el(e,s)})}nl.set(n,e)},[e]),n}function al(e){return e}function sl(e,t){void 0===t&&(t=al);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var ol=function(e){void 0===e&&(e={});var t=sl(null);return t.options=d({async:!0,ssr:!1},e),t}(),il=function(){},ll=r.forwardRef(function(e,t){var n=r.useRef(null),a=r.useState({onScrollCapture:il,onWheelCapture:il,onTouchMoveCapture:il}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,v=e.noRelative,g=e.noIsolation,y=e.inert,b=e.allowPinchZoom,w=e.as,x=void 0===w?"div":w,k=e.gapMode,_=h(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,j=rl([n,t]),E=d(d({},_),s);return r.createElement(r.Fragment,null,f&&r.createElement(S,{sideCar:ol,removeScrollBar:u,shards:p,noRelative:v,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:k}),i?r.cloneElement(r.Children.only(l),d(d({},E),{ref:j})):r.createElement(x,d({},E,{className:c,ref:j}),l))});ll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ll.classNames={fullWidth:Zi,zeroRight:Xi};var cl,ul=function(e){var t=e.sideCar,n=h(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return r.createElement(a,d({},n))};ul.isSideCarExport=!0;function dl(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cl||n.nc;return t&&e.setAttribute("nonce",t),e}var hl=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=dl())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fl=function(){var e=function(){var e=hl();return function(t,n){r.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},pl={left:0,top:0,right:0,gap:0},ml=function(e){return parseInt(e||"",10)||0},vl=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return pl;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[ml(n),ml(r),ml(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gl=fl(),yl="data-scroll-locked",bl=function(e,t,n,r){var a=e.left,s=e.top,o=e.right,i=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(i,"px ").concat(r,";\n  }\n  body[").concat(yl,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Xi," {\n    right: ").concat(i,"px ").concat(r,";\n  }\n  \n  .").concat(Zi," {\n    margin-right: ").concat(i,"px ").concat(r,";\n  }\n  \n  .").concat(Xi," .").concat(Xi," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Zi," .").concat(Zi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(yl,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},wl=function(){var e=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(e)?e:0},xl=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;r.useEffect(function(){return document.body.setAttribute(yl,(wl()+1).toString()),function(){var e=wl()-1;e<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,e.toString())}},[]);var o=r.useMemo(function(){return vl(s)},[s]);return r.createElement(gl,{styles:bl(o,!t,s,n?"":"!important")})},kl=!1;if("undefined"!==typeof window)try{var _l=Object.defineProperty({},"passive",{get:function(){return kl=!0,!0}});window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch(Nh){kl=!1}var Sl=!!kl&&{passive:!1},jl=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},El=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Nl(e,r)){var a=Cl(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Nl=function(e,t){return"v"===e?function(e){return jl(e,"overflowY")}(t):function(e){return jl(e,"overflowX")}(t)},Cl=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Tl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rl=function(e){return[e.deltaX,e.deltaY]},Ol=function(e){return e&&"current"in e?e.current:e},Pl=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Al=0,Dl=[];function Il(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ll=(Ml=function(e){var t=r.useRef([]),n=r.useRef([0,0]),a=r.useRef(),s=r.useState(Al++)[0],o=r.useState(fl)[0],i=r.useRef(e);r.useEffect(function(){i.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=p([e.lockRef.current],(e.shards||[]).map(Ol),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var r,s=Tl(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===u||f.contains(u)))return!1;var p=El(d,u);if(!p)return!0;if(p?r=d:(r="v"===d?"h":"v",p=El(d,u)),!p)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var m=a.current||r;return function(e,t,n,r,a){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*r,i=n.target,l=t.contains(i),c=!1,u=o>0,d=0,h=0;do{if(!i)break;var f=Cl(e,i),p=f[0],m=f[1]-f[2]-s*p;(p||m)&&Nl(e,i)&&(d+=m,h+=p);var v=i.parentNode;i=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(h)<1||!a&&-o>h))&&(c=!0),c}(m,t,e,"h"===m?l:c,!0)},[]),c=r.useCallback(function(e){var n=e;if(Dl.length&&Dl[Dl.length-1]===o){var r="deltaY"in n?Rl(n):Tl(n),a=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var s=(i.current.shards||[]).map(Ol).filter(Boolean).filter(function(e){return e.contains(n.target)});(s.length>0?l(n,s[0]):!i.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),u=r.useCallback(function(e,n,r,a){var s={name:e,delta:n,target:r,should:a,shadowParent:Il(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=r.useCallback(function(e){n.current=Tl(e),a.current=void 0},[]),h=r.useCallback(function(t){u(t.type,Rl(t),t.target,l(t,e.lockRef.current))},[]),f=r.useCallback(function(t){u(t.type,Tl(t),t.target,l(t,e.lockRef.current))},[]);r.useEffect(function(){return Dl.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Sl),document.addEventListener("touchmove",c,Sl),document.addEventListener("touchstart",d,Sl),function(){Dl=Dl.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,Sl),document.removeEventListener("touchmove",c,Sl),document.removeEventListener("touchstart",d,Sl)}},[]);var m=e.removeScrollBar,v=e.inert;return r.createElement(r.Fragment,null,v?r.createElement(o,{styles:Pl(s)}):null,m?r.createElement(xl,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ol.useMedium(Ml),ul);var Ml,zl=r.forwardRef(function(e,t){return r.createElement(ll,d({},e,{ref:t,sideCar:Ll}))});zl.classNames=ll.classNames;const Ul=zl;var Fl=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Bl=new WeakMap,ql=new WeakMap,Wl={},Kl=0,Vl=function(e){return e&&(e.host||Vl(e.parentNode))},Hl=function(e,t,n,r){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Vl(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Wl[n]||(Wl[n]=new WeakMap);var s=Wl[n],o=[],i=new Set,l=new Set(a),c=function(e){e&&!i.has(e)&&(i.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(i.has(e))u(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,l=(Bl.get(e)||0)+1,c=(s.get(e)||0)+1;Bl.set(e,l),s.set(e,c),o.push(e),1===l&&a&&ql.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}})};return u(t),i.clear(),Kl++,function(){o.forEach(function(e){var t=Bl.get(e)-1,a=s.get(e)-1;Bl.set(e,t),s.set(e,a),t||(ql.has(e)||e.removeAttribute(r),ql.delete(e)),a||e.removeAttribute(n)}),--Kl||(Bl=new WeakMap,Bl=new WeakMap,ql=new WeakMap,Wl={})}},Gl=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||Fl(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Hl(r,a,n,"aria-hidden")):function(){return null}};const Jl=["children"],$l=["children"];function Yl(e){const t=Ql(e),n=r.forwardRef((e,n)=>{const{children:a}=e,s=kr(e,Jl),o=r.Children.toArray(a),i=o.find(Zl);if(i){const e=i.props.children,a=o.map(t=>t===i?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null}))}return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function Ql(e){const t=r.forwardRef((e,t)=>{const{children:n}=e,a=kr(e,$l);if(r.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n=u({},t);for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=u(u({},a),s):"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return u(u({},e),n)}(a,n.props);return n.type!==r.Fragment&&(s.ref=t?_o(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Xl=Symbol("radix.slottable");function Zl(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Xl}const ec=["__scopeDialog"],tc=["forceMount"],nc=["__scopeDialog"],rc=["forceMount"],ac=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],sc=["__scopeDialog"],oc=["__scopeDialog"],ic=["__scopeDialog"];var lc="Dialog",[cc,uc]=No(lc),[dc,hc]=cc(lc),fc=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=r.useRef(null),c=r.useRef(null),[u,d]=Po({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:o,caller:lc});return(0,dr.jsx)(dc,{scope:t,triggerRef:l,contentRef:c,contentId:ki(),titleId:ki(),descriptionId:ki(),open:u,onOpenChange:d,onOpenToggle:r.useCallback(()=>d(e=>!e),[d]),modal:i,children:n})};fc.displayName=lc;var pc="DialogTrigger",mc=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=kr(e,ec),a=hc(pc,n),s=So(t,a.triggerRef);return(0,dr.jsx)(qo.button,u(u({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ic(a.open)},r),{},{ref:s,onClick:To(e.onClick,a.onOpenToggle)}))});mc.displayName=pc;var vc="DialogPortal",[gc,yc]=cc(vc,{forceMount:void 0}),bc=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,o=hc(vc,t);return(0,dr.jsx)(gc,{scope:t,forceMount:n,children:r.Children.map(a,e=>(0,dr.jsx)(Ao,{present:n||o.open,children:(0,dr.jsx)(Ji,{asChild:!0,container:s,children:e})}))})};bc.displayName=vc;var wc="DialogOverlay",xc=r.forwardRef((e,t)=>{const n=yc(wc,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=kr(e,tc),s=hc(wc,e.__scopeDialog);return s.modal?(0,dr.jsx)(Ao,{present:r||s.open,children:(0,dr.jsx)(_c,u(u({},a),{},{ref:t}))}):null});xc.displayName=wc;var kc=Yl("DialogOverlay.RemoveScroll"),_c=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=kr(e,nc),a=hc(wc,n);return(0,dr.jsx)(Ul,{as:kc,allowPinchZoom:!0,shards:[a.contentRef],children:(0,dr.jsx)(qo.div,u(u({"data-state":Ic(a.open)},r),{},{ref:t,style:u({pointerEvents:"auto"},r.style)}))})}),Sc="DialogContent",jc=r.forwardRef((e,t)=>{const n=yc(Sc,e.__scopeDialog),{forceMount:r=n.forceMount}=e,a=kr(e,rc),s=hc(Sc,e.__scopeDialog);return(0,dr.jsx)(Ao,{present:r||s.open,children:s.modal?(0,dr.jsx)(Ec,u(u({},a),{},{ref:t})):(0,dr.jsx)(Nc,u(u({},a),{},{ref:t}))})});jc.displayName=Sc;var Ec=r.forwardRef((e,t)=>{const n=hc(Sc,e.__scopeDialog),a=r.useRef(null),s=So(t,n.contentRef,a);return r.useEffect(()=>{const e=a.current;if(e)return Gl(e)},[]),(0,dr.jsx)(Cc,u(u({},e),{},{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:To(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:To(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:To(e.onFocusOutside,e=>e.preventDefault())}))}),Nc=r.forwardRef((e,t)=>{const n=hc(Sc,e.__scopeDialog),a=r.useRef(!1),s=r.useRef(!1);return(0,dr.jsx)(Cc,u(u({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,s.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const i=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),Cc=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o}=e,i=kr(e,ac),l=hc(Sc,n),c=r.useRef(null),d=So(t,c);return Yi(),(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(Fi,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,dr.jsx)(Ri,u(u({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ic(l.open)},i),{},{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(Uc,{titleId:l.titleId}),(0,dr.jsx)(Fc,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tc="DialogTitle",Rc=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=kr(e,sc),a=hc(Tc,n);return(0,dr.jsx)(qo.h2,u(u({id:a.titleId},r),{},{ref:t}))});Rc.displayName=Tc;var Oc="DialogDescription",Pc=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=kr(e,oc),a=hc(Oc,n);return(0,dr.jsx)(qo.p,u(u({id:a.descriptionId},r),{},{ref:t}))});Pc.displayName=Oc;var Ac="DialogClose",Dc=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=kr(e,ic),a=hc(Ac,n);return(0,dr.jsx)(qo.button,u(u({type:"button"},r),{},{ref:t,onClick:To(e.onClick,()=>a.onOpenChange(!1))}))});function Ic(e){return e?"open":"closed"}Dc.displayName=Ac;var Lc="DialogTitleWarning",[Mc,zc]=function(e,t){const n=r.createContext(t),a=e=>{const{children:t}=e,a=kr(e,jo),s=r.useMemo(()=>a,Object.values(a));return(0,dr.jsx)(n.Provider,{value:s,children:t})};return a.displayName=e+"Provider",[a,function(a){const s=r.useContext(n);if(s)return s;if(void 0!==t)return t;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(Lc,{contentName:Sc,titleName:Tc,docsSlug:"dialog"}),Uc=e=>{let{titleId:t}=e;const n=zc(Lc),a="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return r.useEffect(()=>{if(t){document.getElementById(t)||console.error(a)}},[a,t]),null},Fc=e=>{let{contentRef:t,descriptionId:n}=e;const a=zc("DialogDescriptionWarning"),s="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return r.useEffect(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(s)}},[s,t,n]),null},Bc=fc,qc=bc,Wc=xc,Kc=jc,Vc=Rc,Hc=Pc,Gc=Dc;const Jc=vi("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$c=["className"],Yc=["className","children","onEscapeKeyDown"],Qc=["className"],Xc=["className"],Zc=["className"],eu=["className"],tu=Bc,nu=qc,ru=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,$c);return(0,dr.jsx)(Wc,u({ref:t,className:uo("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))});ru.displayName=Wc.displayName;const au=r.forwardRef((e,t)=>{let{className:n,children:r,onEscapeKeyDown:a}=e,s=kr(e,Yc);return(0,dr.jsxs)(nu,{children:[(0,dr.jsx)(ru,{}),(0,dr.jsxs)(Kc,u(u({ref:t,onEscapeKeyDown:a,className:uo("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","max-h-[calc(100vh-2rem)] overflow-y-auto overscroll-contain","pb-[env(safe-area-inset-bottom,0px)]",n)},s),{},{children:[r,(0,dr.jsxs)(Gc,{className:"absolute right-2 top-2 h-11 w-11 flex items-center justify-center rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,dr.jsx)(Jc,{className:"h-5 w-5"}),(0,dr.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});au.displayName=Kc.displayName;const su=e=>{let{className:t}=e,n=kr(e,Qc);return(0,dr.jsx)("div",u({className:uo("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};su.displayName="DialogHeader";const ou=e=>{let{className:t}=e,n=kr(e,Xc);return(0,dr.jsx)("div",u({className:uo("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},n))};ou.displayName="DialogFooter";const iu=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,Zc);return(0,dr.jsx)(Vc,u({ref:t,className:uo("text-lg font-semibold leading-none tracking-tight",n)},r))});iu.displayName=Vc.displayName;const lu=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,eu);return(0,dr.jsx)(Hc,u({ref:t,className:uo("text-sm text-muted-foreground",n)},r))});lu.displayName=Hc.displayName;const cu={done:{label:"Done",variant:"done"},"in-progress":{label:"In Progress",variant:"in-progress"},waiting:{label:"Waiting",variant:"waiting"},todo:{label:"To Do",variant:"todo"}};function uu(e){let{task:t,onUpdate:n,onStatusChange:a,onDelete:s,className:o}=e;const[i,l]=r.useState(!1),[c,d]=r.useState(!1),[h,f]=r.useState(t.title),[p,m]=r.useState(t.description||""),[v,g]=r.useState(!1),[y,b]=r.useState(t),w=r.useRef(null);r.useEffect(()=>{b(t),f(t.title),m(t.description||"")},[t]),r.useEffect(()=>{c&&w.current&&(w.current.focus(),w.current.select())},[c]);const x=r.useCallback(async()=>{if(!n)return;const e={title:h.trim()||t.title,description:p.trim()};b(t=>u(u({},t),e)),g(!0),d(!1);try{await n(t.id,e)}catch(r){b(t),f(t.title),m(t.description||""),console.error("Failed to save task:",r)}finally{g(!1)}},[t,h,p,n]),k=r.useCallback(async e=>{if(e.stopPropagation(),!a)return;const n="done"===y.status?"todo":"done";b(e=>u(u({},e),{},{status:n}));try{await a(t.id,n)}catch(r){b(t),console.error("Failed to update status:",r)}},[t,y.status,a]),_=r.useCallback(e=>{"Escape"===e.key?c?(e.preventDefault(),e.stopPropagation(),f(y.title),m(y.description||""),d(!1)):l(!1):(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),c&&x())},[c,y,x]),S=cu[y.status]||cu.todo,j="done"===y.status;return(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>l(!0),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l(!0))},className:uo("group relative flex items-start gap-3 rounded-lg border border-border bg-card p-4 transition-all","hover:border-primary/50 hover:bg-card/80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background","cursor-pointer select-text",j&&"opacity-60",o),children:[(0,dr.jsx)(bi,{checked:j,onCheckedChange:()=>k({stopPropagation:()=>{}}),onClick:e=>e.stopPropagation(),className:"mt-0.5 shrink-0","aria-label":"Mark task as ".concat(j?"incomplete":"complete")}),(0,dr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dr.jsx)("h3",{className:uo("font-medium leading-tight",j&&"line-through text-muted-foreground"),children:y.title}),y.description&&(0,dr.jsx)("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:y.description})]}),(0,dr.jsx)(xo,{variant:S.variant,className:"shrink-0",children:S.label}),v&&(0,dr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-card/50 rounded-lg",children:(0,dr.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]}),(0,dr.jsx)(tu,{open:i,onOpenChange:l,children:(0,dr.jsxs)(au,{className:"sm:max-w-[500px]",onKeyDown:_,onEscapeKeyDown:e=>{c&&e.preventDefault()},children:[(0,dr.jsxs)(su,{children:[c?(0,dr.jsx)(vo,{ref:w,value:h,onChange:e=>f(e.target.value),placeholder:"Task title...",className:"text-lg font-semibold"}):(0,dr.jsx)(iu,{className:uo("cursor-pointer hover:text-primary transition-colors",j&&"line-through text-muted-foreground"),onClick:()=>d(!0),children:y.title}),(0,dr.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,dr.jsx)(xo,{variant:S.variant,children:S.label}),y.priority&&(0,dr.jsx)(xo,{variant:"outline",children:y.priority})]})]}),(0,dr.jsx)("div",{className:"space-y-4",children:c?(0,dr.jsx)(yo,{value:p,onChange:e=>m(e.target.value),placeholder:"Add a description...",autoResize:!0,className:"min-h-[100px]"}):(0,dr.jsx)(lu,{className:uo("cursor-pointer min-h-[60px] p-3 rounded-md border border-transparent hover:border-border transition-colors",!y.description&&"text-muted-foreground italic"),onClick:()=>d(!0),children:y.description||"Click to add a description..."})}),(0,dr.jsx)(ou,{className:"gap-2 sm:gap-0",children:c?(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(po,{variant:"ghost",onClick:()=>{f(y.title),m(y.description||""),d(!1)},children:"Cancel"}),(0,dr.jsx)(po,{onClick:x,disabled:v,children:v?"Saving...":"Save"})]}):(0,dr.jsxs)(dr.Fragment,{children:[s&&(0,dr.jsx)(po,{variant:"destructive",onClick:()=>{s(t.id),l(!1)},children:"Delete"}),(0,dr.jsx)(po,{variant:"secondary",onClick:()=>d(!0),children:"Edit"}),(0,dr.jsx)(po,{onClick:()=>l(!1),children:"Close"})]})}),(0,dr.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:c?"Cmd+Enter to save \u2022 Escape to cancel":"Press Escape to close"})]})})]})}function du(e){let{open:t,onOpenChange:n,title:r,description:a,children:s,footer:o,size:i="default",className:l}=e;return(0,dr.jsx)(tu,{open:t,onOpenChange:n,children:(0,dr.jsxs)(au,{className:uo({sm:"sm:max-w-[400px]",default:"sm:max-w-[500px]",lg:"sm:max-w-[700px]",xl:"sm:max-w-[900px]",full:"sm:max-w-[95vw] sm:max-h-[95vh]"}[i],l),children:[(r||a)&&(0,dr.jsxs)(su,{children:[r&&(0,dr.jsx)(iu,{children:r}),a&&(0,dr.jsx)(lu,{children:a})]}),(0,dr.jsx)("div",{className:"py-4",children:s}),o&&(0,dr.jsx)(ou,{children:o})]})})}function hu(e){let{open:t,onOpenChange:n,title:r="Are you sure?",description:a,confirmLabel:s="Confirm",cancelLabel:o="Cancel",variant:i="default",onConfirm:l,onCancel:c,loading:u=!1}=e;return(0,dr.jsx)(du,{open:t,onOpenChange:n,title:r,description:a,size:"sm",footer:(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(po,{variant:"ghost",onClick:()=>{c&&c(),n(!1)},disabled:u,children:o}),(0,dr.jsx)(po,{variant:"destructive"===i?"destructive":"default",onClick:async()=>{l&&await l(),n(!1)},disabled:u,children:u?"Loading...":s})]})})}function fu(e){let{open:t,onOpenChange:n,title:r,description:a,actionLabel:s="OK"}=e;return(0,dr.jsx)(du,{open:t,onOpenChange:n,title:r,description:a,size:"sm",footer:(0,dr.jsx)(po,{onClick:()=>n(!1),children:s})})}function pu(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=r.useState(e);return{isOpen:t,open:r.useCallback(()=>n(!0),[]),close:r.useCallback(()=>n(!1),[]),toggle:r.useCallback(()=>n(e=>!e),[]),setIsOpen:n}}const mu=()=>(0,dr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,dr.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,dr.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),vu=()=>(0,dr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,dr.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,dr.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]});function gu(e){let{id:t,children:n,selected:r=!1,onSelect:a,onEdit:s,onDelete:o,onClick:i,disabled:l=!1,className:c}=e;return(0,dr.jsxs)("div",{role:i?"button":void 0,tabIndex:i?0:void 0,onClick:e=>{e.target.closest("[data-action]")||e.target.closest('[role="checkbox"]')||i&&i(t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||e.target.closest("[data-action]")||e.target.closest('[role="checkbox"]')||e.target.closest("input")||e.target.closest("textarea")||e.target.closest("[contenteditable]")||(e.preventDefault(),i&&i(t))},className:uo("group relative flex items-center gap-3 px-4 py-3 border-b border-border transition-colors","hover:bg-accent/50",i&&"cursor-pointer",r&&"bg-accent",l&&"opacity-50 pointer-events-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-inset",c),children:[a&&(0,dr.jsx)(bi,{checked:r,onCheckedChange:e=>{a&&a(t,e)},onClick:e=>e.stopPropagation(),disabled:l,className:"shrink-0","aria-label":"Select row"}),(0,dr.jsx)("div",{className:"flex-1 min-w-0 select-text",children:n}),(s||o)&&(0,dr.jsxs)("div",{className:uo("flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",r&&"opacity-100"),children:[s&&(0,dr.jsx)(po,{"data-action":"edit",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),s(t)},"aria-label":"Edit",children:(0,dr.jsx)(mu,{})}),o&&(0,dr.jsx)(po,{"data-action":"delete",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:e=>{e.stopPropagation(),o(t)},"aria-label":"Delete",children:(0,dr.jsx)(vu,{})})]})]})}function yu(e){let{children:t,selectedIds:n=[],onSelectAll:a,onClearSelection:s,bulkActions:o,emptyState:i,className:l}=e;const c=r.Children.toArray(t).length>0,u=n.length>0;return(0,dr.jsxs)("div",{className:uo("rounded-lg border border-border overflow-hidden",l),children:[u&&o&&(0,dr.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-accent border-b border-border",children:[(0,dr.jsxs)("span",{className:"text-sm text-muted-foreground",children:[n.length," selected"]}),(0,dr.jsx)("div",{className:"flex-1"}),o,s&&(0,dr.jsx)(po,{variant:"ghost",size:"sm",onClick:s,children:"Clear"})]}),c?(0,dr.jsx)("div",{className:"divide-y divide-border",children:t}):(0,dr.jsx)(bu,{children:i||"No items yet"})]})}function bu(e){let{children:t,className:n}=e;return(0,dr.jsxs)("div",{className:uo("flex flex-col items-center justify-center py-12 px-4 text-center",n),children:[(0,dr.jsx)("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-4",children:(0,dr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:[(0,dr.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,dr.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,dr.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),(0,dr.jsx)("p",{className:"text-muted-foreground text-sm",children:t})]})}const wu=["id","children"];function xu(e){let{id:t,children:n}=e,r=kr(e,wu);const{attributes:a,listeners:s,setNodeRef:o,transform:i,transition:l,isDragging:c}=Zs({id:t}),d={transform:Vr.Transform.toString(i),transition:l,opacity:c?.5:1,zIndex:c?10:0};return(0,dr.jsx)("div",u(u({ref:o,style:d},a),{},{children:(0,dr.jsxs)("div",{className:"flex items-center",children:[(0,dr.jsx)("div",u(u({className:"wb-drag-handle cursor-grab px-2 text-muted-foreground opacity-40 hover:opacity-80"},s),{},{children:"\u283f"})),(0,dr.jsx)("div",{className:"flex-1",children:(0,dr.jsx)(gu,u(u({id:t},r),{},{children:n}))})]})}))}const ku={work:{label:"XBO",color:"#3b82f6"},realestate:{label:"Real Estate",color:"#10b981"},health:{label:"Health",color:"#22c55e"},family:{label:"Family",color:"#f59e0b"},salon:{label:"Salon",color:"#ec4899"},personal:{label:"Personal",color:"#8b5cf6"},investments:{label:"Investments",color:"#6366f1"},sport:{label:"Sport",color:"#22c55e"},travel:{label:"Travel",color:"#f97316"}};function _u(e){return e?ku[e]||ku[null===e||void 0===e?void 0:e.toLowerCase()]||{label:e,color:"#a8a29e"}:{label:"\u2014",color:"#a8a29e"}}const Su=[{value:"low",label:"Low",icon:"\ud83c\udf19",color:"#22c55e"},{value:"medium",label:"Medium",icon:"\u2600\ufe0f",color:"#f59e0b"},{value:"high",label:"High",icon:"\u26a1",color:"#ef4444"}],ju=[{value:"work",label:"Work",color:"#6366f1"},{value:"family",label:"Family",color:"#ec4899",override:!0},{value:"health",label:"Health",color:"#22c55e"},{value:"personal",label:"Personal",color:"#8b5cf6"},{value:"urgent",label:"Urgent",color:"#ef4444"},{value:"waiting",label:"Waiting",color:"#64748b"}];function Eu(e){let{item:t,type:n,onChange:r,onArchive:a,onFreeze:s}=e;return(0,dr.jsxs)("div",{className:"space-y-4",children:[(0,dr.jsxs)("div",{className:"space-y-2",children:[(0,dr.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,dr.jsx)(yo,{value:t.text||t.title||"",onChange:e=>r("text",e.target.value),rows:3,className:"resize-none"})]}),(0,dr.jsxs)("div",{className:"space-y-2",children:[(0,dr.jsx)("label",{className:"text-sm font-medium",children:"Energy Level"}),(0,dr.jsx)("div",{className:"flex gap-2",children:Su.map(e=>(0,dr.jsxs)("button",{onClick:()=>r("energy_level",e.value),className:"flex items-center gap-1 px-3 py-2 rounded-lg border transition-colors ".concat(t.energy_level===e.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[(0,dr.jsx)("span",{children:e.icon}),(0,dr.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,dr.jsxs)("div",{className:"space-y-2",children:[(0,dr.jsx)("label",{className:"text-sm font-medium",children:"Labels"}),(0,dr.jsx)("div",{className:"flex flex-wrap gap-2",children:ju.map(e=>(0,dr.jsxs)("button",{onClick:()=>(e=>{const n=t.labels||[],a=n.includes(e)?n.filter(t=>t!==e):[...n,e];r("labels",a)})(e.value),className:"px-3 py-1.5 rounded-full text-sm transition-colors ".concat((t.labels||[]).includes(e.value)?"text-white":"border border-border hover:border-primary/50"),style:{backgroundColor:(t.labels||[]).includes(e.value)?e.color:"transparent",color:(t.labels||[]).includes(e.value)?"white":void 0},children:[e.label,e.override&&(0,dr.jsx)("span",{className:"ml-1",title:"Always takes priority",children:"\ud83d\udc51"})]},e.value))}),(t.labels||[]).includes("family")&&(0,dr.jsx)("p",{className:"text-sm text-muted-foreground",children:"\ud83c\udfe0 Family tasks take priority over work conflicts"})]}),(0,dr.jsxs)("div",{className:"space-y-2",children:[(0,dr.jsx)("label",{className:"text-sm font-medium",children:"Assignee"}),(0,dr.jsxs)("select",{className:"w-full h-10 px-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-ring",value:t.assignee||"dan",onChange:e=>r("assignee",e.target.value),children:[(0,dr.jsx)("option",{value:"dan",children:"Dan"}),(0,dr.jsx)("option",{value:"pa",children:"Personal Assistant"}),(0,dr.jsx)("option",{value:"mikka",children:"Mikka"})]})]}),(0,dr.jsxs)("div",{className:"space-y-2",children:[(0,dr.jsx)("label",{className:"text-sm font-medium",children:"Dependencies"}),(0,dr.jsx)(vo,{placeholder:"Waiting for...",value:t.dependencies||"",onChange:e=>r("dependencies",e.target.value)})]}),(0,dr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,dr.jsx)(po,{variant:t.frozen?"default":"outline",onClick:s,className:"flex-1",children:t.frozen?"\ud83d\udd13 Unfreeze":"\ud83d\udd12 Freeze"}),(0,dr.jsx)(po,{variant:"destructive",onClick:a,className:"flex-1",children:"\ud83d\udce6 Archive"})]})]})}const Nu=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[i,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)("tasks"),[p,m]=(0,r.useState)(new Set),[v,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[w,x]=(0,r.useState)(null),[k,_]=(0,r.useState)([]),[S,j]=(0,r.useState)(!1),[E,N]=(0,r.useState)(!1),C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(sa(Xa,{activationConstraint:{distance:5}}),sa(Ga,{coordinateGetter:no})),T=(0,r.useCallback)(async()=>{if(Qn()){try{const[e,n,r,s]=await Promise.all([Yn.from("tasks").select("*").eq("completed",!1).order("derived_priority",{ascending:!1}),Yn.from("projects").select("*").in("status",["active","idea","frozen"]).order("updated_at",{ascending:!1}),Yn.from("dependencies").select("*").eq("status","waiting").order("created_at",{ascending:!1}),Yn.from("parking").select("*").order("created_at",{ascending:!1})]);e.data&&t(e.data),n.data&&a(n.data),r.data&&o(r.data),s.data&&l(s.data)}catch(Nh){console.error("Workbench fetch error:",Nh)}d(!1)}else d(!1)},[]);(0,r.useEffect)(()=>{T()},[T]);const R=e=>{const{active:n,over:r}=e;r&&n.id!==r.id&&("tasks"===h?t(e=>{const t=e.findIndex(e=>e.id===n.id),a=e.findIndex(e=>e.id===r.id);return zs(e,t,a)}):"parking"===h&&l(e=>{const t=e.findIndex(e=>e.id===n.id),a=e.findIndex(e=>e.id===r.id);return zs(e,t,a)}))},O=e=>{if(!e)return"";const t=Math.round((Date.now()-new Date(e))/864e5);return 0===t?"Today":1===t?"Yesterday":"".concat(t," days")},P=(e,t)=>{b(u({},e)),x(t),_([]),N(!1),g(!0)},A=(e,t)=>{b(n=>u(u({},n),{},{[e]:t})),k.includes(e)||_(t=>[...t,e])},D=async()=>{if(!Qn()||!y)return;j(!0);const e="task"===w?"tasks":"project"===w?"projects":"parking",t=(y.labels||[]).includes("family");try{k.length>0&&await Yn.from("correction_signals").insert({user_id:"dan",entity_type:w,entity_id:y.id,corrections:k.map(e=>({field:e,corrected:y[e],timestamp:(new Date).toISOString()})),created_at:(new Date).toISOString()});const n={text:y.text,labels:y.labels,energy_level:y.energy_level,frozen:y.frozen,archived:y.archived,assignee:y.assignee,dependencies:y.dependencies,family_override:t,updated_at:(new Date).toISOString()};"project"===w&&(n.title=y.text||y.title,n.status=y.frozen?"frozen":"active");const{error:r}=await Yn.from(e).update(n).eq("id",y.id);if(r)throw r;cr({title:"\u2713 Saved",description:"".concat(w.charAt(0).toUpperCase()+w.slice(1)," updated")}),T(),g(!1)}catch(Nh){console.error("Save edit error:",Nh),cr({title:"Save failed",description:"Could not save changes. Please try again.",variant:"destructive"})}finally{j(!1)}},I=[{id:"tasks",label:"Tasks",count:e.length,icon:"\ud83d\udccb"},{id:"projects",label:"Projects",count:n.length,icon:"\ud83d\ude80"},{id:"dependencies",label:"Dependencies",count:s.length,icon:"\ud83d\udd17"},{id:"parking",label:"Parking",count:i.length,icon:"\ud83c\udfdc\ufe0f"}];return c?(0,dr.jsx)("div",{className:"wb",children:(0,dr.jsxs)("div",{className:"wb-loading",children:[(0,dr.jsx)("div",{className:"wb-pulse"}),(0,dr.jsx)("span",{children:"Loading..."})]})}):(0,dr.jsx)("div",{className:"wb",children:(0,dr.jsxs)("div",{className:"wb-container",children:[(0,dr.jsxs)("header",{className:"wb-header",children:[(0,dr.jsx)("h1",{children:"\ud83d\udd27 Workbench"}),(0,dr.jsx)("p",{className:"wb-sub",children:"Maintenance, organization, weekly review"})]}),(0,dr.jsx)("div",{className:"wb-tabs",children:I.map(e=>(0,dr.jsxs)("button",{className:"wb-tab ".concat(h===e.id?"wb-tab-active":""),onClick:()=>f(e.id),children:[(0,dr.jsx)("span",{children:e.icon}),(0,dr.jsx)("span",{children:e.label}),(0,dr.jsx)("span",{className:"wb-tab-count",children:e.count})]},e.id))}),"tasks"===h&&(0,dr.jsx)(Ps,{sensors:C,collisionDetection:fa,onDragEnd:R,children:(0,dr.jsx)(Hs,{items:e.map(e=>e.id),strategy:Ws,children:(0,dr.jsx)(yu,{emptyState:"No open tasks \u2728",children:e.map(e=>{const n=_u(e.area),r=p.has(e.id);return(0,dr.jsx)(xu,{id:e.id,onEdit:t=>P(e,"task"),disabled:r,className:r?"opacity-50":"",children:(0,dr.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,dr.jsx)("button",{className:"w-5 h-5 rounded border-2 flex items-center justify-center shrink-0 transition-colors ".concat(r?"bg-green-500 border-green-500 text-white":"border-border hover:border-green-500 hover:bg-green-500/10"),onClick:n=>{n.stopPropagation(),(async e=>{m(t=>new Set([...t,e]));try{if(Qn()){const{error:t}=await Yn.from("tasks").update({completed:!0,completed_at:(new Date).toISOString()}).eq("id",e);if(t)throw t}setTimeout(()=>{t(t=>t.filter(t=>t.id!==e)),m(t=>{const n=new Set(t);return n.delete(e),n})},300),cr({title:"\u2713 Task completed"})}catch(Nh){console.error("Complete error:",Nh),m(t=>{const n=new Set(t);return n.delete(e),n}),cr({title:"Failed to complete task",variant:"destructive"})}})(e.id)},disabled:r,children:r&&"\u2713"}),(0,dr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dr.jsx)("span",{className:"font-medium ".concat(r?"line-through text-muted-foreground":""),children:e.text}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.deadline&&(0,dr.jsxs)("span",{className:"text-xs text-muted-foreground",children:["\u23f0 ",new Date(e.deadline).toLocaleDateString("en-US")]}),e.from_person&&(0,dr.jsxs)("span",{className:"text-xs text-muted-foreground",children:["From: ",e.from_person]}),e.energy_cost&&(0,dr.jsx)(xo,{variant:"high"===e.energy_cost?"destructive":"medium"===e.energy_cost?"warning":"secondary",children:e.energy_cost})]})]}),(0,dr.jsx)(xo,{variant:"outline",style:{backgroundColor:n.color+"15",color:n.color,borderColor:n.color+"30"},children:n.label})]})},e.id)})})})}),"projects"===h&&(0,dr.jsx)(yu,{emptyState:"No projects",children:n.map(e=>{const t=_u(e.domain);return(0,dr.jsx)(gu,{id:e.id,onClick:()=>P(e,"project"),onEdit:()=>P(e,"project"),children:(0,dr.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,dr.jsx)("div",{className:"w-2.5 h-2.5 rounded-full shrink-0 ".concat("active"===e.status?"bg-green-500":"idea"===e.status?"bg-blue-500":"bg-muted-foreground")}),(0,dr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dr.jsx)("span",{className:"font-medium",children:e.title}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[(0,dr.jsx)(xo,{variant:"active"===e.status?"done":"idea"===e.status?"waiting":"secondary",children:"active"===e.status?"Active":"idea"===e.status?"Idea":"Frozen"}),e.notes&&(0,dr.jsx)("span",{className:"text-xs text-muted-foreground",children:e.notes})]})]}),(0,dr.jsx)(xo,{variant:"outline",style:{backgroundColor:t.color+"15",color:t.color,borderColor:t.color+"30"},children:t.label})]})},e.id)})}),"dependencies"===h&&(0,dr.jsx)(yu,{emptyState:"No open dependencies \u2728",children:s.map(e=>{const t=Math.round((Date.now()-new Date(e.created_at))/864e5)>5;return(0,dr.jsx)(gu,{id:e.id,className:t?"border-l-2 border-l-red-500":"",children:(0,dr.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,dr.jsx)("span",{className:"text-lg shrink-0",children:"them"===e.direction?"\u23f3":"\ud83d\udce4"}),(0,dr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dr.jsx)("span",{className:"font-medium",children:"them"===e.direction?"Waiting for ".concat(e.waiting_on):"I owe ".concat(e.waiting_on)}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[(0,dr.jsx)("span",{className:"text-xs text-muted-foreground",children:e.waiting_for}),(0,dr.jsx)("span",{className:"text-xs ".concat(t?"text-red-500 font-semibold":"text-muted-foreground"),children:O(e.created_at)})]})]}),(0,dr.jsx)(po,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{if(Qn()){const{error:t}=await Yn.from("dependencies").update({status:"resolved"}).eq("id",e);if(t)throw t}o(t=>t.filter(t=>t.id!==e)),cr({title:"\u2713 Dependency resolved"})}catch(Nh){console.error("Resolve dep error:",Nh),cr({title:"Failed to resolve dependency",variant:"destructive"})}})(e.id),className:"shrink-0",children:"\u2713 Done"})]})},e.id)})}),"parking"===h&&(0,dr.jsx)(Ps,{sensors:C,collisionDetection:fa,onDragEnd:R,children:(0,dr.jsx)(Hs,{items:i.map(e=>e.id),strategy:Ws,children:(0,dr.jsx)(yu,{emptyState:"Parking lot empty",children:i.map(e=>{const t=_u(e.domain);return(0,dr.jsx)(xu,{id:e.id,onClick:()=>P(e,"parking"),onEdit:()=>P(e,"parking"),children:(0,dr.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,dr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dr.jsx)("span",{className:"font-medium",children:e.text}),(0,dr.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(0,dr.jsx)("span",{className:"text-xs text-muted-foreground",children:O(e.created_at)})})]}),(0,dr.jsx)(xo,{variant:"outline",style:{backgroundColor:t.color+"15",color:t.color,borderColor:t.color+"30"},children:t.label})]})},e.id)})})})}),(0,dr.jsxs)(du,{open:v,onOpenChange:g,title:"Edit Item",size:"default",footer:(0,dr.jsx)(dr.Fragment,{children:E?(0,dr.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,dr.jsx)("span",{className:"text-sm flex-1",children:"Move to archive?"}),(0,dr.jsx)(po,{variant:"ghost",onClick:()=>N(!1),children:"No"}),(0,dr.jsx)(po,{variant:"destructive",onClick:async()=>{A("archived",!0),N(!1),await D()},children:"Yes"})]}):(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(po,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),(0,dr.jsx)(po,{onClick:D,disabled:S||0===k.length,children:S?"Saving...":"Save"})]})}),children:[y&&(0,dr.jsx)(Eu,{item:y,type:w,onChange:A,onArchive:()=>N(!0),onFreeze:()=>{A("frozen",!(null!==y&&void 0!==y&&y.frozen))}}),k.length>0&&(0,dr.jsxs)("div",{className:"text-xs text-muted-foreground text-center mt-2",children:["\u270f\ufe0f ",k.length," fields changed"]})]})]})})};function Cu(){return new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Nicosia"}))}function Tu(e){const t=Cu();t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),Math.ceil((n-t)/864e5)}function Ru(e,t){const n={day:"numeric",month:"short",timeZone:"Asia/Nicosia"},r=new Date(e).toLocaleDateString("en-US",n);if(!t||e===t)return r;const a=new Date(t).toLocaleDateString("en-US",n);return"".concat(r," \u2014 ").concat(a)}function Ou(e){const{_type:t,daysAway:n}=e,r=e.prepDays||{trip:14,birthday:7,milestone:30,holiday:3}[t]||7,a=n<=r;return{prepDays:r,isInPrepWindow:a,daysUntilPrep:a?0:n-r}}function Pu(e){const{_type:t,metadata:n}=e;if(null!==n&&void 0!==n&&n.meaning)return n.meaning;if(null!==n&&void 0!==n&&n.why)return n.why;switch(t){case"trip":return"Family time and getting out of routine";case"birthday":return"Celebration and connection with loved ones";case"milestone":return"A step forward toward the goal";case"holiday":return"Break from routine, time together";default:return null}}const Au=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),s=(0,r.useCallback)(async()=>{if(Qn()){try{const e=Cu().toISOString().split("T")[0],[n,r,a]=await Promise.all([Yn.from("trips").select("*").gte("end_date",e).order("start_date"),Yn.from("events").select("*").gte("start_time","".concat(e,"T00:00:00Z")).eq("user_id","dan").order("start_time"),Yn.from("goals").select("*").eq("user_id","dan").eq("status","active")]),s=[];(n.data||[]).forEach(e=>{var t,n,r,a;const o=e.start_date||(null===(t=e.metadata)||void 0===t?void 0:t.start_date);if(!o)return;const i=Tu(o);if(i<0)return;const l={id:"trip-".concat(e.id),_type:"trip",title:e.title||e.destination||"\u05d8\u05d9\u05d5\u05dc",startDate:o,endDate:e.end_date||(null===(n=e.metadata)||void 0===n?void 0:n.end_date)||o,daysAway:i,metadata:e.metadata||{},prepStatus:(null===(r=e.metadata)||void 0===r?void 0:r.prep_status)||null,prepDays:(null===(a=e.metadata)||void 0===a?void 0:a.prep_days)||14};l.meaning=Pu(l),Object.assign(l,Ou(l)),s.push(l)}),(r.data||[]).forEach(e=>{var t,n;if(!function(e){var t,n;const r=(e.category||"").toLowerCase(),a=(e.title||"").toLowerCase(),s=e.metadata||{};if(!0===s.horizon)return!0;if(!1===s.horizon)return!1;const o=["reminder","\u05ea\u05d6\u05db\u05d5\u05e8\u05ea","todo","\u05de\u05e9\u05d9\u05de\u05d4","meeting","\u05e4\u05d2\u05d9\u05e9\u05d4","call","\u05e9\u05d9\u05d7\u05d4","dentist","\u05e8\u05d5\u05e4\u05d0","doctor","appointment","gym","workout","\u05d0\u05d9\u05de\u05d5\u05df"];for(const u of o)if(a.includes(u)||r.includes(u))return!1;const i=["birthday","\u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea","anniversary","\u05d9\u05d5\u05dd \u05e0\u05d9\u05e9\u05d5\u05d0\u05d9\u05df","trip","\u05d8\u05d9\u05d5\u05dc","vacation","\u05d7\u05d5\u05e4\u05e9\u05d4","holiday","\u05d7\u05d2","passover","pesach","sukkot","hanukkah","milestone","launch","deadline"];for(const u of i)if(a.includes(u)||r.includes(u))return!0;const l=null===(t=e.start_time)||void 0===t?void 0:t.split("T")[0],c=null===(n=e.end_time)||void 0===n?void 0:n.split("T")[0];return!(!c||!l||c===l)}(e))return;const r=(e.category||"").toLowerCase(),a=e.metadata||{},o=null===(t=e.start_time)||void 0===t?void 0:t.split("T")[0];if(!o)return;const i=Tu(o);if(i<0)return;const l=null===(n=e.end_time)||void 0===n?void 0:n.split("T")[0],c=l&&l!==o,u=r.includes("birthday")||r.includes("\u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea")||r.includes("anniversary"),d=r.includes("holiday")||r.includes("\u05d7\u05d5\u05e4\u05e9")||r.includes("school")||r.includes("\u05d7\u05d2");let h="trip";u?h="birthday":d?h="holiday":c||(h="milestone");const f={id:"event-".concat(h,"-").concat(e.id),_type:h,title:e.title,startDate:o,endDate:l||o,daysAway:i,metadata:a,prepStatus:a.prep_status||null,prepDays:a.prep_days||null};f.meaning=Pu(f),Object.assign(f,Ou(f)),s.push(f)}),(a.data||[]).forEach(e=>{var t,n,r,a,o;const i=e.deadline||(null===(t=e.metrics)||void 0===t?void 0:t.deadline)||(null===(n=e.metrics)||void 0===n?void 0:n.event);if(!i)return;let l;try{if(l=new Date(i),isNaN(l.getTime()))return}catch(f){return}const c=l.toISOString().split("T")[0],u=Tu(c);if(u<0)return;const d=(null===(r=e.metadata)||void 0===r?void 0:r.confidence)||"unknown",h={id:"goal-".concat(e.id),_type:"milestone",title:e.title,startDate:c,endDate:c,daysAway:u,metadata:e.metadata||{},goalConfidence:d,domain:e.domain,prepDays:(null===(a=e.metadata)||void 0===a?void 0:a.prep_days)||30};h.meaning=(null===(o=e.metadata)||void 0===o?void 0:o.why)||Pu(h),Object.assign(h,Ou(h)),s.push(h)}),s.sort((e,t)=>e.daysAway-t.daysAway),t(s)}catch(Nh){console.error("Horizon fetch error:",Nh)}a(!1)}else a(!1)},[]);(0,r.useEffect)(()=>{s()},[s]);const o=e.filter(e=>e.daysAway<=7),i=e.filter(e=>e.daysAway>7&&e.daysAway<=30),l=e.filter(e=>e.daysAway>30);if(n)return(0,dr.jsx)("div",{className:"horizon",children:(0,dr.jsxs)("div",{className:"horizon-loading",children:[(0,dr.jsx)("div",{className:"horizon-pulse"}),(0,dr.jsx)("span",{children:"Loading horizon..."})]})});const c=e=>{const t=function(e){return"trip"===e._type?{icon:"\u2708\ufe0f",label:"Trip"}:"birthday"===e._type?{icon:"\ud83c\udf82",label:"Birthday"}:"holiday"===e._type?{icon:"\ud83e\uddd2",label:"Holiday"}:"milestone"===e._type?{icon:"\ud83c\udfc1",label:"Milestone"}:{icon:"\ud83d\udcc5",label:"Event"}}(e),{isInPrepWindow:n,daysUntilPrep:r}=e;return(0,dr.jsxs)("div",{className:"horizon-card ".concat(n?"horizon-card--prep-active":"horizon-card--prep-future"),children:[(0,dr.jsx)("div",{className:"horizon-card-icon",children:t.icon}),(0,dr.jsxs)("div",{className:"horizon-card-content",children:[(0,dr.jsxs)("div",{className:"horizon-card-header",children:[(0,dr.jsx)("span",{className:"horizon-card-title",children:e.title}),(0,dr.jsx)("span",{className:"horizon-card-days ".concat(e.daysAway<=3?"horizon-card-days--soon":""),children:0===e.daysAway?"Today":1===e.daysAway?"Tomorrow":"In ".concat(e.daysAway," days")})]}),(0,dr.jsx)("span",{className:"horizon-card-date",children:Ru(e.startDate,e.endDate)}),e.meaning&&(0,dr.jsxs)("span",{className:"horizon-card-meaning",children:["\ud83d\udcad ",e.meaning]}),(0,dr.jsx)("div",{className:"horizon-card-prep-window ".concat(n?"prep-active":"prep-future"),children:n?(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)("span",{className:"prep-indicator prep-indicator--active",children:"\u23f0"}),(0,dr.jsx)("span",{children:"Time to prepare"}),e.prepStatus&&(0,dr.jsxs)("span",{className:"prep-status",children:["\u2022 ",e.prepStatus]})]}):(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)("span",{className:"prep-indicator prep-indicator--future",children:"\ud83d\udcc5"}),(0,dr.jsxs)("span",{children:["Prep starts in ",r," days"]})]})}),e.goalConfidence&&(0,dr.jsx)("span",{className:"horizon-card-confidence goal-".concat(e.goalConfidence),children:"on_track"===e.goalConfidence?"\u2705 On track":"behind"===e.goalConfidence?"\u26a0\ufe0f Behind":"ahead"===e.goalConfidence?"\ud83d\ude80 Ahead":"\u2753 Unknown"})]})]},e.id)},u=(e,t,n)=>0===n.length?null:(0,dr.jsxs)("section",{className:"horizon-section",children:[(0,dr.jsxs)("h2",{className:"horizon-section-title",children:[t," ",e]}),(0,dr.jsx)("div",{className:"horizon-cards",children:n.map(c)})]});return(0,dr.jsx)("div",{className:"horizon",children:(0,dr.jsxs)("div",{className:"horizon-container",children:[(0,dr.jsxs)("header",{className:"horizon-header",children:[(0,dr.jsx)("h1",{children:"\ud83d\udd2d Horizon"}),(0,dr.jsx)("p",{className:"horizon-sub",children:"Big events on the horizon \u2014 only what truly matters"})]}),0===e.length?(0,dr.jsxs)("div",{className:"horizon-empty",children:[(0,dr.jsx)("span",{className:"horizon-empty-icon",children:"\ud83c\udf05"}),(0,dr.jsx)("p",{children:"No big events on the horizon"}),(0,dr.jsx)("p",{className:"horizon-empty-sub",children:"All quiet \u2014 enjoy the moment"})]}):(0,dr.jsxs)(dr.Fragment,{children:[u("This Week","\ud83d\udccd",o),u("This Month","\ud83d\udcc5",i),u("Later","\ud83c\udf0a",l)]}),(0,dr.jsx)("footer",{className:"horizon-footer",children:(0,dr.jsx)("p",{children:"Only trips, birthdays, and milestones \u2022 No daily reminders"})})]})})};function Du(){return new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Nicosia"}))}function Iu(e){const t=Du();t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),Math.ceil((n-t)/864e5)}function Lu(e){return"trip"===e._type?{icon:"\u2708\ufe0f",label:"Trip",color:"#3b82f6"}:"birthday"===e._type?{icon:"\ud83c\udf82",label:"Birthday",color:"#ec4899"}:"holiday"===e._type?{icon:"\ud83e\uddd2",label:"Holiday",color:"#f59e0b"}:"milestone"===e._type?{icon:"\ud83d\udcc5",label:"Event",color:"#8b5cf6"}:{icon:"\ud83d\udcc5",label:"Event",color:"#6b7280"}}const Mu=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,o]=(0,r.useState)(()=>{const e=Du();return new Date(e.getFullYear(),e.getMonth(),1)}),i=(0,r.useCallback)(async()=>{if(Qn()){try{const e=Du(),n=e.toISOString().split("T")[0],r=new Date(e);r.setMonth(r.getMonth()+6);const a=r.toISOString().split("T")[0],[s,o,i]=await Promise.all([Yn.from("trips").select("*").gte("end_date",n).lte("start_date",a).order("start_date"),Yn.from("events").select("*").gte("start_time","".concat(n,"T00:00:00Z")).lte("start_time","".concat(a,"T23:59:59Z")).eq("user_id","dan").order("start_time"),Yn.from("goals").select("*").eq("user_id","dan").eq("status","active")]),l=[];(s.data||[]).forEach(e=>{var t,n;const r=e.start_date||(null===(t=e.metadata)||void 0===t?void 0:t.start_date);if(!r)return;const a=Iu(r);a<0||l.push({id:"trip-".concat(e.id),_type:"trip",title:e.title||e.destination||"\u05d8\u05d9\u05d5\u05dc",startDate:r,endDate:e.end_date||(null===(n=e.metadata)||void 0===n?void 0:n.end_date)||r,daysAway:a})}),(o.data||[]).forEach(e=>{var t,n;if(!function(e){var t,n;const r=(e.category||"").toLowerCase(),a=(e.title||"").toLowerCase(),s=e.metadata||{};if(!0===s.horizon)return!0;if(!1===s.horizon)return!1;const o=["reminder","\u05ea\u05d6\u05db\u05d5\u05e8\u05ea","todo","\u05de\u05e9\u05d9\u05de\u05d4","meeting","\u05e4\u05d2\u05d9\u05e9\u05d4","call","\u05e9\u05d9\u05d7\u05d4","dentist","\u05e8\u05d5\u05e4\u05d0","doctor","appointment","gym","workout","\u05d0\u05d9\u05de\u05d5\u05df"];for(const u of o)if(a.includes(u)||r.includes(u))return!1;const i=["birthday","\u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea","anniversary","\u05d9\u05d5\u05dd \u05e0\u05d9\u05e9\u05d5\u05d0\u05d9\u05df","trip","\u05d8\u05d9\u05d5\u05dc","vacation","\u05d7\u05d5\u05e4\u05e9\u05d4","holiday","\u05d7\u05d2","passover","pesach","sukkot","hanukkah","milestone","launch","deadline","conference","\u05db\u05e0\u05e1"];for(const u of i)if(a.includes(u)||r.includes(u))return!0;const l=null===(t=e.start_time)||void 0===t?void 0:t.split("T")[0],c=null===(n=e.end_time)||void 0===n?void 0:n.split("T")[0];return!(!c||!l||c===l)}(e))return;const r=(e.category||"").toLowerCase(),a=null===(t=e.start_time)||void 0===t?void 0:t.split("T")[0];if(!a)return;const s=Iu(a);if(s<0)return;const o=null===(n=e.end_time)||void 0===n?void 0:n.split("T")[0],i=o&&o!==a,c=r.includes("birthday")||r.includes("\u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea")||r.includes("anniversary"),u=r.includes("holiday")||r.includes("\u05d7\u05d5\u05e4\u05e9")||r.includes("school")||r.includes("\u05d7\u05d2");let d="trip";c?d="birthday":u?d="holiday":i||(d="milestone"),l.push({id:"event-".concat(d,"-").concat(e.id),_type:d,title:e.title,startDate:a,endDate:o||a,daysAway:s})}),(i.data||[]).forEach(e=>{var t,n;const r=e.deadline||(null===(t=e.metrics)||void 0===t?void 0:t.deadline)||(null===(n=e.metrics)||void 0===n?void 0:n.event);if(!r)return;let a;try{if(a=new Date(r),isNaN(a.getTime()))return}catch(i){return}const s=a.toISOString().split("T")[0],o=Iu(s);o<0||l.push({id:"goal-".concat(e.id),_type:"milestone",title:e.title,startDate:s,endDate:s,daysAway:o})}),t(l)}catch(Nh){console.error("Calendar fetch error:",Nh)}a(!1)}else a(!1)},[]);(0,r.useEffect)(()=>{i()},[i]);const l=Du(),c="".concat(l.getFullYear(),"-").concat(String(l.getMonth()+1).padStart(2,"0"),"-").concat(String(l.getDate()).padStart(2,"0"));if(n)return(0,dr.jsx)("div",{className:"calendar-mode",children:(0,dr.jsxs)("div",{className:"calendar-loading",children:[(0,dr.jsx)("div",{className:"calendar-pulse"}),(0,dr.jsx)("span",{children:"Loading calendar..."})]})});const u=(()=>{const e=s.getFullYear(),t=s.getMonth(),n=new Date(e,t,1),r=new Date(e,t+1,0),a=n.getDay(),o=[];for(let s=0;s<a;s++)o.push({day:null,date:null});for(let s=1;s<=r.getDate();s++){const n="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(s).padStart(2,"0"));o.push({day:s,date:n})}return o})();return(0,dr.jsx)("div",{className:"calendar-mode",children:(0,dr.jsxs)("div",{className:"calendar-container",children:[(0,dr.jsxs)("header",{className:"calendar-header",children:[(0,dr.jsx)("h1",{children:"\ud83d\udcc5 Calendar"}),(0,dr.jsxs)("div",{className:"calendar-nav",children:[(0,dr.jsx)("button",{onClick:()=>{o(new Date(s.getFullYear(),s.getMonth()-1,1))},className:"calendar-nav-btn",children:"\u25c0"}),(0,dr.jsxs)("span",{className:"calendar-month-title",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]," ",s.getFullYear()]}),(0,dr.jsx)("button",{onClick:()=>{o(new Date(s.getFullYear(),s.getMonth()+1,1))},className:"calendar-nav-btn",children:"\u25b6"}),(0,dr.jsx)("button",{onClick:()=>{const e=Du();o(new Date(e.getFullYear(),e.getMonth(),1))},className:"calendar-today-btn",children:"Today"})]})]}),(0,dr.jsxs)("div",{className:"calendar-legend",children:[(0,dr.jsxs)("span",{className:"legend-item",children:[(0,dr.jsx)("span",{className:"legend-dot",style:{background:"#3b82f6"}})," \u05d8\u05d9\u05e1\u05d5\u05ea/\u05db\u05e0\u05e1\u05d9\u05dd"]}),(0,dr.jsxs)("span",{className:"legend-item",children:[(0,dr.jsx)("span",{className:"legend-dot",style:{background:"#f59e0b"}})," \u05d7\u05d5\u05e4\u05e9\u05d5\u05ea \u05d9\u05dc\u05d3\u05d9\u05dd"]}),(0,dr.jsxs)("span",{className:"legend-item",children:[(0,dr.jsx)("span",{className:"legend-dot",style:{background:"#ec4899"}})," \u05d9\u05de\u05d9 \u05d4\u05d5\u05dc\u05d3\u05ea"]}),(0,dr.jsxs)("span",{className:"legend-item",children:[(0,dr.jsx)("span",{className:"legend-dot",style:{background:"#8b5cf6"}})," \u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd"]})]}),(0,dr.jsxs)("div",{className:"calendar-grid",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,dr.jsx)("div",{className:"calendar-day-header",children:e},e)),u.map((t,n)=>{const r=(a=t.date)?e.filter(e=>{const t=e.startDate,n=e.endDate;return a>=t&&a<=n}):[];var a;const s=t.date===c,o=t.date&&t.date<c;return(0,dr.jsx)("div",{className:"calendar-cell ".concat(t.day?"":"calendar-cell--empty"," ").concat(s?"calendar-cell--today":""," ").concat(o?"calendar-cell--past":""),children:t.day&&(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)("span",{className:"calendar-cell-day",children:t.day}),(0,dr.jsxs)("div",{className:"calendar-cell-events",children:[r.slice(0,3).map(e=>{const t=Lu(e);return(0,dr.jsxs)("div",{className:"calendar-event",style:{backgroundColor:t.color},title:e.title,children:[(0,dr.jsx)("span",{className:"calendar-event-icon",children:t.icon}),(0,dr.jsx)("span",{className:"calendar-event-title",children:e.title})]},e.id)}),r.length>3&&(0,dr.jsxs)("div",{className:"calendar-more",children:["+",r.length-3," more"]})]})]})},n)})]}),(0,dr.jsxs)("div",{className:"calendar-upcoming",children:[(0,dr.jsx)("h2",{children:"\ud83d\udccd Coming Up"}),(0,dr.jsx)("div",{className:"calendar-upcoming-list",children:e.slice(0,10).map(e=>{const t=Lu(e);return(0,dr.jsxs)("div",{className:"calendar-upcoming-item",children:[(0,dr.jsx)("span",{className:"upcoming-icon",children:t.icon}),(0,dr.jsx)("span",{className:"upcoming-title",children:e.title}),(0,dr.jsx)("span",{className:"upcoming-days",children:0===e.daysAway?"\u05d4\u05d9\u05d5\u05dd":1===e.daysAway?"\u05de\u05d7\u05e8":"\u05d1\u05e2\u05d5\u05d3 ".concat(e.daysAway," \u05d9\u05de\u05d9\u05dd")})]},e.id)})})]})]})})};const zu=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,o]=(0,r.useState)("all"),i=(0,r.useCallback)(async()=>{if(Qn())try{let e=Yn.from("tasks").select("*").eq("assignee","pa").eq("archived",!1).order("created_at",{ascending:!1});"pending"===s?e=e.eq("completed",!1):"done"===s&&(e=e.eq("completed",!0));const{data:n,error:r}=await e;if(r)throw r;t(n||[])}catch(Nh){console.error("PA fetch error:",Nh)}finally{a(!1)}else a(!1)},[s]);(0,r.useEffect)(()=>{i()},[i]);const l=e=>{switch(e){case"low":return"\ud83c\udf19";case"medium":return"\u2600\ufe0f";case"high":return"\u26a1";default:return"\u2022"}};if(n)return(0,dr.jsx)("div",{className:"pa-inbox",children:(0,dr.jsx)("div",{className:"pa-loading",children:"Loading..."})});const c=e.filter(e=>!e.completed).length;return(0,dr.jsxs)("div",{className:"pa-inbox",children:[(0,dr.jsxs)("header",{className:"pa-header",children:[(0,dr.jsx)("h1",{children:"\ud83d\udce5 PA Inbox"}),(0,dr.jsxs)("span",{className:"pa-badge",children:[c," pending"]})]}),(0,dr.jsxs)("div",{className:"pa-filters",children:[(0,dr.jsx)("button",{className:"pa-filter ".concat("all"===s?"active":""),onClick:()=>o("all"),children:"All"}),(0,dr.jsx)("button",{className:"pa-filter ".concat("pending"===s?"active":""),onClick:()=>o("pending"),children:"Pending"}),(0,dr.jsx)("button",{className:"pa-filter ".concat("done"===s?"active":""),onClick:()=>o("done"),children:"Completed"})]}),0===e.length?(0,dr.jsx)("div",{className:"pa-empty",children:(0,dr.jsx)("p",{children:"No tasks in Inbox"})}):(0,dr.jsx)("div",{className:"pa-tasks",children:e.map(e=>{var t;return(0,dr.jsxs)("div",{className:"pa-task ".concat(e.completed?"done":""),children:[(0,dr.jsxs)("div",{className:"pa-task-main",children:[(0,dr.jsx)("span",{className:"pa-task-energy",children:l(e.energy_level)}),(0,dr.jsxs)("div",{className:"pa-task-content",children:[(0,dr.jsx)("span",{className:"pa-task-text",children:e.text||e.title}),(null===(t=e.labels)||void 0===t?void 0:t.length)>0&&(0,dr.jsx)("div",{className:"pa-task-labels",children:e.labels.map((e,t)=>(0,dr.jsx)("span",{className:"pa-task-label",children:e},t))})]})]}),!e.completed&&(0,dr.jsx)("button",{className:"pa-task-done",onClick:()=>(async e=>{if(Qn())try{await Yn.from("tasks").update({completed:!0,completed_at:(new Date).toISOString(),closed_by:"pa"}).eq("id",e),i()}catch(Nh){console.error("Mark done error:",Nh)}})(e.id),children:"\u2713 Done"}),e.completed&&(0,dr.jsxs)("span",{className:"pa-task-closed",children:["\u2713 Closed by ",e.closed_by||"PA"]})]},e.id)})})]})},Uu=(new Date).toISOString().split("T")[0];const Fu=function(e){var t;let{onClose:n}=e;const{toast:a}=ur(),[s,o]=(0,r.useState)("loading"),[i,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);const m=(0,r.useCallback)(async()=>{if(!Qn())return o("auto"),void l({closures:0,highlights:[],health:null,mood:"unknown"});try{var e;const[t,n,r,a]=await Promise.all([Yn.from("tasks").select("*").eq("user_id","dan").eq("completed",!0).gte("completed_at","".concat(Uu,"T00:00:00Z")).lte("completed_at","".concat(Uu,"T23:59:59Z")),Yn.from("events").select("*").eq("user_id","dan").gte("start_time","".concat(Uu,"T00:00:00Z")).lte("start_time","".concat(Uu,"T23:59:59Z")),Yn.from("daily_briefs").select("*").eq("user_id","dan").eq("date",Uu).single(),Yn.from("health_data").select("*").eq("user_id","dan").eq("date",Uu).single()]),s=t.data||[],i=n.data||[],c=r.data,u=a.data;let d=s.length;const h=new Date,f=i.filter(e=>new Date(e.end_time||e.start_time)<h);d+=f.length,"done"===(null===c||void 0===c||null===(e=c.metadata)||void 0===e?void 0:e.morning_anchor)&&(d+=1);const p=[];s.length>0&&p.push("\u2705 ".concat(s.length," tasks completed")),f.length>0&&p.push("\ud83d\udcc5 ".concat(f.length," events")),(null===u||void 0===u?void 0:u.steps)>5e3&&p.push("\ud83d\udc5f ".concat(u.steps.toLocaleString()," steps")),null!==u&&void 0!==u&&u.workout_type&&p.push("\ud83c\udfcb\ufe0f ".concat(u.workout_type));let m="neutral";d>=5&&((null===u||void 0===u?void 0:u.body_battery)>50||!u)?m="productive":d<2&&(null===u||void 0===u?void 0:u.body_battery)<30&&(m="low"),l({closures:d,highlights:p,health:{sleep:null===u||void 0===u?void 0:u.sleep_hours,battery:null===u||void 0===u?void 0:u.body_battery,steps:null===u||void 0===u?void 0:u.steps},mood:m});const{data:v}=await Yn.from("day_close").select("*").eq("user_id","dan").eq("date",Uu).single();o(v?v.state:"auto")}catch(Nh){console.error("Generate summary error:",Nh),o("auto")}},[]);(0,r.useEffect)(()=>{m()},[m]);const v=(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Qn()){p(!0);try{const{error:n}=await Yn.from("day_close").upsert({user_id:"dan",date:Uu,state:e,summary:i,tomorrow_note:t,closed_at:(new Date).toISOString()},{onConflict:"user_id,date"});if(n)throw n;o("closed")}catch(Nh){console.error("Save day close error:",Nh),a({title:"Day close failed",description:"Could not save. Please try again.",variant:"destructive"})}finally{p(!1)}}else o("closed")},[i,a]);return(0,r.useEffect)(()=>{if("auto"===s){const e=setTimeout(()=>{v("auto")},3e4);return()=>clearTimeout(e)}},[s,v]),"loading"===s?(0,dr.jsx)("div",{className:"day-close-overlay",children:(0,dr.jsx)("div",{className:"day-close",children:(0,dr.jsxs)("div",{className:"day-close-loading",children:[(0,dr.jsx)("div",{className:"day-close-spinner"}),(0,dr.jsx)("p",{children:"Summarizing the day..."})]})})}):"closed"===s?(0,dr.jsx)("div",{className:"day-close-overlay",onClick:n,children:(0,dr.jsxs)("div",{className:"day-close day-close-done",onClick:e=>e.stopPropagation(),children:[(0,dr.jsx)("div",{className:"day-close-check",children:"\u2713"}),(0,dr.jsx)("p",{children:"Day closed. Good night! \ud83c\udf19"})]})}):(0,dr.jsx)("div",{className:"day-close-overlay",onClick:n,children:(0,dr.jsxs)("div",{className:"day-close",onClick:e=>e.stopPropagation(),children:[(0,dr.jsxs)("header",{className:"day-close-header",children:[(0,dr.jsx)("span",{className:"day-close-emoji",children:(()=>{switch(null===i||void 0===i?void 0:i.mood){case"productive":return"\ud83c\udf1f";case"low":return"\ud83d\ude34";default:return"\ud83c\udf19"}})()}),(0,dr.jsx)("h2",{children:"Day Close"}),(0,dr.jsx)("p",{className:"day-close-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"})})]}),(0,dr.jsxs)("section",{className:"day-close-summary",children:[(0,dr.jsxs)("div",{className:"day-close-stat day-close-stat-main",children:[(0,dr.jsx)("span",{className:"day-close-stat-value",children:(null===i||void 0===i?void 0:i.closures)||0}),(0,dr.jsx)("span",{className:"day-close-stat-label",children:"Today's Closures"})]}),(null===i||void 0===i||null===(t=i.highlights)||void 0===t?void 0:t.length)>0&&(0,dr.jsx)("div",{className:"day-close-highlights",children:i.highlights.map((e,t)=>(0,dr.jsx)("span",{className:"day-close-highlight",children:e},t))}),(0,dr.jsx)("p",{className:"day-close-mood",children:(()=>{switch(null===i||void 0===i?void 0:i.mood){case"productive":return"Productive day!";case"low":return"Tough day \u2014 tomorrow will be better";default:return"Normal day"}})()})]}),!c&&"auto"===s&&(0,dr.jsxs)("div",{className:"day-close-actions",children:[(0,dr.jsx)("button",{className:"day-close-btn day-close-btn-ack",onClick:()=>{o("partial"),v("partial")},children:"\ud83d\udc4b Got it"}),(0,dr.jsx)("button",{className:"day-close-btn day-close-btn-review",onClick:()=>{u(!0)},children:"\u270d\ufe0f Review"})]}),c&&(0,dr.jsxs)("section",{className:"day-close-tomorrow",children:[(0,dr.jsx)("h3",{children:"Tomorrow"}),(0,dr.jsx)("textarea",{className:"day-close-tomorrow-input",placeholder:"One thing important for tomorrow...",value:d,onChange:e=>h(e.target.value),rows:3}),(0,dr.jsx)("button",{className:"day-close-btn day-close-btn-confirm",onClick:()=>{v("reviewed",d||null)},disabled:f,children:f?"Saving...":"\u2705 Close Day"})]}),"auto"===s&&!c&&(0,dr.jsx)("p",{className:"day-close-auto-note",children:"Day will auto-close in a few seconds..."})]})})},Bu=[{id:"1",title:"Review design mockups",description:"Check the new Linear-style components",status:"in-progress",priority:"high"},{id:"2",title:"Implement modal focus trap",description:"Ensure Tab key stays inside modal",status:"done"},{id:"3",title:"Add keyboard shortcuts",description:"Escape to close, Cmd+Enter to save",status:"todo"},{id:"4",title:"Test on mobile devices",description:"Touch interactions and responsive layout",status:"waiting"}],qu=[{id:"item-1",name:"Design System",description:"Core component library"},{id:"item-2",name:"API Integration",description:"Backend connection layer"},{id:"item-3",name:"Authentication",description:"User login and sessions"},{id:"item-4",name:"Dashboard",description:"Main overview screen"},{id:"item-5",name:"Settings Page",description:"User preferences"},{id:"item-6",name:"Notifications",description:"Real-time alerts system"}];function Wu(e){let{items:t}=e;const[n,a]=(0,r.useState)({});return(0,dr.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4 mt-4",children:[(0,dr.jsx)("h4",{className:"text-sm font-medium mb-3 text-muted-foreground",children:"Quality Checks"}),(0,dr.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,dr.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[(0,dr.jsx)(bi,{checked:n[t]||!1,onCheckedChange:e=>a(u(u({},n),{},{[t]:e}))}),(0,dr.jsx)("span",{className:n[t]?"line-through text-muted-foreground":"",children:e})]},t))})]})}function Ku(e){let{title:t,description:n,children:r}=e;return(0,dr.jsxs)("section",{className:"mb-12",children:[(0,dr.jsxs)("div",{className:"mb-4",children:[(0,dr.jsx)("h2",{className:"text-xl font-semibold",children:t}),n&&(0,dr.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:n})]}),r]})}function Vu(){const[e,t]=(0,r.useState)(Bu),[n,a]=(0,r.useState)(""),[s,o]=(0,r.useState)(null),i=async(e,n)=>{o("saving"),await new Promise(e=>setTimeout(e,500)),t(t=>t.map(t=>t.id===e?u(u({},t),n):t)),o("saved"),setTimeout(()=>o(null),1500)},l=async(e,n)=>{await new Promise(e=>setTimeout(e,300)),t(t=>t.map(t=>t.id===e?u(u({},t),{},{status:n}):t))},c=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,dr.jsxs)(Ku,{title:"1. TaskCard",description:"Linear-style task cards with inline editing, optimistic updates, and keyboard navigation",children:[s&&(0,dr.jsxs)("div",{className:"mb-4 text-sm",children:["saving"===s&&(0,dr.jsxs)("span",{className:"text-amber-500 flex items-center gap-2",children:[(0,dr.jsx)("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-amber-500 border-t-transparent"}),"Saving..."]}),"saved"===s&&(0,dr.jsx)("span",{className:"text-green-500",children:"\u2713 Saved"})]}),(0,dr.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),!n.trim())return;const r={id:"new-".concat(Date.now()),title:n.trim(),description:"",status:"todo"};t(e=>[r,...e]),a("")},className:"mb-4",children:(0,dr.jsxs)("div",{className:"flex gap-2",children:[(0,dr.jsx)(vo,{value:n,onChange:e=>a(e.target.value),placeholder:"Add a new task... (press Enter)",className:"flex-1"}),(0,dr.jsx)(po,{type:"submit",disabled:!n.trim(),children:"Add"})]})}),(0,dr.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,dr.jsx)(uu,{task:e,onUpdate:i,onStatusChange:l,onDelete:c},e.id))}),(0,dr.jsxs)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-sm",children:[(0,dr.jsx)("strong",{children:"Test Cases:"}),(0,dr.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[(0,dr.jsx)("li",{children:"Click card \u2192 opens detail dialog"}),(0,dr.jsx)("li",{children:"Click checkbox \u2192 toggles done/todo (without opening dialog)"}),(0,dr.jsx)("li",{children:"In dialog: click title/description to edit"}),(0,dr.jsx)("li",{children:"Escape to cancel editing or close dialog"}),(0,dr.jsx)("li",{children:"Cmd/Ctrl+Enter to save while editing"}),(0,dr.jsx)("li",{children:"Try selecting text in the card (should work)"}),(0,dr.jsx)("li",{children:"Tab through elements for keyboard navigation"})]})]}),(0,dr.jsx)(Wu,{items:["Text editing feels native (select/cut/copy/paste/undo/redo)","Keyboard navigation works (Tab, Enter, Escape)","Save/persist is clear (Saving... \u2192 Saved feedback)","No dead clicks (every interactive element responds)","Works on mobile (touch interactions)"]})]})}function Hu(){const e=pu(),t=pu(),n=pu(),[a,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null);return(0,dr.jsxs)(Ku,{title:"2. Modal",description:"Dialog system with focus trap, keyboard shortcuts, and animation",children:[(0,dr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,dr.jsx)(po,{onClick:e.open,children:"Open Basic Modal"}),(0,dr.jsx)(po,{variant:"secondary",onClick:t.open,children:"Open Confirm Modal"}),(0,dr.jsx)(po,{variant:"outline",onClick:n.open,children:"Open Alert Modal"})]}),o&&(0,dr.jsxs)("div",{className:"mt-4 text-green-500 text-sm",children:["\u2713 ",o]}),(0,dr.jsx)(du,{open:e.isOpen,onOpenChange:e.setIsOpen,title:"Basic Modal",description:"This is a basic modal with custom content",footer:(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsx)(po,{variant:"ghost",onClick:e.close,children:"Cancel"}),(0,dr.jsx)(po,{onClick:e.close,children:"Done"})]}),children:(0,dr.jsxs)("div",{className:"space-y-4",children:[(0,dr.jsx)("p",{children:"Try these interactions:"}),(0,dr.jsxs)("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[(0,dr.jsx)("li",{children:"Press Tab \u2014 focus should stay inside modal"}),(0,dr.jsx)("li",{children:"Press Escape \u2014 modal should close"}),(0,dr.jsx)("li",{children:"Click outside (on overlay) \u2014 modal should close"}),(0,dr.jsx)("li",{children:"Scroll the page \u2014 body should NOT scroll"})]}),(0,dr.jsx)(vo,{placeholder:"Focus trap test - Tab here"}),(0,dr.jsx)(vo,{placeholder:"Then Tab here"}),(0,dr.jsx)(po,{variant:"outline",className:"w-full",children:"And Tab here (should loop back)"})]})}),(0,dr.jsx)(hu,{open:t.isOpen,onOpenChange:t.setIsOpen,title:"Confirm Action",description:"Are you sure you want to proceed? This action demonstrates the confirm modal pattern.",confirmLabel:"Yes, Proceed",cancelLabel:"Cancel",onConfirm:async()=>{s(!0),await new Promise(e=>setTimeout(e,1e3)),s(!1),i("Action confirmed!"),setTimeout(()=>i(null),2e3)},loading:a}),(0,dr.jsx)(fu,{open:n.isOpen,onOpenChange:n.setIsOpen,title:"Alert!",description:"This is an alert modal. It only has a single action button to dismiss.",actionLabel:"Got it"}),(0,dr.jsxs)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-sm",children:[(0,dr.jsx)("strong",{children:"Test Cases:"}),(0,dr.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[(0,dr.jsx)("li",{children:"Focus trap \u2014 Tab key stays inside modal"}),(0,dr.jsx)("li",{children:"Escape key closes modal"}),(0,dr.jsx)("li",{children:"Click outside (overlay) closes modal"}),(0,dr.jsx)("li",{children:"Body scroll is locked when modal is open"}),(0,dr.jsx)("li",{children:"Smooth open/close animation"}),(0,dr.jsx)("li",{children:"Confirm modal shows loading state"})]})]}),(0,dr.jsx)(Wu,{items:["Focus trap works (Tab stays inside)","Escape closes modal","Click outside closes modal","No body scroll when open","Smooth animation"]})]})}function Gu(){const[e,t]=(0,r.useState)(qu),{selectedIds:n,select:a,clearSelection:s,isSelected:o}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,n]=r.useState(new Set),a=r.useCallback((e,t)=>{n(n=>{const r=new Set(n);return t?r.add(e):r.delete(e),r})},[]),s=r.useCallback(()=>{n(new Set(e.map(e=>e.id)))},[e]),o=r.useCallback(()=>{n(new Set)},[]),i=r.useCallback(e=>{n(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),l=r.useCallback(e=>t.has(e),[t]);return{selectedIds:Array.from(t),select:a,selectAll:s,clearSelection:o,toggleSelection:i,isSelected:l,hasSelection:t.size>0,allSelected:e.length>0&&t.size===e.length}}(e),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),d=e=>{u("Edit: ".concat(e)),setTimeout(()=>u(null),1500)},h=e=>{t(t=>t.filter(t=>t.id!==e)),u("Deleted: ".concat(e)),setTimeout(()=>u(null),1500)},f=e=>{u("Row clicked: ".concat(e)),setTimeout(()=>u(null),1500)};return(0,dr.jsxs)(Ku,{title:"3. ListRow",description:"List items with selection, hover actions, and bulk operations",children:[(0,dr.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,dr.jsx)(po,{variant:"outline",size:"sm",onClick:()=>l(!i),children:i?"Show Items":"Show Empty State"}),(0,dr.jsx)(po,{variant:"outline",size:"sm",onClick:()=>t(qu),children:"Reset Items"})]}),c&&(0,dr.jsxs)("div",{className:"mb-4 text-sm text-amber-500",children:["\u2192 ",c]}),(0,dr.jsx)(yu,{selectedIds:n,onClearSelection:s,emptyState:"No items to display. Add some items to get started.",bulkActions:(0,dr.jsxs)(dr.Fragment,{children:[(0,dr.jsxs)(po,{variant:"ghost",size:"sm",children:["Archive (",n.length,")"]}),(0,dr.jsxs)(po,{variant:"destructive",size:"sm",onClick:()=>{t(e=>e.filter(e=>!n.includes(e.id))),s(),u("Bulk deleted ".concat(n.length," items")),setTimeout(()=>u(null),1500)},children:["Delete (",n.length,")"]})]}),children:i?null:e.map(e=>(0,dr.jsx)(gu,{id:e.id,selected:o(e.id),onSelect:a,onEdit:d,onDelete:h,onClick:f,children:(0,dr.jsxs)("div",{children:[(0,dr.jsx)("div",{className:"font-medium",children:e.name}),(0,dr.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})},e.id))}),(0,dr.jsxs)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-sm",children:[(0,dr.jsx)("strong",{children:"Test Cases:"}),(0,dr.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[(0,dr.jsx)("li",{children:"Hover over row \u2192 edit/delete buttons appear"}),(0,dr.jsx)("li",{children:"Click checkbox \u2192 selects row (bulk actions bar appears)"}),(0,dr.jsx)("li",{children:'Click row body \u2192 triggers "row clicked" action'}),(0,dr.jsx)("li",{children:"Select multiple \u2192 bulk action bar shows count"}),(0,dr.jsx)("li",{children:"Toggle empty state to see empty placeholder"}),(0,dr.jsx)("li",{children:"Delete items to test removal"})]})]}),(0,dr.jsx)(Wu,{items:["Hover shows actions (edit/delete buttons)","Checkbox selection works","Bulk actions bar appears on selection","Click row vs click checkbox (different behavior)","Empty state displays correctly"]})]})}function Ju(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)("");return(0,dr.jsxs)(Ku,{title:"4. Primitives",description:"Core UI components: Button, Input, Textarea, Badge, Checkbox",children:[(0,dr.jsxs)("div",{className:"mb-8",children:[(0,dr.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Buttons"}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,dr.jsx)(po,{variant:"default",children:"Primary"}),(0,dr.jsx)(po,{variant:"secondary",children:"Secondary"}),(0,dr.jsx)(po,{variant:"ghost",children:"Ghost"}),(0,dr.jsx)(po,{variant:"destructive",children:"Destructive"}),(0,dr.jsx)(po,{variant:"outline",children:"Outline"}),(0,dr.jsx)(po,{variant:"link",children:"Link"})]}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-3 mt-3",children:[(0,dr.jsx)(po,{size:"sm",children:"Small"}),(0,dr.jsx)(po,{size:"default",children:"Default"}),(0,dr.jsx)(po,{size:"lg",children:"Large"}),(0,dr.jsx)(po,{disabled:!0,children:"Disabled"})]}),(0,dr.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Tab through buttons to see focus rings"})]}),(0,dr.jsxs)("div",{className:"mb-8",children:[(0,dr.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Input"}),(0,dr.jsxs)("div",{className:"max-w-md space-y-3",children:[(0,dr.jsx)(vo,{placeholder:"Default input...",value:e,onChange:e=>t(e.target.value)}),(0,dr.jsx)(vo,{placeholder:"Disabled input",disabled:!0}),(0,dr.jsxs)("p",{className:"text-xs text-muted-foreground",children:['Focus to see ring \u2022 Value: "',e,'"']})]})]}),(0,dr.jsxs)("div",{className:"mb-8",children:[(0,dr.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Textarea (Auto-resize)"}),(0,dr.jsxs)("div",{className:"max-w-md",children:[(0,dr.jsx)(yo,{placeholder:"Type here and watch it grow...",autoResize:!0,value:n,onChange:e=>a(e.target.value)}),(0,dr.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Type multiple lines to see auto-resize"})]})]}),(0,dr.jsxs)("div",{className:"mb-8",children:[(0,dr.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Badges (Status Variants)"}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,dr.jsx)(xo,{variant:"default",children:"Default"}),(0,dr.jsx)(xo,{variant:"secondary",children:"Secondary"}),(0,dr.jsx)(xo,{variant:"destructive",children:"Destructive"}),(0,dr.jsx)(xo,{variant:"outline",children:"Outline"})]}),(0,dr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,dr.jsx)(xo,{variant:"done",children:"Done"}),(0,dr.jsx)(xo,{variant:"in-progress",children:"In Progress"}),(0,dr.jsx)(xo,{variant:"waiting",children:"Waiting"}),(0,dr.jsx)(xo,{variant:"todo",children:"To Do"})]})]}),(0,dr.jsxs)("div",{className:"mb-8",children:[(0,dr.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Checkbox"}),(0,dr.jsxs)("div",{className:"space-y-3",children:[(0,dr.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,dr.jsx)(bi,{}),(0,dr.jsx)("span",{children:"Unchecked checkbox"})]}),(0,dr.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,dr.jsx)(bi,{defaultChecked:!0}),(0,dr.jsx)("span",{children:"Default checked"})]}),(0,dr.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer opacity-50",children:[(0,dr.jsx)(bi,{disabled:!0}),(0,dr.jsx)("span",{children:"Disabled checkbox"})]})]})]}),(0,dr.jsx)(Wu,{items:["All buttons show visible focus states (Tab to test)","Input focus ring is visible and consistent","Textarea auto-resizes when typing","Badge colors are distinct and readable","Checkbox has clear checked/unchecked states"]})]})}function $u(){return(0,dr.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:(0,dr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,dr.jsxs)("header",{className:"mb-12",children:[(0,dr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,dr.jsx)("span",{className:"text-2xl",children:"\u2728"}),(0,dr.jsx)("h1",{className:"text-2xl font-bold",children:"Golden Components"})]}),(0,dr.jsx)("p",{className:"text-muted-foreground",children:"Isolation test page for Linear-style UI components. Validate everything works perfectly here BEFORE migrating the rest of the app."}),(0,dr.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,dr.jsx)(xo,{variant:"in-progress",children:"Testing Phase"}),(0,dr.jsx)(xo,{variant:"outline",children:"v1.0"})]})]}),(0,dr.jsx)(Vu,{}),(0,dr.jsx)(Hu,{}),(0,dr.jsx)(Gu,{}),(0,dr.jsx)(Ju,{}),(0,dr.jsxs)("section",{className:"mt-16 p-6 bg-muted/30 rounded-lg",children:[(0,dr.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\ud83d\udccb Overall Quality Summary"}),(0,dr.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,dr.jsxs)("div",{children:[(0,dr.jsx)("h3",{className:"font-medium mb-2",children:"Must Pass"}),(0,dr.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,dr.jsx)("li",{children:"\u2610 All text editing feels native"}),(0,dr.jsx)("li",{children:"\u2610 Keyboard navigation works throughout"}),(0,dr.jsx)("li",{children:"\u2610 Save/persist feedback is clear"}),(0,dr.jsx)("li",{children:"\u2610 No dead clicks anywhere"}),(0,dr.jsx)("li",{children:"\u2610 Works on mobile (test on device)"})]})]}),(0,dr.jsxs)("div",{children:[(0,dr.jsx)("h3",{className:"font-medium mb-2",children:"Component Status"}),(0,dr.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,dr.jsx)("li",{children:"\u2610 TaskCard \u2014 all tests pass"}),(0,dr.jsx)("li",{children:"\u2610 Modal \u2014 all tests pass"}),(0,dr.jsx)("li",{children:"\u2610 ListRow \u2014 all tests pass"}),(0,dr.jsx)("li",{children:"\u2610 Primitives \u2014 all tests pass"})]})]})]})]}),(0,dr.jsxs)("footer",{className:"mt-12 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[(0,dr.jsx)("p",{children:"Golden Components Demo \u2022 Personal Command Center"}),(0,dr.jsxs)("p",{className:"mt-1",children:[(0,dr.jsx)("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Escape"})," to close modals \u2022"," ",(0,dr.jsx)("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Tab"})," for navigation \u2022"," ",(0,dr.jsx)("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Cmd+Enter"})," to save"]})]})]})})}function Yu(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function Qu(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Xu(e,t){return e.get(Qu(e,t))}function Zu(e,t,n){return e.set(Qu(e,t),n),n}const ed=["children"],td=["children"];function nd(e){const t=rd(e),n=r.forwardRef((e,n)=>{const{children:a}=e,s=kr(e,ed),o=r.Children.toArray(a),i=o.find(od);if(i){const e=i.props.children,a=o.map(t=>t===i?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null}))}return(0,dr.jsx)(t,u(u({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function rd(e){const t=r.forwardRef((e,t)=>{const{children:n}=e,a=kr(e,td);if(r.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n=u({},t);for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(n[r]=a):"style"===r?n[r]=u(u({},a),s):"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return u(u({},e),n)}(a,n.props);return n.type!==r.Fragment&&(s.ref=t?_o(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ad=Symbol("radix.slottable");var sd;function od(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ad}const id=["scope","children"];var ld=new WeakMap;sd=new WeakMap,Map;function cd(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=ud(t),a=r>=0?r:n+r;return a<0||a>=n?-1:a}(e,t);return-1===n?void 0:e[n]}function ud(e){return e!==e||0===e?0:Math.trunc(e)}var dd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hd=r.forwardRef((e,t)=>(0,dr.jsx)(qo.span,u(u({},e),{},{ref:t,style:u(u({},dd),e.style)})));hd.displayName="VisuallyHidden";const fd=["__scopeToast","hotkey","label"],pd=["__scopeToast","onFocusFromOutsideViewport"],md=["forceMount","open","defaultOpen","onOpenChange"],vd=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],gd=["__scopeToast","children"],yd=["__scopeToast"],bd=["__scopeToast"],wd=["altText"],xd=["__scopeToast"],kd=["__scopeToast","altText"];var _d="ToastProvider",[Sd,jd,Ed]=function(e){const t=e+"CollectionProvider",[n,a]=No(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:n}=e,a=r.useRef(null),o=r.useRef(new Map).current;return(0,dr.jsx)(s,{scope:t,itemMap:o,collectionRef:a,children:n})};i.displayName=t;const l=e+"CollectionSlot",c=nd(l),d=r.forwardRef((e,t)=>{const{scope:n,children:r}=e,a=So(t,o(l,n).collectionRef);return(0,dr.jsx)(c,{ref:a,children:r})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=nd(h),m=r.forwardRef((e,t)=>{const{scope:n,children:a}=e,s=kr(e,id),i=r.useRef(null),l=So(t,i),c=o(h,n);return r.useEffect(()=>(c.itemMap.set(i,u({ref:i},s)),()=>{c.itemMap.delete(i)})),(0,dr.jsx)(p,u(u({},{[f]:""}),{},{ref:l,children:a}))});return m.displayName=h,[{Provider:i,Slot:d,ItemSlot:m},function(t){const n=o(e+"CollectionConsumer",t);return r.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(f,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},a]}("Toast"),[Nd,Cd]=No("Toast",[Ed]),[Td,Rd]=Nd(_d),Od=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=r.useState(null),[u,d]=r.useState(0),h=r.useRef(!1),f=r.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(_d,"`. Expected non-empty `string`.")),(0,dr.jsx)(Sd.Provider,{scope:t,children:(0,dr.jsx)(Td,{scope:t,label:n,duration:a,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:r.useCallback(()=>d(e=>e+1),[]),onToastRemove:r.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};Od.displayName=_d;var Pd="ToastViewport",Ad=["F8"],Dd="toast.viewportPause",Id="toast.viewportResume",Ld=r.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=Ad,label:s="Notifications ({hotkey})"}=e,o=kr(e,fd),i=Rd(Pd,n),l=jd(n),c=r.useRef(null),d=r.useRef(null),h=r.useRef(null),f=r.useRef(null),p=So(t,f,i.onViewportChange),m=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;r.useEffect(()=>{const e=e=>{var t;const n=0!==a.length&&a.every(t=>e[t]||e.code===t);n&&(null===(t=f.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),r.useEffect(()=>{const e=c.current,t=f.current;if(v&&e&&t){const n=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(Dd);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},r=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(Id);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",a),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[v,i.isClosePausedRef]);const g=r.useCallback(e=>{let{tabbingDirection:t}=e;const n=l().map(e=>{const n=e.ref.current,r=[n,...th(n)];return"forwards"===t?r:r.reverse()});return("forwards"===t?n.reverse():n).flat()},[l]);return r.useEffect(()=>{const e=f.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,o=t.shiftKey;var r;if(t.target===e&&o)return void(null===(r=d.current)||void 0===r||r.focus());const i=g({tabbingDirection:o?"backwards":"forwards"}),l=i.findIndex(e=>e===n);var a,s;if(nh(i.slice(l+1)))t.preventDefault();else o?null===(a=d.current)||void 0===a||a.focus():null===(s=h.current)||void 0===s||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[l,g]),(0,dr.jsxs)(Ii,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,dr.jsx)(zd,{ref:d,onFocusFromOutsideViewport:()=>{nh(g({tabbingDirection:"forwards"}))}}),(0,dr.jsx)(Sd.Slot,{scope:n,children:(0,dr.jsx)(qo.ol,u(u({tabIndex:-1},o),{},{ref:p}))}),v&&(0,dr.jsx)(zd,{ref:h,onFocusFromOutsideViewport:()=>{nh(g({tabbingDirection:"backwards"}))}})]})});Ld.displayName=Pd;var Md="ToastFocusProxy",zd=r.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r}=e,a=kr(e,pd),s=Rd(Md,n);return(0,dr.jsx)(hd,u(u({tabIndex:0},a),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null!==(t=s.viewport)&&void 0!==t&&t.contains(n))&&r()}}))});zd.displayName=Md;var Ud="Toast",Fd=r.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:s}=e,o=kr(e,md),[i,l]=Po({prop:r,defaultProp:null===a||void 0===a||a,onChange:s,caller:Ud});return(0,dr.jsx)(Ao,{present:n||i,children:(0,dr.jsx)(Wd,u(u({open:i},o),{},{ref:t,onClose:()=>l(!1),onPause:_i(e.onPause),onResume:_i(e.onResume),onSwipeStart:To(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:To(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(n,"px"))}),onSwipeCancel:To(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:To(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(n,"px")),l(!1)})}))})});Fd.displayName=Ud;var[Bd,qd]=Nd(Ud,{onClose(){}}),Wd=r.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m}=e,v=kr(e,vd),g=Rd(Ud,n),[y,b]=r.useState(null),w=So(t,e=>b(e)),x=r.useRef(null),k=r.useRef(null),_=s||g.duration,S=r.useRef(0),j=r.useRef(_),E=r.useRef(0),{onToastAdd:N,onToastRemove:C}=g,T=_i(()=>{var e;(null===y||void 0===y?void 0:y.contains(document.activeElement))&&(null===(e=g.viewport)||void 0===e||e.focus()),i()}),R=r.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(E.current),S.current=(new Date).getTime(),E.current=window.setTimeout(T,e))},[T]);r.useEffect(()=>{const e=g.viewport;if(e){const t=()=>{R(j.current),null===d||void 0===d||d()},n=()=>{const e=(new Date).getTime()-S.current;j.current=j.current-e,window.clearTimeout(E.current),null===c||void 0===c||c()};return e.addEventListener(Dd,n),e.addEventListener(Id,t),()=>{e.removeEventListener(Dd,n),e.removeEventListener(Id,t)}}},[g.viewport,_,c,d,R]),r.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(_)},[o,_,g.isClosePausedRef,R]),r.useEffect(()=>(N(),()=>C()),[N,C]);const O=r.useMemo(()=>y?Xd(y):null,[y]);return g.viewport?(0,dr.jsxs)(dr.Fragment,{children:[O&&(0,dr.jsx)(Kd,{__scopeToast:n,role:"status","aria-live":"foreground"===a?"assertive":"polite",children:O}),(0,dr.jsx)(Bd,{scope:n,onClose:T,children:_r.createPortal((0,dr.jsx)(Sd.ItemSlot,{scope:n,children:(0,dr.jsx)(Di,{asChild:!0,onEscapeKeyDown:To(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,dr.jsx)(qo.li,u(u({tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},v),{},{ref:w,style:u({userSelect:"none",touchAction:"none"},e.style),onKeyDown:To(e.onKeyDown,e=>{"Escape"===e.key&&(null===l||void 0===l||l(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:To(e.onPointerDown,e=>{0===e.button&&(x.current={x:e.clientX,y:e.clientY})}),onPointerMove:To(e.onPointerMove,e=>{if(!x.current)return;const t=e.clientX-x.current.x,n=e.clientY-x.current.y,r=Boolean(k.current),a=["left","right"].includes(g.swipeDirection),s=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,o=a?s(0,t):0,i=a?0:s(0,n),l="touch"===e.pointerType?10:2,c={x:o,y:i},u={originalEvent:e,delta:c};r?(k.current=c,Zd("toast.swipeMove",f,u,{discrete:!1})):eh(c,g.swipeDirection,l)?(k.current=c,Zd("toast.swipeStart",h,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(x.current=null)}),onPointerUp:To(e.onPointerUp,e=>{const t=k.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),k.current=null,x.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};eh(t,g.swipeDirection,g.swipeThreshold)?Zd("toast.swipeEnd",m,r,{discrete:!0}):Zd("toast.swipeCancel",p,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),g.viewport)})]}):null}),Kd=e=>{const{__scopeToast:t,children:n}=e,a=kr(e,gd),s=Rd(Ud,t),[o,i]=r.useState(!1),[l,c]=r.useState(!1);return function(){const e=_i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});Ro(()=>{let t=0,n=0;return t=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}},[e])}(()=>i(!0)),r.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:(0,dr.jsx)(Ji,{asChild:!0,children:(0,dr.jsx)(hd,u(u({},a),{},{children:o&&(0,dr.jsxs)(dr.Fragment,{children:[s.label," ",n]})}))})},Vd=r.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=kr(e,yd);return(0,dr.jsx)(qo.div,u(u({},r),{},{ref:t}))});Vd.displayName="ToastTitle";var Hd=r.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=kr(e,bd);return(0,dr.jsx)(qo.div,u(u({},r),{},{ref:t}))});Hd.displayName="ToastDescription";var Gd="ToastAction",Jd=r.forwardRef((e,t)=>{const{altText:n}=e,r=kr(e,wd);return n.trim()?(0,dr.jsx)(Qd,{altText:n,asChild:!0,children:(0,dr.jsx)(Yd,u(u({},r),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(Gd,"`. Expected non-empty `string`.")),null)});Jd.displayName=Gd;var $d="ToastClose",Yd=r.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=kr(e,xd),a=qd($d,n);return(0,dr.jsx)(Qd,{asChild:!0,children:(0,dr.jsx)(qo.button,u(u({type:"button"},r),{},{ref:t,onClick:To(e.onClick,a.onClose)}))})});Yd.displayName=$d;var Qd=r.forwardRef((e,t)=>{const{__scopeToast:n,altText:r}=e,a=kr(e,kd);return(0,dr.jsx)(qo.div,u(u({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},a),{},{ref:t}))});function Xd(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Xd(e))}}),t}function Zd(e,t,n,r){let{discrete:a}=r;const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Wo(s,o):s.dispatchEvent(o)}var eh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),a=Math.abs(e.y),s=r>a;return"left"===t||"right"===t?s&&r>n:!s&&a>n};function th(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nh(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var rh=Ld,ah=Fd,sh=Vd,oh=Hd,ih=Jd,lh=Yd;const ch=["className"],uh=["className","variant"],dh=["className"],hh=["className"],fh=["className"],ph=["className"],mh=Od,vh=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,ch);return(0,dr.jsx)(rh,u({ref:t,className:uo("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n)},r))});vh.displayName=rh.displayName;const gh=co("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yh=r.forwardRef((e,t)=>{let{className:n,variant:r}=e,a=kr(e,uh);return(0,dr.jsx)(ah,u({ref:t,className:uo(gh({variant:r}),n)},a))});yh.displayName=ah.displayName;r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,dh);return(0,dr.jsx)(ih,u({ref:t,className:uo("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n)},r))}).displayName=ih.displayName;const bh=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,hh);return(0,dr.jsx)(lh,u(u({ref:t,className:uo("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":""},r),{},{children:(0,dr.jsx)(Jc,{className:"h-4 w-4"})}))});bh.displayName=lh.displayName;const wh=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,fh);return(0,dr.jsx)(sh,u({ref:t,className:uo("text-sm font-semibold",n)},r))});wh.displayName=sh.displayName;const xh=r.forwardRef((e,t)=>{let{className:n}=e,r=kr(e,ph);return(0,dr.jsx)(oh,u({ref:t,className:uo("text-sm opacity-90",n)},r))});xh.displayName=oh.displayName;const kh=["id","title","description","action"];function _h(){const{toasts:e}=ur();return(0,dr.jsxs)(mh,{children:[e.map(function(e){let{id:t,title:n,description:r,action:a}=e,s=kr(e,kh);return(0,dr.jsxs)(yh,u(u({},s),{},{children:[(0,dr.jsxs)("div",{className:"grid gap-1",children:[n&&(0,dr.jsx)(wh,{children:n}),r&&(0,dr.jsx)(xh,{children:r})]}),a,(0,dr.jsx)(bh,{})]}),t)}),(0,dr.jsx)(vh,{})]})}const Sh=u({command:{label:"Command",icon:"\u26a1"},transparency:{label:"Brain",icon:"\ud83e\udde0"},workbench:{label:"Workbench",icon:"\ud83d\udd27"},horizon:{label:"Horizon",icon:"\ud83d\udd2d"},calendar:{label:"Calendar",icon:"\ud83d\udcc5"},"pa-inbox":{label:"PA Inbox",icon:"\ud83d\udce5"}},"localhost"===window.location.hostname&&{"golden-demo":{label:"Golden",icon:"\u2728"}});function jh(){return new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Nicosia"})).getHours()}const Eh=function(){const[e,t]=(0,r.useState)(()=>new URLSearchParams(window.location.search).get("mode")||"command"),[n,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{document.body.classList.remove("dark-mode"),document.body.classList.add("light-mode")},[]),(0,r.useEffect)(()=>{const e=()=>{jh()>=21&&!s&&!n&&a(!0)};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[s,n]),(0,r.useEffect)(()=>{const e=()=>{const e=new URLSearchParams(window.location.search);t(e.get("mode")||"command")};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),(0,dr.jsxs)("div",{className:"app",children:[(()=>{switch(e){case"transparency":return(0,dr.jsx)(xr,{});case"workbench":return(0,dr.jsx)(Nu,{});case"horizon":return(0,dr.jsx)(Au,{});case"calendar":return(0,dr.jsx)(Mu,{});case"pa-inbox":return(0,dr.jsx)(zu,{});case"golden-demo":return(0,dr.jsx)($u,{});default:return(0,dr.jsx)(br,{})}})(),(0,dr.jsx)("nav",{className:"mode-switcher",children:Object.entries(Sh).map(n=>{let[r,{label:a,icon:s}]=n;return(0,dr.jsxs)("button",{className:"mode-btn ".concat(e===r?"mode-active":""),onClick:()=>(e=>{t(e);const n=new URL(window.location);"command"===e?n.searchParams.delete("mode"):n.searchParams.set("mode",e),window.history.pushState({},"",n)})(r),children:[(0,dr.jsx)("span",{className:"mode-icon",children:s}),(0,dr.jsx)("span",{className:"mode-label",children:a})]},r)})}),jh()>=21&&!n&&(0,dr.jsx)("button",{className:"day-close-trigger",onClick:()=>a(!0),title:"Day Close",children:"\ud83c\udf19"}),n&&(0,dr.jsx)(Fu,{onClose:()=>{a(!1),o(!0)}}),(0,dr.jsx)(_h,{})]})};s.createRoot(document.getElementById("root")).render((0,dr.jsx)(r.StrictMode,{children:(0,dr.jsx)(Eh,{})}))})();
//# sourceMappingURL=main.b620b09f.js.map